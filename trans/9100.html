<html>
<head>
<title>Bash Series : Bulk Renaming in Linux</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Bash系列:Linux中的批量重命名</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/bash-series-bulk-renaming-in-linux-9cad3da34d1c?source=collection_archive---------17-----------------------#2021-01-31">https://medium.datadriveninvestor.com/bash-series-bulk-renaming-in-linux-9cad3da34d1c?source=collection_archive---------17-----------------------#2021-01-31</a></blockquote><div><div class="fc ii ij ik il im"/><div class="in io ip iq ir"><div class=""/><p id="ab7f" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在现代发行版中，有几个工具可以帮助你重命名文件，但是这个脚本不需要任何额外的库/工具。</p><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div class="gi gj kp"><img src="../Images/5c14cdc3c7fb6acfe0734c662389da94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*LG0pX1_RKKcdG2_FywOKZA.jpeg"/></div><figcaption class="kx ky gk gi gj kz la bd b be z dk">Photo by <a class="ae lb" href="https://unsplash.com/@sapegin?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Artem Sapegin</a> on <a class="ae lb" href="https://unsplash.com/s/photos/bash-script?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div class="gi gj lc"><img src="../Images/d0d74b9bb892673b3e278dfb6c711935.png" data-original-src="https://miro.medium.com/v2/resize:fit:668/format:webp/1*1hk4_Xz8PUJNP2GUPj4Oag.png"/></div><figcaption class="kx ky gk gi gj kz la bd b be z dk">List of files</figcaption></figure><p id="20b4" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">如何将文件的“旧”部分重命名为“新”</p><p id="6c4f" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><strong class="jt iv">批量重命名Bash中的文件部分</strong></p><pre class="kq kr ks kt gu ld le lf lg aw lh bi"><span id="f862" class="li lj iu le b gz lk ll l lm ln">for file in *.csv; do <br/>    mv "$file" "$(echo "$file" | sed s/old/new/)";<br/>done</span></pre><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div class="gi gj lo"><img src="../Images/09570a3e0f06bfb45cafe1a4f5ce6a27.png" data-original-src="https://miro.medium.com/v2/resize:fit:566/format:webp/1*7Nir9w6Y0bvvaa7piEHBMw.png"/></div><figcaption class="kx ky gk gi gj kz la bd b be z dk">List of files after renaming</figcaption></figure><p id="891c" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><strong class="jt iv">Bash中的批量重命名扩展</strong></p><p id="0b14" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><strong class="jt iv">方法一</strong></p><pre class="kq kr ks kt gu ld le lf lg aw lh bi"><span id="112f" class="li lj iu le b gz lk ll l lm ln">for file in *.csv; do <br/>    mv "$file" "$(echo "$file" | sed s/.csv/.txt/)";<br/>done</span></pre><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div class="gi gj lp"><img src="../Images/314822909719db145cf446cbc11bd1df.png" data-original-src="https://miro.medium.com/v2/resize:fit:550/format:webp/1*kC-UpSFFk4Uu6rswtUVM0A.png"/></div><figcaption class="kx ky gk gi gj kz la bd b be z dk">List of files with new extension</figcaption></figure><p id="3529" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated"><strong class="jt iv">方法二</strong></p><p id="387d" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">这是为了演示条件重命名是否必须基于文件名或其他什么来完成。</p><p id="4d61" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">在开始这个例子之前，让我们快速看一下一些文件处理的基础知识</p><pre class="kq kr ks kt gu ld le lf lg aw lh bi"><span id="2078" class="li lj iu le b gz lk ll l lm ln">file="/home/hello.txt"</span><span id="266e" class="li lj iu le b gz lq ll l lm ln">echo "given filename : ${file}"</span><span id="c879" class="li lj iu le b gz lq ll l lm ln">pathOnly=$(dirname "${file}")</span><span id="6dd1" class="li lj iu le b gz lq ll l lm ln">echo "displaying path only : ${pathOnly}"</span><span id="a7bb" class="li lj iu le b gz lq ll l lm ln">fileName=$(basename "${file}")</span><span id="7f1b" class="li lj iu le b gz lq ll l lm ln">echo "displaying filename ${fileName}"</span><span id="d66f" class="li lj iu le b gz lq ll l lm ln">fileNameOnly=${fileName%.*}</span><span id="8cb3" class="li lj iu le b gz lq ll l lm ln">echo "displaying filename without extension ${fileNameOnly}"</span><span id="2702" class="li lj iu le b gz lq ll l lm ln">fileNameLength=${#fileNameOnly}</span><span id="58f1" class="li lj iu le b gz lq ll l lm ln">echo "length: ${fileNameLength}"</span></pre><p id="27ce" class="pw-post-body-paragraph jr js iu jt b ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko in bi translated">如果文件名长度大于或等于10，则重命名，否则保持不变。</p><pre class="kq kr ks kt gu ld le lf lg aw lh bi"><span id="19b3" class="li lj iu le b gz lk ll l lm ln">for file in *.txt; do <br/>    <br/>    pathOnly=$(dirname "${file}")<br/>    <br/>    fileName=$(basename "${file}")<br/>    <br/>    fileNameOnly=${fileName%.*}<br/>    <br/>    fileNameLength=${#fileNameOnly}<br/>    <br/>    echo ${pathOnly}, ${filenameOnly}, ${fileLength}<br/>    <br/>    if [ ${fileNameLength} -ge 10 ]; then<br/>        mv "$file" "${pathOnly}/${fileNameOnly}.log"<br/>    fi<br/>done</span></pre><figure class="kq kr ks kt gu ku gi gj paragraph-image"><div class="gi gj lr"><img src="../Images/1b796c823b90042f740e8e40911eba61.png" data-original-src="https://miro.medium.com/v2/resize:fit:608/format:webp/1*1eELXbAF0vraIcZRQ2ggIg.png"/></div><figcaption class="kx ky gk gi gj kz la bd b be z dk">Conditional rename</figcaption></figure></div></div>    
</body>
</html>