<html>
<head>
<title>TradingBot Series — separate Setup and Trade Management Bots</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">TradingBot系列—独立的设置和交易管理机器人</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/tradingbot-series-one-architecture-to-try-aabde70102b0?source=collection_archive---------2-----------------------#2021-02-12">https://medium.datadriveninvestor.com/tradingbot-series-one-architecture-to-try-aabde70102b0?source=collection_archive---------2-----------------------#2021-02-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><blockquote class="jq jr js"><p id="2c92" class="jt ju jv jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr im bi translated">前一段时间，我们讨论了一个交易机器人的架构。在这篇文章中，我们将更详细地介绍这个机器人的体系结构，以及为什么你想把你的设置机器人和你的交易管理机器人分开。</p></blockquote><h1 id="f4bc" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">安装机器人</h1><p id="c256" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated">首先，快速定义一下<strong class="jw iu">设置</strong>的含义:</p><blockquote class="ly"><p id="a841" class="lz ma it bd mb mc md me mf mg mh kr dk translated">一套系统是一套市场环境，触发器和数据模式，它们一起告诉我们应该交易。这可能是一个长期或短期的交易。</p><p id="fd3f" class="lz ma it bd mb mc md me mf mg mh kr dk translated">对于技术分析交易，设置算法可能会在烛台数据上寻找某种指标组合。</p><p id="5e07" class="lz ma it bd mb mc md me mf mg mh kr dk translated">对于基本面分析交易，它可能是寻找股票基本面数据的触发因素和模式。</p><p id="4b4c" class="lz ma it bd mb mc md me mf mg mh kr dk translated">当一个设置被触发时，我们说该设置被“确认”。</p></blockquote><h2 id="bc2a" class="mi kt it bd ku mj mk dn ky ml mm dp lc ls mn mo lg lu mp mq lk lw mr ms lo mt bi translated">专注于一项工作</h2><p id="35f4" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated">为了使安装机器人更容易构建、测试和信任，如果它尽可能简单会有所帮助。</p><p id="be41" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">在这个设置中，设置机器人一次只为一个市场运行它的算法。它不处理任何数据获取。它本身不做任何交易。这些由系统的其他部分处理。</p><p id="368a" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">它只是说一个设置是否被确认。</p><figure class="mv mw mx my gt mz gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi mu"><img src="../Images/f6780ee932966d850e1b1412c0003475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8UE1TWiVQPOoAagQdXiCEA.png"/></div></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk">A ‘Setup’ class for running your algo</figcaption></figure><p id="6da7" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">这种方法的好处:</p><ul class=""><li id="8994" class="nk nl it jw b jx jy kb kc ls nm lu nn lw no kr np nq nr ns bi translated">寻找和优化好的设置算法可以说是最困难的部分，所以它有助于保持这部分代码的重点和简单</li><li id="c201" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr np nq nr ns bi translated">测试更简单</li><li id="bb7c" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr np nq nr ns bi translated">相同的设置类可用于开发、回溯测试和实时运行，因此您知道您在开发和生产中使用的是相同的算法。</li></ul><h1 id="2323" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">贸易管理机器人</h1><p id="e802" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated"><strong class="jw iu">贸易管理</strong>的外部定义:</p><blockquote class="ly"><p id="1e33" class="lz ma it bd mb mc md me mf mg mh kr dk translated">交易管理是一套一旦设置被确认后用于管理交易的规则。这些规则包括明确的进场价格、出场、止损和其他各种触发因素。</p><p id="c609" class="lz ma it bd mb mc md me mf mg mh kr dk translated">交易管理机器人根据规则自己运行交易，没有任何人工干预。</p></blockquote><h2 id="290d" class="mi kt it bd ku mj mk dn ky ml mm dp lc ls mn mo lg lu mp mq lk lw mr ms lo mt bi translated">做好一项工作</h2><p id="3c17" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated">在我们的设置中，交易管理机器人只处理一项资产的实时交易。</p><p id="0d72" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">确认设置后，将为该市场创建一个交易管理机器人实例，该实例具有自己特定的交易参数，如进场价格和止损价格。</p><p id="de98" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">交易管理机器人纯粹是为了管理它而存在的，一旦交易完成，交易管理机器人的实例就结束并被销毁。</p><p id="0715" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">如果是实时交易，重要的是交易管理机器人对任何问题、崩溃或服务器重启(这种情况时有发生)都具有鲁棒性。为了做到这一点，所有的交易管理机器人都被持久保存在一个简单的数据库中。</p><figure class="mv mw mx my gt mz gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi ny"><img src="../Images/814e27b2373c17bd7375433f6e81cf94.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hop4yS7k6_MCBayBGdhV0w.png"/></div></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk">‘Trader’ — a Trade Management Bot setup</figcaption></figure><p id="6281" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">这种方法的好处:</p><ul class=""><li id="9f62" class="nk nl it jw b jx jy kb kc ls nm lu nn lw no kr np nq nr ns bi translated">使用一个消除所有人为干扰的交易管理机器人可以非常有助于消除交易中的情绪</li><li id="e26c" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr np nq nr ns bi translated">错误在这里是至关重要的，因为如果交易管理机器人出现错误，并发布错误的交易，您可能会损失大量资金</li><li id="bd6d" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr np nq nr ns bi translated">安全变得非常重要，如果你是现场交易，因为你需要现场交易密钥。交易管理机器人可以放在非常安全的地方，关闭所有的输入端口，以减少攻击的可能性。</li></ul><h1 id="30ac" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">拼图的其他部分</h1><p id="7cf6" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated">一个完整的实时交易机器人还需要交易机器人设置的其他部分。其中包括:</p><ol class=""><li id="956e" class="nk nl it jw b jx jy kb kc ls nm lu nn lw no kr nz nq nr ns bi translated">一个<strong class="jw iu">数据提取器</strong>为特定市场寻找并解析最新数据，并将其输入到<strong class="jw iu">设置</strong>机器人中。</li><li id="a505" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr nz nq nr ns bi translated">一个<strong class="jw iu">调度器</strong>，当我们想为每个有新数据的市场运行安装程序时，它会为每个市场启动一项新的工作</li><li id="1bdc" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr nz nq nr ns bi translated">一个<strong class="jw iu">交易启动器</strong>在确认设置后采取行动，并启动一个新的交易管理机器人</li><li id="6024" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr nz nq nr ns bi translated">各种<strong class="jw iu">监控</strong>和<strong class="jw iu">错误跟踪</strong>实用程序，以确保各种部件都启动并运行</li></ol><p id="8748" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">除了发展，您还需要:</p><ul class=""><li id="bf5f" class="nk nl it jw b jx jy kb kc ls nm lu nn lw no kr np nq nr ns bi translated">一个<strong class="jw iu">回溯测试器</strong>模块，使您能够针对许多市场和时间段运行您的设置。</li><li id="472b" class="nk nl it jw b jx nt kb nu ls nv lu nw lw nx kr np nq nr ns bi translated">一个<strong class="jw iu">工作台环境</strong>，在这里你可以快速调整你的设置和交易管理计划，找到运行良好和回溯测试良好的组合。我们发现Jupyter笔记本对我们的工作台非常有用。</li></ul><h1 id="a93c" class="ks kt it bd ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp bi translated">把所有的放在一起</h1><p id="38ab" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated">在我们的这个版本的机器人中，架构在两方面明显分开，即<strong class="jw iu">设置</strong>方面和<strong class="jw iu">交易</strong>方面。</p><figure class="mv mw mx my gt mz gh gi paragraph-image"><div role="button" tabindex="0" class="na nb di nc bf nd"><div class="gh gi oa"><img src="../Images/3c0b37ff256f18c5e7bafa40a1a8811d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C9Fo0KIh3ZPT-OT9mWzK2Q.png"/></div></div><figcaption class="ng nh gj gh gi ni nj bd b be z dk">Separation between the two sides — Setups and Trading</figcaption></figure><h2 id="3b15" class="mi kt it bd ku mj ob dn ky ml oc dp lc ls od mo lg lu oe mq lk lw of ms lo mt bi translated">设置端—批量运行，寻找交易</h2><p id="0981" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated"><strong class="jw iu">设置</strong>端完成所有的公开市场扫描，并按批处理时间表运行。当新数据可用时，它会寻找新数据，并为我们包括所有市场在内的每项资产创建一个设置扫描作业。</p><p id="194a" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">有几分钟，它变得非常繁忙，因为它曲柄通过所有的工作寻找设置。</p><p id="9032" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">当找到一个确认的设置时，机器人不会自己进行交易，而是在数据库中创建一个交易者，这样交易方以后就可以拿起它进行实时交易。</p><h2 id="d401" class="mi kt it bd ku mj ob dn ky ml oc dp lc ls od mo lg lu oe mq lk lw of ms lo mt bi translated">交易方—持续运行，管理交易</h2><p id="94a4" class="pw-post-body-paragraph jt ju it jw b jx lq jz ka kb lr kd ke ls lt kh ki lu lv kl km lw lx kp kq kr im bi translated"><strong class="jw iu">交易方</strong>运行上述的交易管理交易机器人。</p><p id="73ac" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">当一个新的交易者出现在数据库中时，它会识别出来并采取行动。</p><p id="d0ec" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">这样，如果其中一个交易机器人崩溃或重启，交易方也能设法恢复。灾难恢复在这里测试非常重要。</p></div><div class="ab cl og oh hx oi" role="separator"><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol om"/><span class="oj bw bk ok ol"/></div><div class="im in io ip iq"><p id="ad26" class="pw-post-body-paragraph jt ju it jw b jx jy jz ka kb kc kd ke ls kg kh ki lu kk kl km lw ko kp kq kr im bi translated">这是一篇关于算法交易机器人的一种架构的自以为是的文章。还有许多其他有效的方法。</p></div></div>    
</body>
</html>