<html>
<head>
<title>Word on the street is…DeFi</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">街上的传言是…DeFi</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/word-on-the-street-is-defi-90fd9e847e63?source=collection_archive---------16-----------------------#2021-02-02">https://medium.datadriveninvestor.com/word-on-the-street-is-defi-90fd9e847e63?source=collection_archive---------16-----------------------#2021-02-02</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="ae7f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">跟踪世界各地对加密、区块链和DeFi的看法</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/77b5b9ba656ac1230c0c175382cfa0b5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OAYXfuhninZcmz1vgWc-uA.png"/></div></div></figure><p id="6c06" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">简介:</p><p id="b4ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在这篇文章中，我们将找到比特币、加密货币和分散金融领域最受关注的话题。</p><p id="b07e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">正如你们许多人所知，金融世界正在发生变化，众所周知，疫情加速了这种变化。作为一名千禧一代，我生活的大部分时间都在手机上度过，像我们许多人一样，我们的个人生活也在网上进行。但这是一个独特的时期，因为我们不必等待世界其他地区赶上来。现在，包括企业在内的每个人都在网上，被迫使用技术来运作。想想看…整个世界，在同一页上…疯狂！</p><p id="dfee" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">对于那些关注上周GME、AMC、BB和许多其他公司资金短缺的人来说。您知道，这只是迈向更透明、更值得信赖的市场的冰山一角…进入DeFI！</p><p id="a942" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">目录:</p><ul class=""><li id="f813" class="la lb it js b jt ju jx jy kb lc kf ld kj le kn lf lg lh li bi translated">获取新文章</li><li id="1581" class="la lb it js b jt lj jx lk kb ll kf lm kj ln kn lf lg lh li bi translated">创建情感分数</li><li id="fafe" class="la lb it js b jt lj jx lk kb ll kf lm kj ln kn lf lg lh li bi translated">标记/删除停用词</li><li id="6650" class="la lb it js b jt lj jx lk kb ll kf lm kj ln kn lf lg lh li bi translated">N-grams，热门词汇</li><li id="424c" class="la lb it js b jt lj jx lk kb ll kf lm kj ln kn lf lg lh li bi translated">单词云</li></ul><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="f6c4" class="lt lu it lp b gy lv lw l lx ly">import os<br/>import pandas as pd<br/>%matplotlib inline<br/>import nltk<br/>nltk.download('vader_lexicon')</span><span id="555a" class="lt lu it lp b gy lz lw l lx ly">from nltk.sentiment.vader import SentimentIntensityAnalyzer<br/>analyzer = SentimentIntensityAnalyzer()</span></pre><p id="a718" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果不按照列出的顺序导入库，python将会产生一个错误。此外，如果您没有设置环境变量，您将需要对NEWS_API_KEY进行硬编码</p><ul class=""><li id="2265" class="la lb it js b jt ju jx jy kb lc kf ld kj le kn lf lg lh li bi translated"><a class="ae ma" href="https://newsapi.org/" rel="noopener ugc nofollow" target="_blank">https://newsapi.org/</a></li></ul><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="03e5" class="lt lu it lp b gy lv lw l lx ly"># Read your api key environment variable<br/>api_key = os.getenv("news_api")<br/>OR<br/>api_key = 'YOUR_API_KEY'</span><span id="674d" class="lt lu it lp b gy lz lw l lx ly"><br/># Create a newsapi client<br/>from newsapi import NewsApiClient</span><span id="5008" class="lt lu it lp b gy lz lw l lx ly">newsapi = NewsApiClient(api_key=api_key)</span></pre><p id="433b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">获取新闻感悟:<strong class="js iu">比特币&amp; UniSwap </strong></p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="4cdd" class="lt lu it lp b gy lv lw l lx ly"># Fetch the Bitcoin news articles<br/>btc_headlines = newsapi.get_everything(<br/>    q="bitcoin",<br/>    language="en",<br/>    sort_by="relevancy"<br/>)</span><span id="eafd" class="lt lu it lp b gy lz lw l lx ly"># Fetch the Ethereum news articles<br/>swap_headlines = newsapi.get_everything(<br/>    q="uniswap",<br/>    language="en",<br/>    sort_by="relevancy"<br/>)</span></pre><p id="35d7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">创建情感分数:</p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="a925" class="lt lu it lp b gy lv lw l lx ly"># Create the Bitcoin sentiment scores DataFrame<br/>sentiments = []</span><span id="dfff" class="lt lu it lp b gy lz lw l lx ly">for articles in btc_headlines["articles"]:<br/>    try:<br/>        text = articles["content"]<br/>        results = analyzer.polarity_scores(text)<br/>        compound = results["compound"]<br/>        pos = results["pos"]<br/>        neu = results["neu"]<br/>        neg = results["neg"]</span><span id="5fff" class="lt lu it lp b gy lz lw l lx ly">sentiments.append({<br/>            "text": text,<br/>            "Compound": compound,<br/>            "Positive": pos,<br/>            "Negative": neg,<br/>            "Neutral": neu,<br/>        })<br/>    except AttributeError:<br/>        pass<br/>    <br/>btc  = pd.DataFrame(sentiments)<br/>btc.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mb"><img src="../Images/42445d78d0574035280248cdc10fd011.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mG9ULxJY3cvi__RE6rgbuQ.png"/></div></div></figure><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="4ce7" class="lt lu it lp b gy lv lw l lx ly"># Create the UniSwap sentiment scores DataFrame<br/>sentiments = []</span><span id="3053" class="lt lu it lp b gy lz lw l lx ly">for articles in swap_headlines["articles"]:<br/>    try:<br/>        text = articles["content"]<br/>        results = analyzer.polarity_scores(text)<br/>        compound = results["compound"]<br/>        pos = results["pos"]<br/>        neu = results["neu"]<br/>        neg = results["neg"]</span><span id="534b" class="lt lu it lp b gy lz lw l lx ly">sentiments.append({<br/>            "text": text,<br/>            "Compound": compound,<br/>            "Positive": pos,<br/>            "Negative": neg,<br/>            "Neutral": neu,<br/>        })<br/>    except AttributeError:<br/>        pass<br/>    <br/>swap  = pd.DataFrame(sentiments)<br/>swap.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mc"><img src="../Images/6463630fb36f3d2c08aab6d404f68307.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_BIqr8G9RkLYdE3eviGgdw.png"/></div></div></figure><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="7132" class="lt lu it lp b gy lv lw l lx ly"># Describe the Bitcoin Sentiment<br/>btc.describe()</span><span id="6bb3" class="lt lu it lp b gy lz lw l lx ly">swap.describe()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi md"><img src="../Images/8c37f12eb977b286da7fa0495a5006a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8lNEAt4cIWUv-gt_Eok5qw.png"/></div></div></figure><p id="248a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">标记器:</p><p id="9e02" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在本节中，您将使用NLTK和Python来标记每个硬币的文本。</p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="3c80" class="lt lu it lp b gy lv lw l lx ly">from nltk.tokenize import word_tokenize, sent_tokenize<br/>from nltk.corpus import stopwords<br/>from nltk.stem import WordNetLemmatizer, PorterStemmer<br/>from string import punctuation<br/>import re</span></pre><p id="7c99" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要删除的单词(停用单词)</p><ul class=""><li id="5e3c" class="la lb it js b jt ju jx jy kb lc kf ld kj le kn lf lg lh li bi translated">这一步需要一些技巧，你可能无法删除一些单词，但可以尝试一下，看看你能做什么。</li></ul><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="4ed3" class="lt lu it lp b gy lv lw l lx ly">wnl = WordNetLemmatizer() <br/>stop = stopwords.words('english')<br/>stop.append("chars")<br/>stop.append(" chars")<br/>stop.append("chars ")<br/>stop.append("u")<br/>stop.append("it'")<br/>stop.append("'s")<br/>stop.append("n't")<br/>stop.append('…')<br/>stop.append("\`")<br/>stop.append('``')<br/>stop.append(" Chars")<br/>stop.append("Chars")<br/>stop.append("Chars ")<br/>stop.append(" Chars ")<br/>stop.append("''")<br/>stop = set(stop)</span></pre><p id="fd3f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们将创建一个函数来标记和删除上面列出的单词。标记化将输入文本转换成标记流，其中每个标记是单独的单词、标点符号、数字/数量、日期、电子邮件、URL等。</p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="f131" class="lt lu it lp b gy lv lw l lx ly">def tokenizer(text):<br/>    """Tokenizes text."""<br/>    <br/>    # Create a list of the words<br/>    words = word_tokenize(text)</span><span id="caab" class="lt lu it lp b gy lz lw l lx ly"># Convert the words to lowercase<br/>    words = list(filter(lambda w: w.lower(), words))<br/>    <br/>    # Remove the punctuation<br/>    words = list(filter(lambda t: t not in punctuation, words))<br/>    <br/>    # Remove the stopwords<br/>    words = list(filter(lambda t: t.lower() not in stop, words))<br/>    <br/>    # Lemmatize Words into root words<br/>    tokens = [wnl.lemmatize(word) for word in words]<br/>    <br/>    return tokens</span></pre><p id="6e0c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">打印令牌列和数据帧:</p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="8068" class="lt lu it lp b gy lv lw l lx ly">btc["tokens"] = btc.text.apply(tokenizer)<br/>btc.head()</span><span id="5d70" class="lt lu it lp b gy lz lw l lx ly">swap["tokens"] = swap.text.apply(tokenizer)<br/>swap.head()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi me"><img src="../Images/b85b59e63b33e2a2bda5415f415e5a16.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1wlKvuCNK3jftLumqSo7dw.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mf"><img src="../Images/524d553d532301a3bd670324267c0053.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYCzLj8_x4IowD377yeCcA.png"/></div></div></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi md"><img src="../Images/fc861f3a8521f600757aacf912481b6c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*90zhy0hoh4h2y8pgfCe_ww.png"/></div></div></figure><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="ca9a" class="lt lu it lp b gy lv lw l lx ly">from collections import Counter<br/>from nltk import ngrams</span></pre><p id="3d1d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">N-grams和频率分析:</p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="c4e5" class="lt lu it lp b gy lv lw l lx ly">N = 2<br/>grams = ngrams(tokenizer(btc.text.str.cat()), N)<br/>Counter(grams).most_common(20)</span><span id="a7c6" class="lt lu it lp b gy lz lw l lx ly">N = 2<br/>grams = ngrams(tokenizer(swap.text.str.cat()), N)<br/>Counter(grams).most_common(20)</span></pre><p id="7625" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">十大热门词汇:</strong></p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="0cb9" class="lt lu it lp b gy lv lw l lx ly">def token_count(tokens, N=3):<br/>    """Returns the top N tokens from the frequency count"""<br/>    return Counter(tokens).most_common(N)</span><span id="4740" class="lt lu it lp b gy lz lw l lx ly"># Get the top 10 words - Bitcoin<br/>all_tokens = tokenizer(btc.text.str.cat())<br/>token_count(all_tokens, 10)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/70792ef0ea0b47dc799c799674a6d10f.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*C-CfE9C2NNnCPfWe-E4XTw.png"/></div></figure><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="d011" class="lt lu it lp b gy lv lw l lx ly"># Get the top 10 words - UniSwap<br/>all_tokens = tokenizer(swap.text.str.cat())<br/>token_count(all_tokens, 10)</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mg"><img src="../Images/50784b13642793ae2a973bef5c565626.png" data-original-src="https://miro.medium.com/v2/resize:fit:756/format:webp/1*PwqN7rOsvCoIAZMNsIeMEA.png"/></div></figure><p id="5d32" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">字云:</strong></p><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="04c3" class="lt lu it lp b gy lv lw l lx ly">from wordcloud import WordCloud<br/>import matplotlib.pyplot as plt<br/>plt.style.use('seaborn-whitegrid')<br/>import matplotlib as mpl<br/>mpl.rcParams['figure.figsize'] = [20.0, 10.0]</span><span id="35bb" class="lt lu it lp b gy lz lw l lx ly">def wordcloud(text, title=""):<br/>    df_cloud = WordCloud(width=500, colormap='RdYlBu').generate(text)<br/>    plt.imshow(df_cloud)<br/>    plt.axis("off")<br/>    fontdict = {"fontsize": 48, "fontweight" : "bold"}<br/>    plt.title(title, fontdict=fontdict)<br/>    plt.show()</span><span id="2fc2" class="lt lu it lp b gy lz lw l lx ly">wordcloud(btc.text.str.cat(), title="Bitcoin Word Cloud")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mh"><img src="../Images/c2b9fc97f9f8f5acf97ea68df80332e6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TIVipCqAvy6oHV0QUPO1IQ.png"/></div></div></figure><pre class="kp kq kr ks gt lo lp lq lr aw ls bi"><span id="98eb" class="lt lu it lp b gy lv lw l lx ly">wordcloud(swap.text.str.cat(), title="UniSwap Word Cloud")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mi"><img src="../Images/bab82f2e7056494c0314edab113a82fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*u8l6AhUZMwbDTRSCtrf-Xw.png"/></div></div></figure><p id="b932" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">感谢阅读！</strong></p><p id="bda7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="mj">如果你觉得这篇文章有用，欢迎在</em><a class="ae ma" href="https://github.com/scottandersen23/Medium_Blog/tree/main/Articles" rel="noopener ugc nofollow" target="_blank"><em class="mj">GitHub</em></a><em class="mj">上下载我的个人代码。你也可以直接在scottandersen23@gmail.com给我发邮件，在</em><a class="ae ma" href="https://www.linkedin.com/in/scott-andersen-3208897b/" rel="noopener ugc nofollow" target="_blank"><em class="mj">LinkedIn</em></a><em class="mj">上找到我。有兴趣了解更多关于数据分析、数据科学和机器学习应用的信息吗？跟我上</em> <a class="ae ma" href="https://medium.com/@scottandersen23" rel="noopener"> <em class="mj">中</em> </a> <em class="mj">。</em></p></div></div>    
</body>
</html>