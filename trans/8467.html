<html>
<head>
<title>The easiest way to rate limit a Flask API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">限制烧瓶API速率的最简单方法</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/rate-limit-a-flask-api-with-2-lines-of-code-c7976fb13436?source=collection_archive---------2-----------------------#2021-01-12">https://medium.datadriveninvestor.com/rate-limit-a-flask-api-with-2-lines-of-code-c7976fb13436?source=collection_archive---------2-----------------------#2021-01-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="9e29" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated"><strong class="ak">添加2行代码</strong></h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/822f472be363a52a0c0ebdec38960852.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C1oVSRaa55PZJDNndNeSQA.png"/></div></div></figure><p id="9b14" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">对API进行速率限制以允许<strong class="kt ir">更好的数据流</strong>和<strong class="kt ir">通过减轻DDoS之类的攻击来提高安全性</strong>被认为是一种好的做法。速率限制将限制在指定时间段内从唯一IP地址发出的请求数量。</p><h1 id="b48c" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">导入库</h1><pre class="kg kh ki kj gt mf mg mh mi aw mj bi"><span id="7e4e" class="mk lo iq mg b gy ml mm l mn mo"><strong class="mg ir">from ratelimit import limits</strong></span></pre><h1 id="e4b9" class="ln lo iq bd lp lq lr ls lt lu lv lw lx jw ly jx lz jz ma ka mb kc mc kd md me bi translated">应用装饰器</h1><pre class="kg kh ki kj gt mf mg mh mi aw mj bi"><span id="5910" class="mk lo iq mg b gy ml mm l mn mo">@app.route(‘/endpoint/’, methods=[‘GET’])<br/><strong class="mg ir">@limits(calls=1, period=1) #max 1 call per second<br/></strong>def respond():</span><span id="4c65" class="mk lo iq mg b gy mp mm l mn mo">    #API code</span></pre><p id="cd6e" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">如果超出限制，将引发以下异常。</p><pre class="kg kh ki kj gt mf mg mh mi aw mj bi"><span id="7958" class="mk lo iq mg b gy ml mm l mn mo">raise RateLimitException(‘too many calls’, period_remaining)</span></pre><p id="be78" class="pw-post-body-paragraph kr ks iq kt b ku kv jr kw kx ky ju kz la lb lc ld le lf lg lh li lj lk ll lm ij bi translated">仅此而已。正如开发人员被教导围绕SQL注入进行编码一样，速率限制是任何API都应该实现的另一个必要措施。</p></div></div>    
</body>
</html>