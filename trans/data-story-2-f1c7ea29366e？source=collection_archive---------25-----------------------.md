# 数据故事 2

> 原文：<https://medium.datadriveninvestor.com/data-story-2-f1c7ea29366e?source=collection_archive---------25----------------------->

## 从可视化数据中推断信息

![](img/37458cbf3016ff20edb73c3de6e31e3a.png)

Photo by [Carlos Muza](https://unsplash.com/@kmuza?utm_source=medium&utm_medium=referral) on [Unsplash](https://unsplash.com?utm_source=medium&utm_medium=referral)

正如在[数据故事 1](https://minasuntea.medium.com/data-story-1-2068def504df) 的最后一部分所宣布的，在这个数据故事中，将讨论关于同一数据集的新立场，即 *FIFA 19 完整球员数据集*。本文采取的立场如下:

> 一个足球运动员的市场价值更多地取决于他所效力的俱乐部，而不是他的实际素质

利用来自大约 18000 名足球运动员的数据，这一立场被各种图表所证明。

## Choropleth 世界地图

首先，使用 Choropleth 世界地图描绘出全球每个国家的市场价值。对于该可视化，使用数据集的*值*列，其中存储了市场价值。然而，为了能够使用这些数据，必须首先对其进行清理，就像[数据故事 1](https://minasuntea.medium.com/data-story-1-2068def504df) 中的*工资*列一样:

![](img/f909d35c802b91fc4ac06fa82519ee8e.png)

现在，每个国家的平均市场价值可以通过将数据框按*国籍*分组来获得:

![](img/a07505297afea757a527c74e1cf5a4dd.png)

接下来，应该定义数据:

![](img/04a453b638caf6d3e2503a8088dc5556.png)

布局应该被描述，其中图形的大小和类型被指定。在此可视化布局中，还定义了所有经度和纬度以及滑块，这些滑块使绘图具有交互性，并使您可以四处移动绘图以查看所有国家:

![](img/71056bc0de9bfbb1e7f021546545b7d6.png)![](img/59e99558033993144b3b4360728d415f.png)

Rotation value specified per longitude value

![](img/f7d46ac3d348c3aaf435f7be439ead80.png)

The rest of the longitudes

![](img/dd01b28518f53c68eab7e664598091f9.png)

Rotation value specified per latitude value

现在，该图可以可视化了:

![](img/705cfe4fc80f9152b98f8b37330e9156.png)

有一些臭名昭著的足球运动员，如内马尔，梅西，罗纳尔多等。他们也都有很高的市值，像内马尔市值 1.185 亿欧元，梅西市值 1.105 亿欧元。现在剩下的问题是，这些高市值是名气的产物还是它们的品质。

Choropleth Worldmap 为这个问题提供了一些背景，因为可以推断出这些玩家来自的国家具有较高的平均市场价值。例如，巴西和阿根廷等国家的平均市值很高。

## 线形图和条形图

为了进一步研究这一立场，我放大了总体评分最高的 10 名荷兰足球运动员。为此，从大数据集中提取了一个小数据帧:

![](img/9497ca862388505935b3d366773e0329.png)

The data set is already sorted on overall rating so sorting is not necessary

现在必须获得*潜在*和*总体*评级，因为这是将被可视化的数据。这两个评分将在折线图中相互比较:

![](img/e74e21e01a5448aa3dfb3c1c9cdb19ff.png)

接下来，必须定义线图的布局，然后才能绘制线图:

![](img/3d2267e7e0bb22360c79494d19c6d44e.png)![](img/ce7c24695d4cd91d8a1ff9c67db7b07b.png)![](img/667a908234ecfb7b63cdfc5d7c1a3394.png)

在上面所示的线形图中，每个足球运动员的*潜力*和*总体*评级相互比较。引人注目的是，当一名足球运动员为顶级俱乐部效力时，他的*潜力*接近更高的评级。

将鼠标悬停在数据点上可以看到足球运动员所在的俱乐部。这些足球运动员的*总体*评分差异不是很大，但*潜力*评分仍然相差很大。*潜力*评级的波动是由俱乐部的不同造成的。

利用相同的数据，绘制了一个柱状图，其中将市场价值与足球运动员的工资进行了比较。为此，使用了由干净数据组成的*新值*和*新工资*列，没有欧元符号、K 和 M。关于*工资*列的清理和*新 _ 工资*列的创建，请看[数据故事 1](https://medium.com/datadriveninvestor/data-story-1-2068def504df) :

这种可视化通过定义数据和布局以与折线图相同的方式构建:

![](img/491fcf74d99a3f13dfdaf8f58cd1b31b.png)![](img/61ce5b9acb99724ad071012b5bb4685c.png)![](img/678c908a1edf554d364330538ccd7dd9.png)![](img/070e9579519f970d1b83fa002a8d4273.png)

这个柱状图进一步支持了这个观点，因为在大多数情况下，工资和市场价值也相差很大。这被认为受足球运动员俱乐部的影响很大。例如，足球运动员 M. de Ligt 的工资是 11000 欧元，但他的市场价值是 2700 万欧元。通过在棒线和线上盘旋，可以得出结论，足球运动员效力的俱乐部越有名，市场价值越高。所以市场价值并不仅仅基于他们的技能。

## 散点图

俱乐部和足球运动员的市场价值之间的相关性通过该散点图进一步可视化。有超过 18000 名足球运动员，所以为了使情节可读性，只有 1000 名最好的球员被用于这个情节。为此，仅使用这 1000 名顶级足球运动员和可视化所需的一些附加特征来创建一个小型数据框架:

![](img/6762a9d393d91c483a9dc2f391b052e6.png)

现在已经提供了数据框架，将执行相同的步骤来形成散点图:

![](img/8f5b7eab0fc4d2d779cd06fff4d34321.png)![](img/7df769124721a25eae5da0a119c9817f.png)![](img/13d0ca166060f944c329f26d9478833d.png)![](img/2ad8a9fe4c69f9c7e2114aa91041678e.png)

上面散点图中的每个数据点都代表了该数据集前 1000 名足球运动员之一。显示的足球俱乐部按照该俱乐部最佳球员的*总体*评分排序。将鼠标悬停在不同的数据点上，相应的俱乐部和市场价值也会显示出来。该图显示了足球俱乐部的知名度和该俱乐部中足球运动员的市场价值之间的正相关关系。

## 气泡图

看一下足球俱乐部的平均总体评分和知名度，我们可以对知名度和市场价值之间的关系有更深入的了解。为了建立一个俱乐部的恶名，使用了*国际声誉*、*总体*和*市场价值*。首先，*的国际声誉*应与*的总体*值一样，换算为 100:

![](img/9933b9e9819008678a668c04aaf9bdc1.png)

现在可以积累必要的数据:

![](img/6860d1b2a493ea3ea714703b9923d4e8.png)

这个数据集中嵌入了超过 600 个足球俱乐部，因此为了使图表可读，所显示的俱乐部是由 x 轴上每个 2.5 的间隔中具有最高和最低市场价值的俱乐部来确定的。这些随后显示在气泡图中。为此，定义了一些辅助变量:

![](img/d1740312b0317b9d99ba5153b67f3a7a.png)

现在我们有了所有必要的信息，可以定义数据和布局，之后可以可视化气泡图:

![](img/a8d6b63c5551ba2f42c41826f3363f87.png)![](img/c409b9b15a02e3d321ba2631f623dfa7.png)![](img/8c0738f2b2ec119721d76d5ac0197164.png)![](img/ac1ae6b1f3e67e56b9210970da44bb44.png)

The size of the bubble represents the notoriety of the club

该图证明了俱乐部的声誉影响俱乐部的市场价值，并且市场价值不是基于足球运动员的纯技术。这里显示了相同大小的泡沫，具有(大约)相同的*总体*评级，但市场价值仍然不同。将鼠标悬停在泡泡上，可以看到每个俱乐部的*总体*评级和市场价值。

## 雷达图

放大两家足球俱乐部*马德里竞技*和*布拉加*，立场得到进一步支持。为了仅可视化重要特征，创建了一个小数据框架，其中仅包含*俱乐部*、*总体*、*潜力*、*市场价值*和*国际声誉*:

![](img/37424e5eae116fb65533c8a394db0788.png)

现在，应该收集来自两个俱乐部的信息:

![](img/b485ad4d2726bbdd008a9ec27794f930.png)

现在唯一要做的就是定义数据和布局，并绘制雷达图:

![](img/4b7d71527fd17abee21bf52ef3348236.png)![](img/3c27c206eba225bff6e58b9ac5f458f9.png)![](img/cf529dba881ca541694bed137d0fbee6.png)![](img/2aa9997edd88763c8e80f8b9b1cf5502.png)

这张雷达图是一个强有力的证据，有助于立场的可信度。各俱乐部的*总体*和*潜力*评级彼此相差不大，但它们的*国际声誉*尤其是它们的市场价值相差很大。这使得*马德里竞技*的足球运动员比 *SC 布拉加*的足球运动员价值高出约 3 倍，而他们的素质几乎相等。

总的来说，这些形象化的确增加了所采取立场的可信度。足球运动员所在的俱乐部比他的个人素质更能影响他的市场价值。因此，恶名昭彰的俱乐部和足球运动员的市场价值始终高于不太恶名昭彰的俱乐部和足球运动员。