<html>
<head>
<title>Why I switched from Excel to Python and how you can too?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">为什么我从Excel转换到Python，你也可以？</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/why-i-switched-from-excel-to-python-ac77304dcc2c?source=collection_archive---------4-----------------------#2021-01-20">https://medium.datadriveninvestor.com/why-i-switched-from-excel-to-python-ac77304dcc2c?source=collection_archive---------4-----------------------#2021-01-20</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6fa5303097133267e5bc77c5acf7ddc5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*iUVKofG-5i8Ff5oa"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@mjessier?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Myriam Jessier</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7591" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在我成年后的大部分时间里，我都在使用<strong class="kf ir"> Excel </strong>进行从本科作业和项目到产品性能指标评估的各种形式的分析，在2020年，我最终决定完成向<strong class="kf ir"> Python </strong>的切换，以提高我的结果的速度和可重复性。</p><p id="10d5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">任何经常使用Excel的人都知道处理大文件有多乏味。那些大文件及其伴随的计算会迫使你强制性地休息，因为在那段时间里你的电脑毫无用处。</p><h2 id="158f" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">一些背景</h2><p id="8cb1" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我加入了<a class="ae kc" href="https://gomoney.medium.com/" rel="noopener"> gomoney </a>来领导战略和分析职能部门(数据和财务),以指导绩效分析和财务分析，并提供战略来帮助实现我们的增长目标。</p><p id="fbed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的目标是确保产品按照商定的基准运行，并足够频繁地测量这些指标，以确保我们灵活运用我们的市场方法。</p><p id="cab3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当时，这包括每天测量以下内容:</p><ul class=""><li id="c694" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated">交易绩效；</li><li id="2efa" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">用户获取性能；</li><li id="2b70" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">谷歌分析信息和指标</li></ul><p id="79d4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在最初的几周，这并不乏味，因为我使用了一台性能不错的计算机，并创建了我认为是“可扩展”的方法。</p><h2 id="041d" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">我的“可扩展”方法:</h2><p id="be23" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这些是我当时认为可扩展的步骤。😂</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/112fcb24b681172077dc63e698ba44e4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*4-8RHciLYBPewOVy2LwayA.gif"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">I see you judging me!</figcaption></figure><ul class=""><li id="c202" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated">以CSV格式下载前一天的交易报告</li><li id="9bcc" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">将此信息添加到所有交易的Excel表中。</li><li id="e4a5" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">应用我的分析所需的所有转换</li><li id="4ae2" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">创建一个迷你仪表板来评估转换的所有结果。</li></ul><h2 id="fec2" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">我的经历</h2><p id="6ee6" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在最初的三(3)周，这是惊人的，我认为我已经征服了报告，我的想法是如何改进报告，以获得更多信息，更好地评估指标，如保留和客户激活(我将在未来的帖子中谈到这些)</p><p id="7c14" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在第3周结束时，我注意到该报告花费了大约18分钟，我只是假设这是因为我在过去的十(10)天没有重新启动我的计算机。减速持续到新的一周，并在接下来的几周变得更糟。然而，正如任何使用Excel的人都知道的那样，这往往会发生在包含仪表板的报表中，所以我只是将工作安排到我不必主动使用计算机并接受这是我的“新常态”(在COVID破坏该短语的含义之前)。</p><h2 id="f60b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">…压垮骆驼的稻草</h2><p id="1e50" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">六月份，我们开展了一场营销活动，推动了该解决方案的采用和使用。这一活动提高了下载量、激活量、交易价值和交易量。数量的增加意味着现在的报告平均需要90分钟，我的风扇开到最大，笔记本电脑放在我们的空调上。</p><p id="40ad" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后就发生了，报告运行了一会儿，突然我的电脑就自己关机重启了。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/04b2573917069c8ea1e202663e504e12.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/1*WHyhjTvpF-Oxq00wrT_sOQ.gif"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Me when the computer restarted after 90 minutes of running a report</figcaption></figure><p id="a227" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那时，我知道我需要一个新的解决方案。多年来，我一直在摆弄Python。尽管如此，我从来没有完全转换过，由于结果的速度和可靠性，除了偶尔的线性回归之外，我没有使用过它。</p><p id="f9dd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">当这种情况发生时，我决定加倍努力，设计一个培训计划，复制我在Python中使用Excel经常做的事情，以便让自己熟悉情况并管理过渡。</p><h1 id="d442" class="ms lc iq bd ld mt mu mv lg mw mx my lj mz na nb lm nc nd ne lp nf ng nh ls ni bi translated">我是如何转变的？</h1><p id="7164" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">我决定了解数据分析的最基本的库，并挑选了我要学习的库。</p><p id="4ed9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我还想要一个可以实时查看分析的地方，这就是Jupyter笔记本派上用场的地方，而纯Python的输出需要打印语句，可能有点乏味。</p><h2 id="1fde" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">一种真正可扩展的方法</h2><ul class=""><li id="f409" class="lz ma iq kf b kg lu kk lv ko nj ks nk kw nl la me mf mg mh bi translated">直接连接到数据库，以获得基于所考虑的时间段的交易所需的所有信息</li><li id="a854" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">创建一个转换脚本，捕获执行分析所需的所有变更</li><li id="64e4" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated">准备一个输出该期间所有考虑因素的函数，然后做出决策或进行进一步的分析(如果需要的话)。</li></ul><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/c86affed8cf2fd96afaf17c27c02cd79.png" data-original-src="https://miro.medium.com/v2/resize:fit:960/1*6kAcsAztY_81XTNZdmizUA.gif"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Feeling like a boss</figcaption></figure><h1 id="69ce" class="ms lc iq bd ld mt mu mv lg mw mx my lj mz na nb lm nc nd ne lp nf ng nh ls ni bi translated">Python入门指南(使用Chipotle数据集)</h1><p id="6bd9" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">虽然我实现了可扩展的方法，但我必须一步一步来，这些步骤如下。</p><p id="f63a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将使用Chipotle数据集来捕捉一些我认为将Python视为Excel的自然扩展的第一步。</p><p id="7496" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在开始之前，让我提供一些对您的过渡最有用的库的背景。</p><h2 id="c789" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">数据分析的主要库</h2><ul class=""><li id="d447" class="lz ma iq kf b kg lu kk lv ko nj ks nk kw nl la me mf mg mh bi translated">这是一个开源库，可用于数据分析、数据操作和数据可视化(虽然，Pandas中的数据可视化很快，但有点有限，你应该考虑其他库，如Seaborn和Plotly——我个人的最爱)</li><li id="1386" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><strong class="kf ir"> Numpy </strong> —这是一个科学计算库，可以提高大量计算的速度。执行速度来自于将Python转换为针对数值分析而优化的编写良好的C代码的实现。Numpy很快，非常快。</li><li id="eecb" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><strong class="kf ir"> Matplotlib(我不太喜欢它，但它是一个必要的邪恶)</strong> —这是一个非常灵活的可视化库。尽管如此，这种默认方式仍有许多不足之处。我不使用它，但是它提供了一个极好的观想入门。我喜欢的库是<a class="ae kc" href="https://plotly.com/python/" rel="noopener ugc nofollow" target="_blank"> Plotly </a>(我会写一些关于这个的帖子，因为我喜欢这个库，因为它很灵活)。</li></ul><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="ab06" class="lb lc iq no b gy ns nt l nu nv">import pandas as pd<br/>import numpy as np<br/>import matplotlib.pyplot as plt</span></pre><h2 id="0d04" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Jupyter笔记本:查看和理解您的数据和分析</h2><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nw"><img src="../Images/e5e9854570d6819ee40941f54171413e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xMYQxJsq7goDnRmNz-A4Jw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Jupyter Notebook</figcaption></figure><p id="3352" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Jupyter Notebook在您需要了解数据、处理数据和查看评估结果时非常有用。它运行在所谓的REPL(读取→评估→打印→循环)模型中。REPL意味着Jupyter读取你的代码，评估它，打印输出(可选)，然后在下一个单元格中重复这个过程。</p><p id="1f0e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装非常简单，一旦你使用了<a class="ae kc" href="https://docs.anaconda.com/anaconda/install/" rel="noopener ugc nofollow" target="_blank"> Anaconda发行版的默认安装</a>，你就可以开始了。</p><p id="db6f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您有空间限制，您可以使用mini-conda <a class="ae kc" href="https://docs.conda.io/en/latest/miniconda.html" rel="noopener ugc nofollow" target="_blank">安装</a>并只安装您想要的软件包。</p><p id="edd4" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你没有时间做所有这些，并且想要开始或者使用安装有限的工作计算机，我建议你使用<a class="ae kc" href="https://colab.research.google.com/" rel="noopener ugc nofollow" target="_blank"> Google Colab </a>并且马上开始。对于Google Colab，没有安装，您可以直接进入您的分析。</p><h2 id="8031" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">在Python中打开我的CSV和Excel文件</h2><p id="0b36" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这包括读取通常双击的文件，并将其转换为代码行。好在在excel中打开XLS/XLSX/CSV文件只需要两行代码。</p><p id="0fcb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">通过导入<code class="fe nx ny nz no b">pandas</code>并使用<code class="fe nx ny nz no b">read_table</code>或<code class="fe nx ny nz no b">read_csv</code>或<code class="fe nx ny nz no b">read_excel</code>选项来读取CSV和EXCEL文件。</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="82bb" class="lb lc iq no b gy ns nt l nu nv">import pandas as pd<br/>df = pd.read_table('http://bit.ly/chiporders')</span></pre><h2 id="68c2" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">运筹学</h2><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="6399" class="lb lc iq no b gy ns nt l nu nv">import pandas as pd<br/>df = pd.read_csv('chiporders.csv')</span></pre><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/4067178de90828377087e352fd1c04e9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LzZlvBRjbx39--EekqWfdQ.png"/></div></div></figure><p id="235a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里的输出显示了数据集中包含的行数和列数，但是您无法一目了然地看到所有信息，因此建议使用<code class="fe nx ny nz no b">describe</code>和<code class="fe nx ny nz no b">info.</code>来“理解”您的数据</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="8cec" class="lb lc iq no b gy ns nt l nu nv">df.info()</span></pre><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ob"><img src="../Images/c508da8534e37ca88725bc7888044e2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0d6gvS6At_iyqBJUyjAPww.png"/></div></div></figure><h2 id="1b1b" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">解释输出:</h2><p id="235e" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">Pandas中的列只是一种数据类型。因此，数据类型是一致的。</p><ul class=""><li id="0854" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated"><code class="fe nx ny nz no b">order_id</code> —这意味着<code class="fe nx ny nz no b">order_id</code>列不包含空行(<em class="oc">非空</em>)，该列中的所有值都是整数；</li><li id="3509" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">quantity</code> —这意味着<code class="fe nx ny nz no b">quantity</code>列不包含空行(<em class="oc">非空</em>)，并且列中的所有值都是整数</li><li id="f806" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">item_name </code> —这意味着<code class="fe nx ny nz no b">item_name</code>不包含空行，该列中的所有值都是对象。我会小心使用条目，因为默认情况下许多数据类型都可以表示为对象，所以通常有必要粗略地查看一下列，以便采取必要的步骤</li><li id="683f" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">choice_description </code> —这意味着<code class="fe nx ny nz no b">choice_description</code>列包含3376个非空行，这意味着这里有1246列没有信息。有多种方法可以管理缺失值，但这将在以后进行交流，并且取决于您练习的目标和对数据集的理解。</li><li id="368b" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">item_price </code> —这意味着<code class="fe nx ny nz no b">item_price</code>列不包含空行，该列中的所有值都是对象。但是，我们知道价格不应该是对象，而应该是小数(金融专业人士在报告日元4DP之外的货币时通常有两位小数)。这里的问题是美元符号。</li></ul><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="5ca1" class="lb lc iq no b gy ns nt l nu nv">df.describe()</span></pre><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div class="gh gi od"><img src="../Images/c45e24336d3268849b630354267d2dbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*sbVn9u3lKX09ziQf2UKY9A.png"/></div></figure><p id="dd1c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">describe函数返回dataframe(我们导入的表)中数值的评估，并提供数据如何分布的上下文。</p><ul class=""><li id="3db6" class="lz ma iq kf b kg kh kk kl ko mb ks mc kw md la me mf mg mh bi translated"><code class="fe nx ny nz no b">Count</code> —数据帧列中的行数(数据帧中的一列称为一个系列)</li><li id="dfd0" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">Mean</code> —这是数据帧中被评估的列的平均值</li><li id="50b5" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">Std</code> —这是数据帧中带有数值的列的标准偏差。</li><li id="eaed" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">Min</code> —这是数据帧中带有数值的列的最小值。</li><li id="5b42" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">25%</code> —这是数据帧中具有数值的列的第25个百分位的值。</li><li id="064c" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">50%</code> —这是数据帧中具有数值的列的第50个百分位的值。这也是中值</li><li id="38d8" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">75%</code> —这是数据帧中具有数值的列的第75个百分位的值。这也是中值</li><li id="d7e7" class="lz ma iq kf b kg mi kk mj ko mk ks ml kw mm la me mf mg mh bi translated"><code class="fe nx ny nz no b">max</code> —这是数据帧中带有数值的列的最小值。</li></ul></div><div class="ab cl oe of hu og" role="separator"><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj ok"/><span class="oh bw bk oi oj"/></div><div class="ij ik il im in"><h2 id="a964" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">修复item_price列的问题</h2><blockquote class="ol om on"><p id="8647" class="kd ke oc kf b kg kh ki kj kk kl km kn oo kp kq kr op kt ku kv oq kx ky kz la ij bi translated">价格是作为一个对象捕获的，我们需要它作为一个数值，这样我们就可以用它进行进一步的分析。</p></blockquote><p id="0653" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果我们在Excel中遇到这样的问题，我们可以通过单击列来更改数据类型，并将其更改为accounting，或者我们可以使用<strong class="kf ir"> CTRL+F </strong>并删除所有的$。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi or"><img src="../Images/fdba3a9175dc5b2b9a07282b1d263973.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lKc_0Br1cJRCRlc6GfU_aw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Excel Implementation</figcaption></figure><p id="42e6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这与熊猫有一点不同，但同样有效和可读。</p><pre class="mo mp mq mr gt nn no np nq aw nr bi"><span id="b3d9" class="lb lc iq no b gy ns nt l nu nv">df['item_price'] = df['item_price'].str.replace('$', '')</span></pre><p id="fb23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这里采取的步骤是将列中每个值的美元符号($)替换为“nothing ”,这意味着dataframe现在全部是数字。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi os"><img src="../Images/906577b08e6a26d148288fdab57e8315.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pU9PKaIM1yu_KhcZyaSE9w.png"/></div></div></figure><p id="baef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">正如你所看到的，<code class="fe nx ny nz no b">item_price</code>仍然是一个字符串(对象),这不是我们想要的格式，所以我们告诉Python将它改为浮点数(float是一个带小数点的数字),这是通过指示pandas将数据类型改为<code class="fe nx ny nz no b">float</code>来实现的。</p><figure class="mo mp mq mr gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ot"><img src="../Images/5ba5dacc8a3cb9e187ecd6039b4374fd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0b8UkNgqbOJU-6IEeaLnWQ.png"/></div></div></figure><h2 id="72fa" class="lb lc iq bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">结论</h2><p id="0b9b" class="pw-post-body-paragraph kd ke iq kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">如果你要从Excel转到Python，不要苛责自己。你需要为更复杂的事情设定时间表，但第一步是用新工具做简单的事情，然后从那里开始构建。</p><p id="20f9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这种转变提高了我完成任务的速度，并为我负责的<a class="ae kc" href="https://gomoney.medium.com/" rel="noopener">产品</a>提供了可扩展且易于重现的分析。我已经进行了几个月的调查，但是因为在基本的Excel中没有<code class="fe nx ny nz no b">for</code>循环，我最初把这些搁置起来，但是现在我已经完成了所有的调查。</p><p id="fe11" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我已经能够衡量更多的<a class="ae kc" href="https://a16z.com/2015/09/23/16-more-metrics/" rel="noopener ugc nofollow" target="_blank">高级业务指标</a>，如集中度风险，并评估一组平台对收入的影响。我衡量了失去这些交易的影响(在衡量集中风险之后)以及随后对总交易价值的影响。这是在不限制估计潜在影响的工作范围的情况下实现的，但实际上限制了其测量。这在excel中是不可能的，只有像Python这样的编程语言提供给我的简单快捷的计算才能实现。</p></div></div>    
</body>
</html>