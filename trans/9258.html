<html>
<head>
<title>I Created a Dataset Each Day for 5 Days</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">我连续5天每天创建一个数据集</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/i-created-a-dataset-each-day-for-5-days-624bcb74bc31?source=collection_archive---------20-----------------------#2021-02-04">https://medium.datadriveninvestor.com/i-created-a-dataset-each-day-for-5-days-624bcb74bc31?source=collection_archive---------20-----------------------#2021-02-04</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="add2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">以下是我到目前为止学到的…</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/b2e1872b610e1489863213926063a78e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jUMexU3zpd10SkvMzt64oA.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Pixabay, Pexels.com</figcaption></figure><p id="e313" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如今，我看到了许多挑战，如#66DaysOfData和#90DaysOfCoding，人们挑战自己在如此短的时间内从头开始学习任何东西的成功故事。有了这么多的选择，选择正确的挑战或创造自己会变得更有挑战性。我决定创造我所能想象的<strong class="js iu">最难的挑战</strong>:连续5天每天使用纯网络抓取创建一个数据集。规则是这样的:</p><ul class=""><li id="b3d2" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">不允许导入</strong>ka ggle数据集。</li><li id="1fe7" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">API访问也被禁止。</li><li id="9781" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">没有<strong class="js iu">花哨的</strong> Python包，不应该有允许你在一行或任何地方访问内容的函数。</li><li id="87f2" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">同样，没有<strong class="js iu">内核或者笔记本</strong>，只有纯脚本。</li><li id="7464" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">你需要决定白天做什么，<strong class="js iu">没有明天的计划。</strong></li><li id="34c9" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">你必须选择一个比昨天更难的挑战，每天<strong class="js iu"/>。</li></ul><p id="9e82" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这对我来说简直是一个不可能的挑战。这就是我选择它的原因。这些都是我真实的经历，没有夸张，没有欺骗。</p><p id="88b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我的偏好:</p><ul class=""><li id="7c6a" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">脚本语言:</strong> Python</li><li id="3608" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">刮削工具:</strong>硒(如有必要，请求)</li><li id="530f" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">编码环境: PyCharm</li></ul><p id="ad9a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">注意:我创建数据集只是为了教育目的。如果您有关于数据政策的问题或顾虑，请在此留下私人留言。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ls"><img src="../Images/e3ee266fde896c8c55b6bf6b82598c46.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DUGdol3-e4DO60zG41X1cw@2x.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Matt Howard, Unsplash</figcaption></figure><p id="8627" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">让我们继续我的5天旅程吧。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="932d" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak">第1天——一个平稳的开端</strong></h1><p id="b5e8" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">我随便选了一个话题:“MBTI类型”。幸运的是，我发现了一个没有任何活动迹象的老派约会论坛:Project Evo love(<a class="ae nd" href="http://www.projectevolove.com/" rel="noopener ugc nofollow" target="_blank">http://www.projectevolove.com/</a>)。从一个程序员的角度来看，这是一个无价的礼物。没有复杂性，只是纯粹的CSS和HTML操作，一致的类和名称。这是一个很好的初级练习:</p><pre class="kp kq kr ks gt ne nf ng nh aw ni bi"><span id="1c84" class="nj mb it nf b gy nk nl l nm nn">from selenium import webdriver<br/>driver = webdriver.Chrome(executable_path=&lt;path&gt;) # opens a new chrome driver <br/># &lt;path&gt;: path to the chrome driver app</span><span id="11aa" class="nj mb it nf b gy no nl l nm nn">driver.get(&lt;url&gt;) # opens the given web page</span><span id="f75f" class="nj mb it nf b gy no nl l nm nn">driver.quit() # closes the current driver</span><span id="4e36" class="nj mb it nf b gy no nl l nm nn">driver.find_elements_by_css_selectors(&lt;selector&gt;)# returns a list of element objects</span><span id="5ebf" class="nj mb it nf b gy no nl l nm nn"># "#&lt;id&gt;": id selector<br/># ".&lt;class&gt;": class selector<br/># "&lt;element&gt;": element selector <br/># "&lt;parent&gt; &gt; &lt;child&gt;" direct child of parent</span><span id="d415" class="nj mb it nf b gy no nl l nm nn">element.get_attribute(&lt;attr&gt;) # returns the attribute<br/> <br/># "innerHTML": HTML code of elements inside of the element<br/># "innerText": The content of element as string<br/># "href" (if element is of "a"-type): returns link of "a"-element<br/># "outerHTML": HTML code of element</span></pre><p id="33b2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我一次就刮了论坛的每500页。数据收集需要2-3个小时，在Kaggle上发布一个小时。很简单。</p><p id="af55" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第1/5天</p><ul class=""><li id="7fdc" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">时间段:</strong>3-4小时</li><li id="3f92" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">改进:</strong> Selenium基础和Chrome开发工具</li></ul><div class="np nq gp gr nr ns"><a href="https://www.kaggle.com/yamaerenay/mbtitypes" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">MBTI类型和九格图文本</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">按类型/主题分类的真实人物的文本</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.kaggle.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ky ns"/></div></div></a></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oh"><img src="../Images/d548aae5d027f0ed1fa34981eb5c988d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*iygoBgyEVEP5BeK1jxmpGA@2x.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Patrick Tomasso, Unsplash</figcaption></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="26d8" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak">第二天——我们又来了</strong></h1><p id="8b7c" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">我认为我发布的数据太小，不够充分，这就是为什么我决定建立一个补充数据集。我选了一个看似规模很大的网站叫做16个性(<a class="ae nd" href="https://www.16personalities.com/" rel="noopener ugc nofollow" target="_blank">https://www.16personalities.com/</a>)，把昨天的游戏升级。搜集各种性格类型的资料并不难，我只用了30分钟就做到了。我得加点料。当时我觉得完全迷失了，我注意到网站的统计部分。刮全球性格类型分布:完美！但是等等，选哪个？</p><div class="kp kq kr ks gt ab cb"><figure class="oi kt oj ok ol om on paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/9be5df8622f13cc84c1dad8d9df2900a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1128/format:webp/1*YN5encxP75eSXZsS9dqR9A.png"/></div></figure><figure class="oi kt oo ok ol om on paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/33408c04339fa5fc355c0eb170480c3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:874/format:webp/1*lg4EaX9ww1FiXTsGJWdVjQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk op di oq or">Question: Global Or Country?</figcaption></figure></div><p id="d8ed" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果你只是对全球发行感兴趣，那么不要犹豫，选择左边的选项。否则，选择总是正确的选项，因为<strong class="js iu">数据越大，数据集</strong>越有价值。我从其他网站上抓取了国家列表，反复搜索国家，最终在一个小时内抓取了它们的分布。数据准备花了一个小时，最后我在Kaggle上发布了数据集。</p><p id="6d56" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第2/5天</p><ul class=""><li id="ffec" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">时间段:</strong> 3小时</li><li id="b395" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">改进:</strong>Python中I/O操作的技巧和窍门，JSON操作技巧</li></ul><div class="np nq gp gr nr ns"><a href="https://www.kaggle.com/yamaerenay/mbtitypes-full" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">MBTI类型数据</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">包括世界统计，每种类型的信息和更多疯狂的东西...</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.kaggle.com</p></div></div><div class="ob l"><div class="os l od oe of ob og ky ns"/></div></div></a></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ot"><img src="../Images/45af2e2ddfa25595b2deb905e75d3d4b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vSRK6UaE0995hju9PfcYsg@2x.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Javier Allegue, Unsplash</figcaption></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="ff6a" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak">第3天——从这里开始</strong></h1><p id="6c19" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">这一天，我有很多与uni有关的作业和工作，所以我只有2到3个小时。经过2天纯粹而轻松的成功，我决定<strong class="js iu">改变观念</strong>。够了个性的东西。我选了“网站统计”。这有点挑战性，因为很难找到合适的免费在线发布的信息。我发现亚马逊Alexa(<a class="ae nd" href="https://www.alexa.com/topsites/countries" rel="noopener ugc nofollow" target="_blank">https://www.alexa.com/topsites/countries</a>)上发布的一份结构良好的表格数据显示了全球范围内最受欢迎的网站。同样的问题，又来了:</p><div class="kp kq kr ks gt ab cb"><figure class="oi kt ou ok ol om on paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/e2988e4113c766fcc8b626994b5c55eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*ypzlpkrDI5hDkpR9jtBKFA.png"/></div></figure><figure class="oi kt ov ok ol om on paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><img src="../Images/481f97e7f3f819db11c0075bf56724d0.png" data-original-src="https://miro.medium.com/v2/resize:fit:848/format:webp/1*7tzZf1Q_MtYGk4ENYmtpkQ.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk ow di ox or">Question: Global or Country?</figcaption></figure></div><p id="366c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你知道答案。花了2个小时才搜集到全部数据。数据争论和发布到Kaggle花费了1-2个小时。一天结束时，感觉就像一、二、三，嘣:我所做的就是找到相似的元素，保存到列表中，并将其转换为更结构化的格式，如CSV。</p><p id="a49d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第3/5天:</p><ul class=""><li id="ccd1" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">时间段:</strong>3-4小时</li><li id="672a" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">改进:</strong>处理更动态的网站，更关注Robots.txt文件</li></ul><div class="np nq gp gr nr ns"><a href="https://www.kaggle.com/yamaerenay/top50websites" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">各国最受欢迎的50个网站</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">2021年2月]:关于最受欢迎的网站、国家排名等信息...</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.kaggle.com</p></div></div><div class="ob l"><div class="oy l od oe of ob og ky ns"/></div></div></a></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi oz"><img src="../Images/dc7acd881a388cc2d96353a2f6f1d60d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DRz0iUrlxHdGwBZexFeMIw@2x.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Xhoni Mykaj, Unsplash</figcaption></figure><p id="3317" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一天后，我想经历一些真正的挑战，这将我们带到第四天。</p></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="45af" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak">第4天—另一个关卡</strong></h1><p id="b657" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">过去的3天只是文本，文本，文本…获取文本内容是没有大脑的，抓取图像很酷。是时候给它加点料了。决定哪个比<strong class="js iu">如何</strong>难多了。我可以选择刮一个自由的股票网站，如Unsplash的任意类别-它可以是任何东西，从动物到人，从自然到时尚-。还有一个更难的选择:谷歌图片(【https://images.google.com/】)我毫不犹豫地选择了它。很难刮的几个原因:</p><ul class=""><li id="f3f8" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">过度嵌套结构:</strong>元素中的元素…在HTML级别开始</li><li id="68af" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">元素的机器生成的<strong class="js iu">id</strong>:很难找到一般的用例</li><li id="3fa7" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">无滚动，无数据:</strong>需要实现向下滚动功能，以加载更多结果</li><li id="6afe" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">杂乱的</strong>图像容器(大小不同)</li><li id="179d" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">广告</strong>显示为图像</li></ul><p id="f081" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我对汽车的浓厚兴趣促使我从Carlogos.org(<a class="ae nd" href="https://www.carlogos.org/popular-car-brands/" rel="noopener ugc nofollow" target="_blank">https://www.carlogos.org/popular-car-brands/</a>)收集了美国最受欢迎的50个汽车品牌。通过快速搜索，我找到了保存图片的方法:我反复搜索了每个品牌的100张照片，抓取了图片的链接，并下载了图片，如下所示:</p><pre class="kp kq kr ks gt ne nf ng nh aw ni bi"><span id="07f9" class="nj mb it nf b gy nk nl l nm nn">from selenium import webdriver<br/>import requests<br/>from PIL import Image<br/>import io<br/>driver = webdriver.Chrome(executable_path=&lt;path&gt;)<br/>driver.execute_script('window.scrollTo(0, document.scrollHeight)') # scrolls to the bottom of the page (document.scrollHeight: full height of shown part of the website)</span><span id="7864" class="nj mb it nf b gy no nl l nm nn">driver.find_elements_by_css_selectors(&lt;path_to_img&gt; &gt; img) # returns list of images<br/>img.get_attribute("src") # returns the list of links of images (different from "href" attribute of "a"-element</span><span id="3d1f" class="nj mb it nf b gy no nl l nm nn">page = requests.get(link) # returns the image on a new tab<br/>image_bytes = io.BytesIO(page) # returns page in bytes<br/>image = Image.open(image_bytes).convert('RGB') # converts bytes to images<br/>with open(&lt;fpath&gt;, "w") as file:<br/>  image.save(file, "JPEG") # saves image as JPEG file</span></pre><p id="ee83" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">编码用不了多长时间:总共2个小时。当向下滚动直到找到100张图片时，程序需要很长时间来获得整个网页中所有图片的链接。</p><p id="d1e2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第4/5天</p><ul class=""><li id="f85a" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">时间段:</strong> 4小时</li><li id="e7b0" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">改进:</strong>滚动、下载图片</li></ul><div class="np nq gp gr nr ns"><a href="https://www.kaggle.com/yamaerenay/100-images-of-top-50-car-brands" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">汽车品牌图片</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">50大汽车品牌的100张图片(美国排名)及更多...</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.kaggle.com</p></div></div><div class="ob l"><div class="pa l od oe of ob og ky ns"/></div></div></a></div><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pb"><img src="../Images/400d43b77dc0aefa083887dba8b8a701.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cDalDjb7oQufu1ResqAHTA@2x.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Joshua Earle, Unsplash</figcaption></figure></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><h1 id="6a46" class="ma mb it bd mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx bi translated"><strong class="ak">第5天——再难不过了</strong></h1><p id="04ec" class="pw-post-body-paragraph jq jr it js b jt my jv jw jx mz jz ka kb na kd ke kf nb kh ki kj nc kl km kn im bi translated">第五天。我敢对自己说，不再有简单的东西，不再有简单的网站。Youtube:</p><ul class=""><li id="0e2a" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated">不接受<strong class="js iu"> cookies </strong>不允许</li><li id="9796" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">全新的</strong>Youtube自己发明的HTML元素(以yt-开头)</li><li id="bc10" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">(可能)高级机器人<strong class="js iu">追踪器</strong></li><li id="0d11" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">HTML <strong class="js iu">更深层次的开始</strong></li></ul><p id="9699" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我挑战自己收集最受欢迎广告的<strong class="js iu">抄本</strong>。感谢Think With Google(<a class="ae nd" href="https://www.thinkwithgoogle.com/marketing-strategies/video/leaderboards/" rel="noopener ugc nofollow" target="_blank">https://www . thinkwith Google . com/marketing-strategies/video/leaderboards/</a>)排行榜，我可以很容易地找到广告，但是我无法找到与Youtube视频的外部链接进行交互的方法。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pc"><img src="../Images/564be0bb20040290435e5e00f498516e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3nYQjK5qP2k_8Lq2JGuJsA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Videos Playing Internally, Think With Google</figcaption></figure><p id="ccbd" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我不得不使用URL查询在Youtube上进行搜索，如下所示:</p><pre class="kp kq kr ks gt ne nf ng nh aw ni bi"><span id="3c79" class="nj mb it nf b gy nk nl l nm nn">import urllib<br/>urllib.parse.quote_plus("no more scraping")<br/>=&gt;"no+more+scraping"</span><span id="5e40" class="nj mb it nf b gy no nl l nm nn"># and concatenate it with the base url<br/>"https://www.youtube.com/results?q=no+more+scraping"</span></pre><p id="cdf5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在每个搜索结果中，我选择了第一个，这与它是否正确无关。然后我试图抓取自动生成的英文字幕，但cookie策略不允许我正确地这样做。以下是我尝试用更高级的方式来刮的技巧:</p><ul class=""><li id="8943" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated">编码<strong class="js iu">时间间隔</strong> <code class="fe pd pe pf nf b">driver.implicitly_wait(&lt;seconds&gt;) or time.sleep(&lt;seconds&gt;)</code>(没用)</li><li id="73a2" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">使用“http-request-randomizer”包访问来自不同国家的随机<strong class="js iu">代理</strong>IP(由于一个我无法修复的驱动程序问题而无法工作)</li><li id="c0a5" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">从堆栈溢出复制粘贴高级代码(也失败了)</li></ul><p id="dc76" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">规则打破:然后我遇到了“youtube-dl”，一个漂亮的Python包，它允许你抓取youtube视频的内容，而无需处理cookie策略、僵尸检测问题、yt元素。就这样。花了将近30分钟才找到大约。550个视频。</p><p id="9142" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">第五天</p><ul class=""><li id="c9cf" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated"><strong class="js iu">时间段:</strong>7-8小时</li><li id="2ed1" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated"><strong class="js iu">改进:</strong>使用“http-request-randomizer”的代理，selenium和time.sleep()的等待函数，youtube-dl进行youtube抓取</li></ul><div class="np nq gp gr nr ns"><a href="https://www.kaggle.com/yamaerenay/most-popular-youtube-ads-20172020" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd iu gy z fp nx fr fs ny fu fw is bi translated">最受欢迎的Youtube广告</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">2017-2020年Youtube热门广告信息(带字幕)</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.kaggle.com</p></div></div><div class="ob l"><div class="pg l od oe of ob og ky ns"/></div></div></a></div></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="b89e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">旅程结束</strong></p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ph"><img src="../Images/d0866eaee3f7d7faeb552dbd672747cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:832/format:webp/1*iiY0aMgNhAxc4cS7b387nA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">My Datasets on Kaggle</figcaption></figure><p id="f266" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">5天前，我还没有网络抓取的心态，<strong class="js iu">可能还没有</strong>。这是一次无价的经历——从简单的表格数据开始，到更高级的主题。</p><p id="37a0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">值得注意的是，您只需要在特殊场合进行网络抓取。如果没有必要，<strong class="js iu">不要浪费你的时间</strong>搜集，使用最实用的工具，例如，你可以下载公共数据集或访问免费的API。</p><p id="093c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">然而，如果你知道如何去做，它会派上用场，特别是当一个非常具体的任务被给出时，比如</p><ul class=""><li id="5535" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated">“在哪里可以找到印度最受欢迎的前50个网站？”</li><li id="4bc3" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">或“说出耐克广告的前5个关键词”等。</li></ul><p id="9caf" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">它还能帮助你练习:</p><ul class=""><li id="f144" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated">如何最有效地进行I/O操作</li><li id="7477" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">如何正确地与服务器交互</li><li id="b6bb" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">如何转换和构造数据类型</li></ul></div><div class="ab cl lt lu hx lv" role="separator"><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly lz"/><span class="lw bw bk lx ly"/></div><div class="im in io ip iq"><p id="f511" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">今天，我想从你这里得到的是<strong class="js iu">挑战你自己</strong>，不管是哪种挑战。给自己设定一个目标，写下你的经历。如果你选择了我的挑战，你也可以试试:</p><ul class=""><li id="9022" class="le lf it js b jt ju jx jy kb lg kf lh kj li kn lj lk ll lm bi translated">暗网刮除</li><li id="11f4" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">处理验证码</li><li id="7fb9" class="le lf it js b jt ln jx lo kb lp kf lq kj lr kn lj lk ll lm bi translated">自动网络爬行</li></ul><p id="fad0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">你可以自己尝试一下。祝# 5刮痧日快乐！</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi pi"><img src="../Images/4b2bf5a49fbc1348caac0d8ee8e3e857.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kYKaN7n0Sz9dxlyY_dZZuA.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Source: Markus Spiske, Pexels.com</figcaption></figure></div></div>    
</body>
</html>