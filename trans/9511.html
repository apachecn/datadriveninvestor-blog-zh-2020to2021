<html>
<head>
<title>Predicting Real Estate Prices in Kings County, Washington — Part 2</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">预测华盛顿金斯县的房地产价格—第二部分</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/predicting-real-estate-prices-in-kings-county-washington-part-2-c26873379fe8?source=collection_archive---------8-----------------------#2021-02-12">https://medium.datadriveninvestor.com/predicting-real-estate-prices-in-kings-county-washington-part-2-c26873379fe8?source=collection_archive---------8-----------------------#2021-02-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d750" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是预测房价系列的第二部分，也是最后一部分。在<a class="ae kl" href="https://alvarohenriquez-93558.medium.com/predicting-real-estate-prices-in-kings-county-washington-part-1-bdca5f0db058" rel="noopener">第1部分</a>中，我们对数据集进行了探索性数据分析。在这一部分，我们将执行一些数据预处理。我们将探索特征选择、特征交互和特征转换的影响。</p><p id="5a3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">然后，我们将建立几个模型，使用上述的各种组合。接下来，我们对它们进行评估，目的是根据我们的需求选择性能最佳的型号。</p><p id="cdcb" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">为了更好地理解我们的工作，请参阅第1部分。</p><h1 id="e427" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">现在我们准备预处理数据。</h1><p id="ac85" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">既然我们已经探索了我们的数据，是时候讨论一下了。我们将使用函数<strong class="jp ir">预处理数据()</strong>。它需要一个预测数据帧、一个要删除的要素列表、一个要编码的要素列表以及一个用于转换或不转换数值数据的布尔值。然后它返回我们预处理过的数据帧。</p><p id="a6e4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">通过改变列表的内容，我们可以尝试不同的功能组合。对于初始基线，我们将只删除<em class="lp">视图</em>和<em class="lp">yr _ renewed</em>特性。所有其他特征将被视为数字。</p><p id="c653" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要了解该函数如何工作，请检查'<em class="lp"> source/resources.py </em>'中的代码。我们会多次使用它。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi lq"><img src="../Images/3f1b3db0657b1f7c66295472f90bc5af.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WmIjY7S9lJezVOVueG_Ukw.png"/></div></div></figure><h1 id="d06c" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">将目标从预测值中分离出来，并创建训练测试分割</h1><p id="294d" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们使用来自sklearn的<em class="lp"> train_test_split </em>将我们的数据分成训练集和测试集。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mc"><img src="../Images/7c4669c67c7f038d87cdd245f47a537c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VrOToEqDvjvm0yV-dnSMOg.png"/></div></div></figure><h1 id="739a" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">生成基线模型</h1><p id="23a5" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们的基线将是我们最简单的模型。我们将所有数据视为数字，仅删除<em class="lp">视图</em>和<em class="lp">yr _ renewed</em>。正如您所记得的，<em class="lp">yr _ renewated</em>有许多缺失值，不适合这第一个模型。</p><p id="e69d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们的目标是不断提高我们的分数。我们使用调整后的R-square<strong class="jp ir">对我们的模型进行排名。</strong></p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi md"><img src="../Images/b9131e059da49375e4ee092d0a75788d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*igv4QhAxlXImGZmCpzLdQA.png"/></div></div></figure><p id="8e69" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于我们的基线，我们有一个0.678的调整后的R平方和总共19个特征。我们能做得更好吗？</p><h1 id="f205" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">让我们努力在这一点上有所改进</h1><p id="7e0e" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">在尝试了不同的功能组合后，以下是得分最高的组合。这是一次反复试验。我将开发一个例程来自动化它。我们将重复预处理、将数据分成训练集和测试集以及拟合模型的步骤。</p><h2 id="b4ff" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">模型-1</h2><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mq"><img src="../Images/d42aa80fbfdf44e0cf14800219507ce8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bcGz280kOHSNAvoXDkbuzA.png"/></div></div></figure><p id="985e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个非常显著的进步。</p><p id="f328" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们一开始只有20个功能，现在已经增加到96个了。这是因为我们编码了六个特征，包括邮政编码，它本身包含了72个类别。值得注意的是，最后我们并没有对<em class="lp">卧室</em>进行编码。那是因为当我们这样做的时候，它降低了分数。</p><p id="355c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们能减少一些吗？我们接下来会试试。</p><p id="5701" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当我们决定到目前为止用于测试模型的预测因子时，我们已经做了一些特征选择。但是，这里我们将使用逐步特征选择来查看是否有任何其他可以移除的特征。下面是代码。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mr"><img src="../Images/651c774eef7dd22fc1b25a33a72703ea.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*A70yRGgZYwljQtLVJI6D-Q.png"/></div></div><figcaption class="ms mt gj gh gi mu mv bd b be z dk"><a class="ae kl" href="https://en.wikipedia.org/wiki/Stepwise_regression" rel="noopener ugc nofollow" target="_blank">https://en.wikipedia.org/wiki/Stepwise_regression</a></figcaption></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mw"><img src="../Images/c841c27d1e24e0621aedb1b295597398.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7mF4ht8oOQGr9-NR73oiHA.png"/></div></div></figure><h1 id="fa3c" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">让我们看看有什么不同</h1><p id="006b" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">好，我们从96个特征开始，逐步选择函数保持75个。因此，根据这些结果，我们需要放弃其中的21项。我们会这样做，再次拟合模型，看看我们会得到什么。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mx"><img src="../Images/b120550ccef5c961dd10b8289661ad7f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-Ndhy24x3az_yHGcE8ZYKg.png"/></div></div></figure><p id="d544" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">所以现在我们的模型中少了21个特性。现在我们将再次拟合模型，并比较分数。</p><h1 id="f3d2" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">使用逐步特征选择的模型-2</h1><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi my"><img src="../Images/86f98fb6f339339a755d26873bb69272.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QVctaBTtFqOm1yv9hrknaw.png"/></div></div></figure><h2 id="92a8" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">特征选择的结果</h2><p id="975e" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">之前调整后的R平方为0.787。新值为0.786，略有下降。假设我们已经设法将模型的复杂性减少了21个特征，我们将采用0.001的减少量</p><h1 id="0008" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">相互作用</h1><p id="3790" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">到目前为止，我们已经做得相当好了，但是让我们看看我们是否能再改进一点。我们现在将搜索交互式术语。函数<strong class="jp ir"> exp_interactions() </strong>将处理繁重的工作。由于功能太多，需要一些时间才能完成。我们将使用调整后的R-square对它们进行评分。</p><p id="ef26" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是代码。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi mz"><img src="../Images/67027f25f5826bdb06892a471a86d5ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Hp_5OV8pas_aXQEd1lnaNA.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi na"><img src="../Images/9d0900c1c11c4e6b1af74d1392bc8f02.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Tlzf1r_DToAlbN2Kh9U7-A.png"/></div></div></figure><h1 id="be1b" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">交互可视化</h1><p id="d426" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们现在将绘制前4个相互作用术语。</p><h2 id="41bb" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">sqft _生活和品位</h2><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nb"><img src="../Images/fc26e2c06481f8793f13dcae91708cb5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5pKk6EST5SsBgHT6ALMv8A.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/9f06b683fe12be2506e23c51f5dc7008.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*P3eQWwjenocS-MTNWh8H_g.png"/></div></figure><h2 id="dbac" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">sqft _生活和滨水区</h2><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nd"><img src="../Images/818c351dc945e1c94c36fb441b1b1465.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ZeojukLlD_r-W4Mzx2eK2g.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/18f23aeeba453e1e45c3438f97ac5da7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*DLJp0iM7SZRISjhguhQ_Fw.png"/></div></figure><h2 id="1a43" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">3.7及以上的居住和浴室数量</h2><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nf"><img src="../Images/973e690d4f8eba7deac7e61b089009ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*TBVceJ9Xv0MW2wAtg6oRFg.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/b5e3453efb8aaf75c90ec047b36ec405.png" data-original-src="https://miro.medium.com/v2/resize:fit:1252/format:webp/1*L8Bg0LspL-2z9fwt3FLnVg.png"/></div></figure><h2 id="95ab" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">sqft _地下室和坡度</h2><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nh"><img src="../Images/4ff09a6c272c349cc413bf788da3771a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Y640ICXz5lWVlcFfQAiu1w.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/1d343e1814eb5e115f311079bd11ad5f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1172/format:webp/1*qjPRVECtSU4zZENpkG3Tew.png"/></div></figure><h1 id="fc37" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">将交互项添加到模型中</h1><p id="2862" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">现在，我们将把相互作用项添加到之前的模型中，看看效果如何。函数<strong class="jp ir"> add_interactions() </strong>创建交互术语。在这里，我们将传递前5个交互。进一步理解请参考函数本身。</p><p id="6d94" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">密码。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nj"><img src="../Images/c3ca7b4e63a6e0839a6e8c6bb51a03aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EkKcMy5-sDbL3dgKhGyejQ.png"/></div></div></figure><h1 id="cd43" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">使用交互的模型3</h1><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nk"><img src="../Images/f0a02ce87552b12d5358e5ecd8d2195f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aKHi_sVj4NxAKwEMCUmKPw.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nl"><img src="../Images/a73ee6a08add5e691cc183d8bab49180.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*vjf_iTdLy4IoDw9KEd6JFQ.png"/></div></div></figure><h2 id="5973" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">又一大进步！</h2><p id="cf12" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">所以现在我们的分数又上升了。最后一个模型产生的调整后的R平方为0.786。这个模型产生0.828的分数。另一个改进是减少了功能，从101个减少到82个。</p><h1 id="feef" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">在找到交互之前进行转换</h1><p id="00b3" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">现在我们尝试对数转换数字特征，并使用<strong class="jp ir">最小-最大</strong>缩放它们。在这里，我们经历了所有的步骤。首先，我们将数据传递给<strong class="jp ir"> pre_process_data() </strong>函数。然后将数据分为预测值和目标值，再分成训练集和测试集。接下来，我们添加先前创建的交互，逐步选择特征以减少特征的数量。最后，我们拟合模型。</p><h1 id="5bd0" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">使用对数变换和最小-最大缩放的模型4</h1><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nm"><img src="../Images/ced76944b3fe5c2b1d1d41363cac752a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G05oO1_Cf4QBXs_sTm6qHw.png"/></div></div></figure><h2 id="9330" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">结果</h2><p id="9e80" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">这次调整后的R平方下降到0.810。这仍然是一个稳定的分数，但我可能会坚持使用以前的模型。我们一会儿就能确定。</p><h1 id="d08a" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">交叉验证</h1><p id="4c32" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">我们将使用SKLearn库测试我们的最佳模型的可预测性。我们将使用交叉验证来实现这一点。</p><h1 id="4ec6" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">首先，模型3</h1><p id="c3c7" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">模型3给了我们最高的调整R平方。现在我们将使用RMSE作为我们的衡量标准。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nn"><img src="../Images/2de29f9a05529568677be6f2f2734438.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dDqyGS8NM5ExNtbAxSiTjA.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi no"><img src="../Images/267745204c5a3bc139f25cf801eb7cef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ggglq6la6CMH3fhya4BRow.png"/></div></div></figure><h1 id="b54d" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">使用测试集进行预测</h1><p id="1044" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">让我们尝试使用测试数据进行预测，并将结果与训练数据进行比较。但是首先，我们将准备测试集。我们将添加交互术语，并删除由分步过程识别的特征。然后，我们将对这两组数据进行预测，并比较它们的RMSE分数。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi np"><img src="../Images/fa9771d5a2b68ab9e40b404052542aaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4LjM-ifei2D7LOx7lXZsvA.png"/></div></div></figure><p id="9cff" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">分数非常接近，这意味着变异不是一个问题。</p><h1 id="4726" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">多项式模型</h1><p id="4012" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">现在我们将同样的数据拟合到一个二次多项式模型。我们想看看这是否会给我们一个更好的模型。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nq"><img src="../Images/e8a4235b1bd6d432e58234cd53fb01ef.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Cczc1aHXgb3NZeTVpx0SUw.png"/></div></div></figure><h1 id="7f5b" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">模型4</h1><p id="f7da" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">现在我们将使用转换来评估我们的模型。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nr"><img src="../Images/5a9fcfde9c136f6d7255f316543d662c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Kd-HxVRx1Vp2jKF_PE95QA.png"/></div></div></figure><p id="9015" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这台RMSE比3型高一点。</p><h2 id="d152" class="me kn iq bd ko mf mg dn ks mh mi dp kw jy mj mk la kc ml mm le kg mn mo li mp bi translated">使用测试集进行预测</h2><p id="c485" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">正如我们之前所做的，我们将准备测试集，并使用它来使用模型4进行预测。然后我们会比较分数。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi ns"><img src="../Images/51d7ca1d915252a6ae9705de2e1bebb3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9_Zk3OFaqjw6-ygnkIXIQQ.png"/></div></div></figure><p id="2fda" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，这些分数比模型3更高，差距也更大一些</p><h1 id="c01f" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">模型2</h1><p id="2757" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">该模型的调整后R平方为0.786。与模型3一样，没有应用交互。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nt"><img src="../Images/6a78e5663cec567323d7f163793956b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tsg_izBF-7lvDMS2RUdT7Q.png"/></div></div></figure><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nu"><img src="../Images/386d6b24a54d1100c9dd53c6ceffb23c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AwRiVfedX27OKZ7geu8QCg.png"/></div></div></figure><p id="1214" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">同样，这些分数比模型3高，而且差距稍大。</p><figure class="lr ls lt lu gt lv gh gi paragraph-image"><div role="button" tabindex="0" class="lw lx di ly bf lz"><div class="gh gi nv"><img src="../Images/22804b26e8b37bba63ceffdc9ad633c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*eAAheA1MHzbJ5wTl4ZgCng.png"/></div></div></figure><h1 id="0772" class="km kn iq bd ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj bi translated">结论</h1><p id="dcf9" class="pw-post-body-paragraph jn jo iq jp b jq lk js jt ju ll jw jx jy lm ka kb kc ln ke kf kg lo ki kj kk ij bi translated">基于这些测试，模型3被证明具有最佳拟合度和最佳可预测性。然而，它是一个相当复杂的模型，有84个特征。这种相互作用也增加了复杂性，使个体贡献特征的系数从正变到负。</p><p id="6823" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">出于本练习的目的，我将使用模型2，因为它的系数更容易解释。</p><p id="195b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，在这本笔记本中，我们探索了金斯县住房数据集。我们识别出那些本质上是分类的特征，并使用不同的方案对它们进行编码。我们找到了一种方法来处理有点不寻常的<em class="lp">滨水区</em>特征的缺失数据。我们利用函数<em class="lp"> preprocess_data() </em>构建并评估了几个模型，这使得使用不同的特性组合变得很容易。它还提供了编码、数据转换和交互术语的创建。</p><p id="3f15" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我希望你喜欢这篇文章。</p></div></div>    
</body>
</html>