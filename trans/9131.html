<html>
<head>
<title>Web scraping, color analysis and funny names: Nail polish analytics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">网页抓取、颜色分析和有趣的名字:指甲油分析</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/web-scraping-color-analysis-and-funny-names-nail-polish-analytics-9c7fa435a140?source=collection_archive---------19-----------------------#2021-02-01">https://medium.datadriveninvestor.com/web-scraping-color-analysis-and-funny-names-nail-polish-analytics-9c7fa435a140?source=collection_archive---------19-----------------------#2021-02-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="673e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">周末期间，我读了一篇令人惊叹的博客文章，是关于一个<a class="ae kl" href="http://www.nancyorgan.com/portfolio/colorselect.html" rel="noopener ugc nofollow" target="_blank">指甲油名称生成器</a>的，它使用一个废弃名称和颜色代码的大数据集，根据你的颜色输入来创建新的可能名称。数据类型非常独特，因为它使用不同的颜色代码，如RGB、CMYK及其十六进制等效值。这是我第一次听说颜色代码被作为数据点进行分析(而且蓝色有不同的深浅)，所以我决定尝试一下，用这个有趣的主题练习一些编码:这个博客是我在试错过程中发现的结果。</p><p id="c818" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="km">免责声明:我不是色彩理论方面的专家，因为我有轻微的色盲(我妻子诊断为……色盲),我在评论色彩方面可能会特别有障碍。所以如果我的颜色术语不一致请见谅。</em></p><p id="1e97" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">什么是马斯洛？:</strong> Masglo是一家生产指甲油和相关化妆品的哥伦比亚公司。他们因其产品的命名而闻名(或者可能是声名狼藉)(每一种抛光剂都用一个争议性的形容词来标识——比如“无畏的”、“大胆的”、“唯物主义者”、“天后”等等。)</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi kn"><img src="../Images/cff14c75d8f1c904794ee92108ba424a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AisTv8p6Nm6bQJY1WwCb9Q.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Screenshot taken from <a class="ae kl" href="https://masglo.com/" rel="noopener ugc nofollow" target="_blank">https://masglo.com/</a></figcaption></figure><p id="bee7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">他们也碰巧在他们的电子商务商店中列出了他们所有的产品目录。因此，我的第一项任务就是取消他们产品的名称和缩略图。有了缩略图，我可以使用颜色选择工具提取每张照片中特定像素的RGB代码。我还将RGB颜色转换为十六进制颜色，以便在绘制信息时更容易处理。</p><p id="8489" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是一个代码片段，包含了我用来执行我描述的任务的一些有用的代码部分:</p><figure class="ko kp kq kr gt ks"><div class="bz fp l di"><div class="ld le l"/></div></figure><p id="672c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">起初我分别抓取名字和图片，但后来决定只抓取包含缩略图的url，因为从文件名中我可以得到颜色标签，从文件中我可以得到颜色。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lf"><img src="../Images/835c975ab1a0765c05bc665cbfd94f1f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_0iNxk3tbWsvNmuDqMW_Ag.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk">Masglo’s website was relatively easy to scrape because thumbnail files were named in a structured fashion</figcaption></figure></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><p id="0e6e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一旦我有了这个整合的数据集，我就可以创建我对这些数据点的分析，比如每个产品的RGB成分的3d图。请记住，RGB可以取[0，255]范围内的值。每种颜色都是r，g，b的组合。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ln"><img src="../Images/9a30a9274ac152fafa12657a69386ab7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*FPGSiJQ8UAQA443bjUUb8g.gif"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><a class="ae kl" href="https://focaalvarez.github.io/plotlygraphs/Masglo_3d.html" rel="noopener ugc nofollow" target="_blank">Click here</a> to see the interactive version</figcaption></figure><p id="1b71" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">3D图有点难读，因为我们的大脑不能很好地解析点的三维空间。然而，快速检查显示了一个有趣的模式:看起来可能有一个颜色的浓度，具有高浓度的“红色”；此外，图中的“绿色”表面似乎没有Masglo的产品多。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi lo"><img src="../Images/bb7983a4e182fe2b16cf9d9199b77b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:686/format:webp/1*LCJhqfK-lRa5dUOjvXCElw.png"/></div></figure><p id="7dcd" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">事实上，如果你分析每个系列的基本描述性统计数据(每个产品的红色、绿色和蓝色值)，它证实了我们的直觉:红色往往比蓝色具有更高的值；蓝色比绿色有更高的价值。</p><p id="165c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">使用下面的带状图可以更好地显示这一点:它显示了所有数据集的r、g和b数据点的完整集合。越靠右，意味着颜色会越浓，因为它在颜色混合中有更多的关联值。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lp"><img src="../Images/28e0fd52c850e861e565f1f6f7427d3c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*xHeTzUIQBq3QJU8cdqxXxQ.png"/></div></div></figure><p id="286b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">只是为了它，我计算了每个系列的中值，并找出了Masglo所有指甲油的“中值”颜色组合。如果让我给这种颜色命名，我可能会选择帕特里克星粉色，但我相信可能会有更合适的名字。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi lq"><img src="../Images/527be70a816cb15aeb7b41e82f7491be.png" data-original-src="https://miro.medium.com/v2/resize:fit:302/format:webp/1*7ICpDobiv-yIqkUodurHtA.png"/></div></figure><p id="d9d0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">原来RGB比计算中间值要复杂一点，因为颜色以一种特殊的方式混合:它们自己相加。</p><p id="37dc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我的一个好朋友对色彩世界有着更好的美学理解，他向我解释说RGB是一种“<em class="km">加法组合</em>”。这就是他如何解释RGB颜色的附加属性。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi lr"><img src="../Images/a5b4c5f305f6955ca4ccadb1fd2a8472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*h3-q1O3wYxURW9QL"/></div></div></figure><p id="3b5e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">假设你要为粉刷你的房间创造一个颜色组合。你从一个空桶和三桶颜色(红色、绿色和蓝色)开始。你开始混合颜料，你从一种特定的颜色添加的越多，相应的RGB值就越高(接近255)。您也不能添加一种特定的颜色，相应的值将是0。当你加入大量的红色、绿色和蓝色时，你最终会得到白色(这在一开始对我来说很难理解)。</p><p id="8778" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这个加法组合的概念给了我另一个想法，在不同的光线下可视化Masglo数据集。你可以取任意一个RGB码，计算出混合色中红、绿、蓝的百分比。例如，对于RGB (0，148，138)，您的混合“总数”为286，其中51%为绿色，49%为红色。</p><p id="d56f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这些占总数的比例可以用一种叫做<strong class="jp ir">三元图</strong>的图表来绘制。这是一种特殊的散点图，其中数据点是根据它们对每个属性的贡献大小绘制的，每个属性的总和等于一个常数(即100%)。下图显示了我之前提到的例子的情况:标记为“entretenida”的颜色有0%的红色，51.5%的绿色和48.5%的蓝色</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ls"><img src="../Images/c1b552c8f65e03df83298cc2b4062a6d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5jcPOu1UNUhJLjJV-RsPwA.png"/></div></div><figcaption class="kz la gj gh gi lb lc bd b be z dk"><a class="ae kl" href="https://focaalvarez.github.io/plotlygraphs/Masglo_Triangle.html" rel="noopener ugc nofollow" target="_blank">Click here</a> for the interactive version of this graph</figcaption></figure><p id="ce46" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当看这个图表时，很明显Masglo的产品设计师对红色有明显的偏好:三角形的顶部比左下方(绿色)更密集。换句话说，当创造指甲油的颜色时，他们倾向于以比绿色更高的比例混合红色。</p><p id="2c49" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们称之为“白色”的东西也高度集中在三角形的中心(记住，增加r、g和b的高值会产生更多的“白色”)。下面的圆圈重叠显示了Masglo的颜色在三种颜色的交叉点上的高比例。</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div role="button" tabindex="0" class="kt ku di kv bf kw"><div class="gh gi ln"><img src="../Images/cc84c27d9762c0641ea9b5cbf9732d70.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*YPcX2rwTmhs0EvFZydQjew.gif"/></div></div></figure><p id="58a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">因此，如果我们想为Masglo产品选择一种真正有代表性的颜色，我们不妨只过滤那些落在交叉点上的颜色。从数字上来说，颜色浓度的阈值可以对应于具有非常平衡的颜色混合的29种产品:对于每个r、g和b，混合在30%和35%之间。并且这将仅仅是那些数据点的“中间”颜色:(186，180，185)。它仍然受到红色的影响，但它转化为一个更加平衡的结果:</p><figure class="ko kp kq kr gt ks gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/df05ba1157aed8220a1362ea66644078.png" data-original-src="https://miro.medium.com/v2/resize:fit:428/format:webp/1*d6wDsKszFsnZr2e114fdjQ.png"/></div></figure></div><div class="ab cl lg lh hu li" role="separator"><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll lm"/><span class="lj bw bk lk ll"/></div><div class="ij ik il im in"><p id="0658" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">总之，这是一个有趣的过程:我学会了如何从png中抓取颜色代码(但无法用自己的眼睛区分它们……)，然后对这些代码进行数值分析。也许最有趣的部分(如果你会说西班牙语)是公司里的人给他们的产品起的离谱的名字。转到图形的交互版本，将鼠标悬停在上面，亲自查看。</p><p id="5132" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想就此话题或任何其他话题进行交流，请随时在LinkedIn上找到我:</p><div class="lu lv gp gr lw lx"><a href="https://www.linkedin.com/in/juan-felipe-alvarez-analytics/" rel="noopener  ugc nofollow" target="_blank"><div class="ly ab fo"><div class="lz ab ma cl cj mb"><h2 class="bd ir gy z fp mc fr fs md fu fw ip bi translated">Juan Felipe Alvarez -高级数据分析师| LinkedIn</h2><div class="me l"><h3 class="bd b gy z fp mc fr fs md fu fw dk translated">数据和分析专家，被好奇心和黑客心态所驱使。商业分析理学硕士…</h3></div><div class="mf l"><p class="bd b dl z fp mc fr fs md fu fw dk translated">www.linkedin.com</p></div></div><div class="mg l"><div class="mh l mi mj mk mg ml kx lx"/></div></div></a></div></div></div>    
</body>
</html>