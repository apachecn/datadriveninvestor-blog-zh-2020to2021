<html>
<head>
<title>Python: How to Get Live Bitcoin Data(Less Than 0.1-Second Lag).</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python:如何获取实时比特币数据(滞后小于0.1秒)。</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/python-how-to-get-live-cryptocurrency-data-less-than-0-1-second-lag-7f23d854314a?source=collection_archive---------4-----------------------#2021-01-18">https://medium.datadriveninvestor.com/python-how-to-get-live-cryptocurrency-data-less-than-0-1-second-lag-7f23d854314a?source=collection_archive---------4-----------------------#2021-01-18</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="c8c7" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">用于算法交易的Python</h2><div class=""/><div class=""><h2 id="519a" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">这篇文章会有点特别。我将测试Yahoo Finance API for Python的最新版本，它提供了免费获得实时加密货币数据的可能性，延迟不到一秒钟。</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/0160799096a50ac0e1ad44b2ae4e56f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*susiQLNZBYtsffvI"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Photo by <a class="ae lh" href="https://unsplash.com/@kevinrajaram?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Kevin Rajaram</a> on <a class="ae lh" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="bea2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">根据谷歌趋势，比特币正式成为2021年最时髦的搜索词之一。在2020年10月至2021年1月期间，针对“比特币”的研究数量增长了11倍。而使用搜索词“<em class="me">比特币金库</em>”的人数增加了<strong class="lk jd">3500%</strong>。(<a class="ae lh" href="https://trends.google.com/trends/explore?q=bitcoin&amp;geo=US" rel="noopener ugc nofollow" target="_blank">来源</a>)</p><p id="ba8c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">作为一个热衷于数据的人，我们必须跟上时代的步伐。这就是为什么我一直在研究一种简单的方法来每秒更新加密货币的基本面数据。</p><p id="fdc0" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在本文中，我们将发现如何使用Yahoo Finance API实时下载加密货币数据(<strong class="lk jd"> +/- 0.1秒滞后</strong>)。<strong class="lk jd">我帮你测试过了。那有用吗？让我们看看。</strong></p><blockquote class="mf mg mh"><p id="a86d" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated">如果你现在热衷于自己动手，你可以在最后得到我为你录制的完整Python代码和教程视频。T13】</p></blockquote><p id="1d5e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">通过本文，您将能够使用Python包获得加密货币市场数据，如价格、交易量和基本面数据。(<em class="me">滞后小于0.1秒</em>)。</p><p id="af15" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果你想在使用Python进行算法交易方面更进一步，我强烈推荐这篇文章:</p><div class="ml mm gp gr mn mo"><a href="https://medium.com/analytics-vidhya/python-i-have-tested-a-trading-mathematical-technic-in-realtime-658a80381151" rel="noopener follow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jd gy z fp mt fr fs mu fu fw jc bi translated">Python:我已经测试了实时交易数学技术。</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">我用Python实时测试了一个著名的预测市场的数学技术的实现…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">medium.com</p></div></div><div class="mx l"><div class="my l mz na nb mx nc lb mo"/></div></div></a></div><p id="628b" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">好，我们开始吧。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="a967" class="nk nl it bd nm nn no np nq nr ns nt nu ki nv kj nw kl nx km ny ko nz kp oa ob bi translated">开始前</h1><p id="8ccd" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">首先，如果你想跟踪我的进度，在开始之前，你需要在你的机器上安装一个<strong class="lk jd"> Python 3 </strong>版本和下面的包:</p><ul class=""><li id="6e3a" class="oh oi it lk b ll lm lo lp lr oj lv ok lz ol md om on oo op bi translated"><strong class="lk jd">熊猫</strong></li><li id="8a98" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated">NumPy </li><li id="d6ae" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><strong class="lk jd">y金融</strong></li><li id="6f9b" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><strong class="lk jd">plottly</strong>(<em class="me">非强制，但对绘图</em>有用)</li></ul><p id="487f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如果这些软件包中的任何一个尚未安装，您可以使用pip命令，如下所示。</p><pre class="ks kt ku kv gt ov ow ox oy aw oz bi"><span id="7d18" class="pa nl it ow b gy pb pc l pd pe">pip install yfinance<br/>pip install plotly</span></pre><p id="bd03" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦您确保安装了以下软件包，我们就可以开始了。</p><blockquote class="mf mg mh"><p id="e964" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated"><strong class="lk jd"> <em class="it">如果你已经有了使用Python的经验，可以跳到第二步。第一步包括导入包。</em> </strong></p></blockquote><h1 id="17b7" class="nk nl it bd nm nn pf np nq nr pg nt nu ki ph kj nw kl pi km ny ko pj kp oa ob bi translated">第一步:导入包。</h1><p id="7c8f" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">第一步将包括导入必要的包。</p><p id="9b8f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">首先，您将使用以下代码行导入先前安装的软件包:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pk pl l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Lines above are querying numpy, pandas, yfinance &amp; plotly to be imported.</figcaption></figure><p id="d83c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">一旦我们成立了，让我们进行下一步。</p><p id="2fa8" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">既然库已经导入，我们现在可以导入我们的加密数据了。</p><h1 id="5240" class="nk nl it bd nm nn pf np nq nr pg nt nu ki ph kj nw kl pi km ny ko pj kp oa ob bi translated">第二步:与市场接轨。</h1><p id="f92d" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">既然已经上传了所需的不同包。我们将使用对<strong class="lk jd">BTC-美元</strong>作为例子，通过Yahoo Finance API设置我们的导入。</p><p id="fd78" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">加密货币的选择列表可以像货币一样扩展。</p><p id="29a2" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">例如，如果你来自<strong class="lk jd">印度</strong>或<strong class="lk jd">加拿大</strong>，你可以使用<strong class="lk jd"> INR </strong>或<strong class="lk jd"> CAD </strong>两者都可以正常工作，如果你想要波纹或以太坊数据。</p><blockquote class="mf mg mh"><p id="c5e1" class="li lj me lk b ll lm kd ln lo lp kg lq mi ls lt lu mj lw lx ly mk ma mb mc md im bi translated">为了获得关于如何获得正确报价器的完整解释，我邀请您看一看本文末尾的代码解释视频。</p></blockquote><p id="8bcf" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们回到我们的API结构。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="5817" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">Yahoo Finance API将需要三个强制参数，顺序如下:</p><ul class=""><li id="7b0d" class="oh oi it lk b ll lm lo lp lr oj lv ok lz ol md om on oo op bi translated">跑马灯<em class="me"> (1) </em></li><li id="0f4e" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated"><em class="me">开始日期+结束日期</em>或期间<em class="me"> (2) </em></li><li id="b972" class="oh oi it lk b ll oq lo or lr os lv ot lz ou md om on oo op bi translated">音程<em class="me"> (3) </em></li></ul><p id="c869" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">对于我们的例子，股票代号<em class="me"> ( </em> <strong class="lk jd"> <em class="me">自变量1 </em> </strong> <em class="me"> ) </em>将是对<strong class="lk jd">BTC-美元</strong>。此外，对于此示例，我们将选择<strong class="lk jd">最后22小时</strong>作为时间段<em class="me"> ( </em> <strong class="lk jd"> <em class="me">参数2 </em> </strong> <em class="me"> ) </em>。并设置了间隔<em class="me"> ( </em> <strong class="lk jd"> <em class="me">自变量3</em></strong><em class="me">)</em><strong class="lk jd">15分钟</strong>。</p><p id="7a05" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">要调用您的数据，您必须使用以下结构:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi pm"><img src="../Images/2271e37d0614c03b99754580187bc4f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*Xan7t-FULY63Xpbh.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Above described the structure to get data which interest us.</figcaption></figure><p id="c8ba" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">在继续之前，我将带来第三个参数(<strong class="lk jd"> <em class="me">区间</em> </strong>)的一些细节。</p><h2 id="fa85" class="pa nl it bd nm pn po dn nq pp pq dp nu lr pr ps nw lv pt pu ny lz pv pw oa iz bi translated">区间快速查找</h2><p id="ce8e" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">我想给你一个快速拍摄不同的间隔，你可以使用雅虎财经API设置。</p><p id="96a1" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面详细列出了可能需要的间隔的完整列表:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi px"><img src="../Images/d371cb2fce35ee793fd41fd323e850f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*72ii5R3lapArXN0_.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Above are listed the different intervals which can be chosen.</figcaption></figure><p id="b88c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在我们已经定义了三个参数，让我们执行查询并检查输出。</p><p id="ab08" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">让我们进行一次现场测试。</p><h1 id="2258" class="nk nl it bd nm nn pf np nq nr pg nt nu ki ph kj nw kl pi km ny ko pj kp oa ob bi translated">第三步:现场测试</h1><p id="90d0" class="pw-post-body-paragraph li lj it lk b ll oc kd ln lo od kg lq lr oe lt lu lv of lx ly lz og mb mc md im bi translated">当我执行下面的行时，我们是2021年1月15日，伦敦时间下午5:40。让我们看看API如何响应，雅虎财经是否能给我们带来最新的价值。</p><p id="2275" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">仅供参考:英国时间下午5点40分相当于纽约时间下午12点47分。T55】</p><p id="5032" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">现在，我们已经定义了三个参数，让我们执行下面的代码行:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pk pl l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">The following line of code is calling Yahoo finance API</figcaption></figure><p id="866e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">简单回顾一下，上面的代码行调用Yahoo finance API并请求获得过去22小时的数据，间隔为15分钟。</p><p id="f4a5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这里是<strong class="lk jd">的输出:</strong></p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi py"><img src="../Images/fc3dcb07cd4e43157df76e95cd6103f5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S8wp95LEDTw7_peurUC_Hw.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Output released using the code above.</figcaption></figure><p id="c558" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">价格已经即时更新；我比较了官方网站和we matching上的数据和当前值。</p><p id="b909" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">轰！</strong></p><p id="5ad5" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">如您所见，每秒钟都有一个更新发布。例如，如果您查看上面的输出，所提供的最新数据是下午5:40和03秒。<strong class="lk jd">如果您重新运行您的内核，数据将再次更新。</strong></p><p id="291f" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated"><strong class="lk jd">任务完成。</strong></p><p id="fd74" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">下面，您可以观看一个10分钟的视频教程，了解如何获取加密货币数据，以及进一步的解释，并在家中自行测试:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pz pl l"/></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Full Python Tutorial</figcaption></figure><p id="753e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">这里是使用Python和Plotly的最终输出:</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi qa"><img src="../Images/b45228750a4df259142000c6c4d6c21a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*-RIab4EdndD-H9FfGjdlng.png"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Final output: Live graph being updated over time.</figcaption></figure><p id="a8d3" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">我希望你喜欢这些内容，如果你有任何意见或想要更多的细节，请随时在评论区告诉我。</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><p id="4d5e" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">感谢您的关注</p><p id="9e23" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">快乐编码</p></div><div class="ab cl nd ne hx nf" role="separator"><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni nj"/><span class="ng bw bk nh ni"/></div><div class="im in io ip iq"><h1 id="b5a6" class="nk nl it bd nm nn no np nq nr ns nt nu ki nv kj nw kl nx km ny ko nz kp oa ob bi translated">完整的Python代码:</h1><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="pk pl l"/></div></figure><div class="ml mm gp gr mn mo"><a href="https://www.datadriveninvestor.com/2020/12/07/name-matching-techniques-with-python/" rel="noopener  ugc nofollow" target="_blank"><div class="mp ab fo"><div class="mq ab mr cl cj ms"><h2 class="bd jd gy z fp mt fr fs mu fu fw jc bi translated">使用Python |数据驱动投资者的名称匹配技术</h2><div class="mv l"><h3 class="bd b gy z fp mt fr fs mu fu fw dk translated">我们确实面临很多情况，我们必须匹配一个有很多变体的单词。这可能是因为错别字…</h3></div><div class="mw l"><p class="bd b dl z fp mt fr fs mu fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="mx l"><div class="qb l mz na nb mx nc lb mo"/></div></div></a></div><p id="4f6c" class="pw-post-body-paragraph li lj it lk b ll lm kd ln lo lp kg lq lr ls lt lu lv lw lx ly lz ma mb mc md im bi translated">获得专家视图— <a class="ae lh" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="lk jd">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>