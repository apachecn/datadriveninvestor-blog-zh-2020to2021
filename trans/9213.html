<html>
<head>
<title>Multithreading and Multiprocessing</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多线程和多重处理</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/multithreading-and-multiprocessing-d4d5b668dad6?source=collection_archive---------18-----------------------#2021-02-03">https://medium.datadriveninvestor.com/multithreading-and-multiprocessing-d4d5b668dad6?source=collection_archive---------18-----------------------#2021-02-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="ec5c" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">了解什么是多线程和多处理，以及它们之间的区别</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/1de782b00cebfb265b36a1e219e5c82b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*9_1fHxBiHz8_I_ZP"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@clark_fransa?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Arnold Francisca</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><ul class=""><li id="a082" class="kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated"><strong class="ky ir">多线程</strong>是一种技术，其中由一个进程生成几个线程来同时、连续地执行单独的任务。这使您认为线程是并行运行的，然而它们实际上是以并排的方式运行的。Python编程语言中的全局解释器锁(GIL)拦截同时运行的线程。</li><li id="a5d5" class="kw kx iq ky b kz lo lb lp ld lq lf lr lh ls lj lk ll lm ln bi translated"><strong class="ky ir">多重处理</strong>是一种实现并行的技术。多个进程在多个CPU上同时运行，它们之间不共享资源。每个进程可以有许多线程。这些线程在它们自己的内存空间中运行。</li></ul><p id="5b60" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">考虑以下计算一个数的平方和立方的程序:</p><p id="fe54" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">首先，让我们看看通用代码和输出</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="3664" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">我们得到的上述程序的输出如下</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="3952" class="mn mo iq mj b gy mp mq l mr ms">Squares of all the numbers <br/>square of 2 is 4 <br/>square of 3 is 9 <br/>square of 4 is 16 <br/>square of 5 is 25  </span><span id="bc14" class="mn mo iq mj b gy mt mq l mr ms">Cubes of all the numbers <br/>cube of 2 is 4 <br/>cube of 3 is 9 <br/>cube of 4 is 16 <br/>cube of 5 is 25  </span><span id="f402" class="mn mo iq mj b gy mt mq l mr ms"><strong class="mj ir">Time taken 1.6047849655151367</strong></span></pre><p id="37f7" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">现在，让我们用多线程为上述问题写一段代码</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="7eee" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">上述代码的输出如下:</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="965f" class="mn mo iq mj b gy mp mq l mr ms">square of 2 is 4 <br/>cube of 2 is 4 <br/>square of 3 is 9 <br/>cube of 3 is 9 <br/>square of 4 is 16 <br/>cube of 4 is 16 <br/>square of 5 is 25 <br/>cube of 5 is 25  </span><span id="e094" class="mn mo iq mj b gy mt mq l mr ms"><strong class="mj ir">Time taken 0.8078334331512451</strong></span></pre><p id="6620" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">正如您所看到的，多线程技术花费了一半的时间来给出相同问题的输出。</p><p id="692a" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">我们可以使用多重处理得到相同的结果，如下所示</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="mg mh l"/></div></figure><p id="5f14" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">输出将如下</p><pre class="kg kh ki kj gt mi mj mk ml aw mm bi"><span id="3eac" class="mn mo iq mj b gy mp mq l mr ms">square of 2 is 4 <br/>cube of 2 is 4 <br/>square of 3 is 9 <br/>cube of 3 is 9 <br/>square of 4 is 16 <br/>cube of 4 is 16 <br/>square of 5 is 25 <br/>cube of 5 is 25  </span><span id="ba32" class="mn mo iq mj b gy mt mq l mr ms"><strong class="mj ir">Time taken 0.82962965965271</strong></span></pre><p id="e215" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">当这个程序执行时，总共有3个进程同时进行:我们的主父程序和2个进程，即p1和p2。需要注意的重要一点是，每个进程都有自己的地址空间，称为虚拟内存。因此，程序变量不能在两个进程之间共享。如果您想在两个进程之间共享数据，您需要使用进程间通信(IPC)技术。</p><p id="7c80" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">多线程和多重处理都是实现多任务的方法。然而，它们并不相同。以下是多线程和多处理之间的一些差异:</p><ul class=""><li id="99ce" class="kw kx iq ky b kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">与创建线程相比，创建进程既耗时又耗费资源。</li><li id="36d0" class="kw kx iq ky b kz lo lb lp ld lq lf lr lh ls lj lk ll lm ln bi translated">为了提高计算能力，多处理技术增加了CPU，而多线程技术创建了多个线程。</li><li id="a5ff" class="kw kx iq ky b kz lo lb lp ld lq lf lr lh ls lj lk ll lm ln bi translated">如果您的一个流程出现错误，其他流程不会受到影响。然而，多线程并非如此，因为所有线程都属于一个进程。因此，如果一个线程遇到错误，整个进程就会停止。另一方面，如果一个进程被阻塞，其他进程将无法执行，除非被阻塞的进程被解除阻塞。如果一个线程被阻塞，同一进程中的其他线程可以继续运行它们的任务。</li><li id="f396" class="kw kx iq ky b kz lo lb lp ld lq lf lr lh ls lj lk ll lm ln bi translated">在多重处理中，多个进程同时执行。在多线程中，单个进程的多个线程是并发执行的。</li></ul><p id="7499" class="pw-post-body-paragraph lt lu iq ky b kz la jr lv lb lc ju lw ld lx ly lz lf ma mb mc lh md me mf lj ij bi translated">我希望这篇文章是有帮助的。谢谢你阅读它！</p><blockquote class="mu mv mw"><p id="7d37" class="lt lu mx ky b kz la jr lv lb lc ju lw my lx ly lz mz ma mb mc na md me mf lj ij bi translated">你可以在这里联系我<a class="ae kv" href="https://jennysresume.netlify.app/portfolio/contact.html" rel="noopener ugc nofollow" target="_blank"/>。</p></blockquote></div></div>    
</body>
</html>