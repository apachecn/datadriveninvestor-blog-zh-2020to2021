<html>
<head>
<title>Intelligently Generate Frontend Code from Design Files: Form and Table Recognition</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">从设计文件智能生成前端代码:表单和表格识别</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/intelligently-generate-frontend-code-from-design-files-form-and-table-recognition-e4b4669f06a4?source=collection_archive---------30-----------------------#2021-02-18">https://medium.datadriveninvestor.com/intelligently-generate-frontend-code-from-design-files-form-and-table-recognition-e4b4669f06a4?source=collection_archive---------30-----------------------#2021-02-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/509815be975c05e1f8ceb98fa7f36b31.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*mEIWr0fvFffF5c_r.png"/></div></figure><p id="c597" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks">作者田可</em></p><p id="238e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">作为阿里巴巴前端委员会四大技术方向之一，前端智能项目在2019双11购物节期间创造了巨大的价值。前端智能项目为淘宝和天猫的新模块自动生成79.34%的代码。在此期间，R&amp;D团队经历了许多困难，并就如何解决这些困难进行了许多思考。在“从设计文件智能生成前端代码”系列中，我们讨论了前端智能项目背后的技术和思想。</p><h1 id="02ba" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">概观</h1><p id="ddff" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">在前端智能领域，尤其是中端和后端智能领域，表单和表格识别起着举足轻重的作用。中端和后端开发工作主要由表单和表格开发组成。因此，如果可以在几秒钟内从设计文件中智能地生成表单和表格的代码，生产率将会大大提高。本文描述了如何为窗体和表格生成代码。</p><h1 id="2c5a" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">D2C识别能力:技术架构</h1><p id="9a65" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">在表单/表格识别中使用了组件识别、布局算法和材料属性识别等技术。</p><p id="bfa8" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">材料识别层在整体架构中的位置如下图所示。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lw"><img src="../Images/4d16e14ed867d9585411e16c2b399dca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*OQd_X54gjJqxWSOR.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">Fig: Technical architecture of D2C recognition capabilities</figcaption></figure><h1 id="4023" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">演示:为表单和表格生成代码</h1><p id="1fec" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">要为通用前端组件(如表单和表格)生成代码，您需要获取一个快照，粘贴它，然后单击Recognize图标。如果字段文本的语言不是英语(例如，中文)，字段将被翻译成英语，并以小写字母显示。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="ab gu cl mj"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="ab gu cl mj"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">Fig: Form recognition demonstration</figcaption></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="ab gu cl mj"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">Fig: Table recognition demonstration</figcaption></figure><h1 id="bf5f" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">表格识别技术:机制</h1><p id="4313" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">表单和表格识别包括以下步骤:</p><p id="d477" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">1)使用对象检测技术检测所有类型的组件及其坐标。</p><p id="6e6d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">2)使用文本识别技术识别所有文本字段及其坐标，并使用自动翻译技术将其翻译成英语。</p><p id="df90" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">3)使用代码转换器从步骤1中获得的组件信息和步骤2中识别的文本信息中提取各种属性，例如表单或表格的布局、标签、类型和字段。</p><h1 id="d957" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">对象检测+文本识别</h1><p id="f99d" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">我们训练了更快的RCNN初始V2模型，并用它在目标检测中进行预测。有关更多信息，请参见从设计文件智能生成前端代码:基本组件识别。在文本识别期间使用通用的文本识别技术来检测文本内容和坐标。本文不描述细节。</p><p id="a0fa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">下图中，红框表示待检测对象，绿框表示待识别文本。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="ab gu cl mj"><img src="../Images/31573030d1a65a61fbd5e375cc6c1f55.png" data-original-src="https://miro.medium.com/v2/format:webp/1*b31hiO4ynbDLRrXWEFF4aQ.png"/></div></figure><h1 id="3b3b" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">代码转换器</h1><p id="13ce" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">本文重点介绍如何使用代码转换器从表单或表格中提取各种属性。</p><h2 id="946d" class="mk ku iq bd kv ml mm dn kz mn mo dp ld kf mp mq lh kj mr ms ll kn mt mu lp mv bi translated">将绝对坐标转换为行和列</h2><p id="e25e" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">首先，为了便于信息处理，将待检测对象和待识别文本的绝对坐标转换为行和列。行和列的特定数据结构是二维数组，其中第一维是列，第二维是行。算法逻辑包括以下步骤:</p><ul class=""><li id="0d15" class="mw mx iq jw b jx jy kb kc kf my kj mz kn na kr nb nc nd ne bi translated">垂直排序所有已识别的具有绝对坐标的方框。</li><li id="5bcd" class="mw mx iq jw b jx nf kb ng kf nh kj ni kn nj kr nb nc nd ne bi translated">遍历垂直排序的盒子列表，将同一行的盒子放在一个数组中，然后将它们水平排序成一行。</li><li id="b22b" class="mw mx iq jw b jx nf kb ng kf nh kj ni kn nj kr nb nc nd ne bi translated">按顺序将所有行放入一个数组中，以生成一个由行和列组成的二维数组。</li></ul><h2 id="467a" class="mk ku iq bd kv ml mm dn kz mn mo dp ld kf mp mq lh kj mr ms ll kn mt mu lp mv bi translated">确定窗体和表格的布局</h2><p id="efc3" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">窗体或表格的布局可以根据前面的行和列信息来确定。</p><p id="a3e9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">表单具有二维布局，与通过组件识别获得的行和列信息一致。因此，通过组件识别获得的行和列信息可以在嵌套循环中直接映射到表单协议。表格是一维的，只要确定了表头就可以确定表格的结构。因此，我们可以直接使用通过文本识别获得的行和列的二维数组的第一行作为表头。</p><h2 id="7feb" class="mk ku iq bd kv ml mm dn kz mn mo dp ld kf mp mq lh kj mr ms ll kn mt mu lp mv bi translated">计算表单和表格字段的值</h2><p id="2fea" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">确定表单或表格的布局后，我们可以计算字段值和类型。</p><p id="5951" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">表单字段的值是通过将标签翻译成英文并以小写字母表示获得的。如何提取标签？标签位于表单字段的左侧或顶部是常识。因此，算法逻辑是首先提取表单字段左边的标签。如果操作失败，从表单字段顶部提取标签。</p><p id="c847" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在表格中，表格字段是表格标题。从通过文本识别获得的行和列的二维数组中提取第一行后，可以获得表头的值。例如，您可以通过执行基于长度的筛选来过滤掉少于三个字段的行，从而仔细检查第一行是否是表头。</p><h2 id="38b2" class="mk ku iq bd kv ml mm dn kz mn mo dp ld kf mp mq lh kj mr ms ll kn mt mu lp mv bi translated">确定表单和表格字段的类型</h2><p id="0368" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">表单可能有各种字段类型，如输入字段、复选框和单选按钮。一个表可能有明文字段和链接。因此，我们必须确定表单和表格字段的类型。</p><p id="e05f" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">表单域的类型是从通过对象检测获得的信息中获得的，因为对象检测任务之一是提取表单域的类型。</p><p id="b30a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">表格字段的类型也从通过对象检测获得的信息中获得。每个表列中的字段属于同一类型。因此，只需要获得每一列中第一个字段的类型。</p><h2 id="d5ee" class="mk ku iq bd kv ml mm dn kz mn mo dp ld kf mp mq lh kj mr ms ll kn mt mu lp mv bi translated">计算表格的其他属性信息</h2><p id="687f" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">自动提取上述信息大大减少了工作量。使用以下方法提取更多属性信息:</p><ul class=""><li id="6a3c" class="mw mx iq jw b jx jy kb kc kf my kj mz kn na kr nb nc nd ne bi translated">递归识别:输入字段被识别后，可以将其提取出来并传递给另一个模型进行识别——例如，验证它是被禁用的还是必需的。</li><li id="8f34" class="mw mx iq jw b jx nf kb ng kf nh kj ni kn nj kr nb nc nd ne bi translated">在其他位置提取文本信息:例如，可能有占位符或默认值。</li></ul><h1 id="d7a3" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">前景</h1><p id="5a19" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">在今年的Apsara大会上，Daniel Zhang表示，大数据和计算能力是数字经济的燃料和引擎。目前在前端行业，组件化正在形成，海量的组件可以作为大数据。而且行业内的计算能力也在不断提升。我们将见证人工智能技术如何革新前端开发的模式。</p><h1 id="6f00" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">原始来源:</h1><div class="nk nl gp gr nm nn"><a href="https://www.alibabacloud.com/blog/intelligently-generate-frontend-code-from-design-files-form-and-table-recognition_597253" rel="noopener  ugc nofollow" target="_blank"><div class="no ab fo"><div class="np ab nq cl cj nr"><h2 class="bd ir gy z fp ns fr fs nt fu fw ip bi translated">从设计文件智能生成前端代码:表单和表格识别</h2><div class="nu l"><h3 class="bd b gy z fp ns fr fs nt fu fw dk translated">阿里巴巴F(x)团队2021年2月2日67作为前端委员会四大技术方向之一的…</h3></div><div class="nv l"><p class="bd b dl z fp ns fr fs nt fu fw dk translated">www.alibabacloud.com</p></div></div><div class="nw l"><div class="nx l ny nz oa nw ob js nn"/></div></div></a></div></div></div>    
</body>
</html>