<html>
<head>
<title>Exploratory Data Analysis and Correlations of House Market in Toronto</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">多伦多住宅市场的探索性数据分析及相关性</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/house-pricing-in-toronto-exploratory-data-analysis-and-correlations-45d2f11475f4?source=collection_archive---------4-----------------------#2020-02-11">https://medium.datadriveninvestor.com/house-pricing-in-toronto-exploratory-data-analysis-and-correlations-45d2f11475f4?source=collection_archive---------4-----------------------#2020-02-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/ac84e0ed900685e4863f8d589791326a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KQEl-8qVk-y3yygdWsENqA.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Toronto by night taken by Alexandre Risser <a class="ae kf" href="https://www.alexandrerisser.com/" rel="noopener ugc nofollow" target="_blank">https://www.alexandrerisser.com</a></figcaption></figure><p id="8e89" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在谷歌上搜索“如何在多伦多找到一套公寓”会得到几十页的建议，这是一个很好的指标，表明寻找公寓是一个痛苦的过程。</p><p id="1e4c" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">作为一名数据科学家实习生，我确信我可以稍微减轻这种痛苦，简化人们寻找居住地的方式。我想出的这个项目旨在找出大多伦多地区(GTA)公寓价格、位置、表面和卧室数量之间的关系。这个项目的商业理念是帮助公寓寻找者在GTA的不同社区找到最好的交易。</p><p id="c30d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在开始分析数据之前，我需要导入所有需要的包。对于这个项目，我导入了以下Python包<em class="le"> Seaborn </em>和<em class="le"> Matlpot </em>来可视化数据。</p><div class="lf lg gp gr lh li"><a href="https://www.datadriveninvestor.com/2019/02/21/best-coding-languages-to-learn-in-2019/" rel="noopener  ugc nofollow" target="_blank"><div class="lj ab fo"><div class="lk ab ll cl cj lm"><h2 class="bd iu gy z fp ln fr fs lo fu fw is bi translated">2019年最值得学习的编码语言|数据驱动的投资者</h2><div class="lp l"><h3 class="bd b gy z fp ln fr fs lo fu fw dk translated">在我读大学的那几年，我跳过了很多次夜游去学习Java，希望有一天它能帮助我在…</h3></div><div class="lq l"><p class="bd b dl z fp ln fr fs lo fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="lr l"><div class="ls l lt lu lv lr lw jz li"/></div></div></a></div><p id="8aab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们来看数据！</p><p id="2931" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">但之前有些笔记。出于我不明白的原因，我每次查询只能提取大约50–60条记录，因此，为了增加我的样本量，我运行了几天脚本，直到达到400条记录。</p><p id="846a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在查看数据时，我注意到了另一个问题:“邻居”列是一个自由文本字段，因此同一区域内很少有公寓可以有非常不同的邻居名称。此外，有时描述是苍白无力的；我有几张唱片只有“多伦多”、“北约克”、“马卡姆”。这些名字不是街区，而是城市。因为这两个问题，这个专栏很模糊。因此，我不能在我的分析中使用这一列，所以我推进了剩下的三个变量:价格、卧室数量和表面。</p><h1 id="2bd0" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">探索性分析</h1><p id="ed20" class="pw-post-body-paragraph kg kh it ki b kj mv kl km kn mw kp kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">经典的第一步是看变量的分布。根据下表，我注意到我有447条记录:</p><ul class=""><li id="6421" class="na nb it ki b kj kk kn ko kr nc kv nd kz ne ld nf ng nh ni bi translated">一居室公寓的218项记录</li><li id="93c0" class="na nb it ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">两居室公寓的169项记录</li><li id="8c50" class="na nb it ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">三居室公寓的45项记录</li><li id="40b1" class="na nb it ki b kj nj kn nk kr nl kv nm kz nn ld nf ng nh ni bi translated">四或五居室公寓的15个记录</li></ul><p id="e0e9" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我观察到多伦多的大多数公寓都属于一居室或两居室的类型；这并不意外。我决定，由于四居室和五居室公寓的记录数量较少，我不会过多讨论它们，而是将以下分析集中在一居室、两居室和三居室类别上。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/ddc2e535a64612f8d192d63d887be03f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WGzINsSAm95S72mkDZetSQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Summary table of all bedroom categories, source: Author</figcaption></figure><p id="0cb3" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">根据我的数据，如果你正在寻找一居室公寓，2020年2月的平均价格是2360美元，两居室公寓是3237美元，所以差价是877美元。一居室公寓的中位数价格是2250美元，两居室公寓的中位数价格是2900美元，差价是650美元。相比之下，两居室和三居室公寓之间的中位数差异不到100美元，平均差异为417美元，这可能给我们一个提示，即价格不会随着卧室数量的增加而线性增加。</p><p id="8dfe" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我从Craiglist上获取数据时，最便宜的公寓价格是730美元。如果你好奇的话，这里有这个公寓的链接:<a class="ae kf" href="https://toronto.craigslist.org/yrk/apa/d/north-york-enjoy-the-sunset-from-your/7066398010.html" rel="noopener ugc nofollow" target="_blank">链接</a>。在这种类型的网站上发现假房源并不罕见，所以下面是这个公寓的截图，看起来是合法的(以防你怀疑)。然而，我仍然不确定它是否确实是一居室。好像是合租公寓的卧室。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nt"><img src="../Images/6565979085f0c911adf084dcd0c41e97.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WwPduNecj9ScvpijO8UN_w.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Craiglist, source:Author</figcaption></figure><p id="ac07" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在我的数据集中，最贵的公寓是9000美元，令人惊讶的是，这是一套靠近著名的加拿大国家电视塔的两居室公寓。这里有一个<a class="ae kf" href="https://toronto.craigslist.org/tor/apa/d/toronto-large-2-bedroom-suite-with-den/7053754803.html" rel="noopener ugc nofollow" target="_blank">链接</a>(如果你买得起的话)。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nu"><img src="../Images/a8aca532d2f83ecb0c788989533187f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DrIYZ_LSgMXjnCuqh6xCUw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Most expensive appartment, source:Author</figcaption></figure><p id="4c20" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">接下来，我根据卧室的数量绘制了价格的箱线图。每个箱线图是不同分位数的图形表示，方框内的水平线代表价格的中位数。</p><p id="af70" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我注意到两居室和三居室公寓的箱线图有重叠。因此，根据我的数据，用两居室的预算，一个潜在的租房者可以在多伦多买一套三居室。</p><p id="8a93" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于数据的分散性，两居室公寓类别的方差高于一居室，有许多价格在6000美元至9000美元之间的异常值。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div class="gh gi nv"><img src="../Images/ced1e4603f58976ed8622f9d163392a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:802/format:webp/1*-9mQbMU4uhkZXRIfyQQ6Fw.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Price per number of bedrooms, source: Author</figcaption></figure><p id="7d57" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">然后我检查了所有卧室类别的两个变量的分布:价格和表面。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div class="gh gi nw"><img src="../Images/fbadc8edc178966ee89236cf6c587dc7.png" data-original-src="https://miro.medium.com/v2/resize:fit:796/format:webp/1*7g2b9AEUhjKeR6Fwbnay4g.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Price Distribution, source: Author</figcaption></figure><p id="8fd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我从价格分布开始。我注意到很多价格在2100美元左右的公寓，价格在9000美元之前有一条长长的尾巴。分布似乎是右偏的。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/ae4d6f2fb5fce6b1c571b78a924c4845.png" data-original-src="https://miro.medium.com/v2/resize:fit:786/format:webp/1*T7SwhMyXV1u5nzxJGENPZQ.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Surface distribution, source: Author</figcaption></figure><p id="9b86" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">关于面积分布，许多公寓的面积在900到1，000平方英尺之间(对于非帝国读者来说是92平方米)。它还有一条向右倾斜的长尾巴，长达5000平方英尺(约。465 m)。</p><p id="3e0e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">继续，下面是一个散点图，卧室的数量给点着色。这显示了一个清晰的、可理解的和预期的分层:围绕特定价格和平方英尺聚集的点的层，随着价格和平方英尺的增加，卧室的数量也增加。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/c1e3b0fc85e976c1a4c21767c16c771d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*e2wzjqM2JUafHAyYon-nOw.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Price vs Square Footage Colored by Number of Bedrooms, source: Author</figcaption></figure><h1 id="d847" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">相关性检验</h1><p id="000c" class="pw-post-body-paragraph kg kh it ki b kj mv kl km kn mw kp kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">接下来，我想测试价格和表面之间的相关性。为了做到这一点，我需要研究我可以使用的测试。上面的两个直方图已经可以让我们了解不遵循正态分布的数据。我在下面做了Q-Q图进一步验证了这一点。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/faa39d00257924351b71eba189210ce1.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*vau9byxS-RJ9CRz7eBPcXQ.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">QQ plot — Surface, source: Author</figcaption></figure><figure class="np nq nr ns gt ju gh gi paragraph-image"><div class="gh gi nz"><img src="../Images/bae3b2056b0bd09d374bea8151880595.png" data-original-src="https://miro.medium.com/v2/resize:fit:790/format:webp/1*j3c3HUdSIM4DTYJvFIMfcg.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">QQ plot — Price, source: Author</figcaption></figure><p id="dcec" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果数据大致沿着红线，那么数据应该是正态分布的。此外，我之前展示了数据的分布是右偏的。这是由于大量公寓处于相同的价格范围内，每月2000美元至3000美元之间。因此，我无法对它进行参数测试。相反，为了显示我的三个变量之间的相关性，我使用“Kendall”方法进行了相关性测试。这种方法是一种完全非参数的线性回归方法，其中有一个自变量和一个因变量。它对因变量中的异常值是稳健的。结果如下表所示，从中我得出了几点结论。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div class="gh gi oa"><img src="../Images/d817083311a63aaaaed8a26026cb4692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1388/format:webp/1*ZXge8qJj_xBqxgIKsZZfwQ.png"/></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Correlation score, source: Author</figcaption></figure><p id="d9d0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如所料，卧室数量和公寓面积之间的相关性相对较强，为0.63。这在逻辑上是可以预料的，因为一个公寓的卧室越多，它们所占的面积就越大。</p><p id="47fd" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">此外，价格和卧室数量之间的相关性较低(0.38)也不足为奇。同样，价格和表面的相关性是0.39。在我看来，公寓的价格首先会受到城市位置的影响，然后可能会随着面积和/或卧室数量的增加而增加。例如，位于市中心附近的公寓可能会比远离市中心的公寓更贵，如果两者的表面相同的话。</p><p id="7337" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我想深入挖掘多伦多的住房数据，以便能够将位置(例如，街区)作为另一个变量包括在内。但是，为了做到这一点，我需要改变数据的来源。所以，我对改善结果，获得合理结论的建议是，下一次，我会选择更有价值的网站去刮，以便获得更有价值的数据。</p><p id="28e0" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">无论如何，我希望你欣赏这些见解，并随时给我一些反馈=)。</p><p id="ab8d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我在Github上的<a class="ae kf" href="https://github.com/walkyrie67/House_pricing_in_Toronto" rel="noopener ugc nofollow" target="_blank">回购</a>。</p><figure class="np nq nr ns gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ob"><img src="../Images/26c22cf541d3ab9b04cedc1f00c4291a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*pwTwHMpSHqLNzWZP"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Toronto from Gardiner Expressway by Alexandre Risser <a class="ae kf" href="https://www.alexandrerisser.com/" rel="noopener ugc nofollow" target="_blank">https://www.alexandrerisser.com</a></figcaption></figure><figure class="np nq nr ns gt ju"><div class="bz fp l di"><div class="oc od l"/></div></figure></div></div>    
</body>
</html>