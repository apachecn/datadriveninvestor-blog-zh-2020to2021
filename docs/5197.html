<html>
<head>
<title>Yes! You Can Create Your Own Chatbot With Voice!</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">是啊！您可以创建自己的语音聊天机器人！</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/yes-you-can-create-your-own-chatbot-with-voice-60acf85ed25?source=collection_archive---------6-----------------------#2020-09-09">https://medium.datadriveninvestor.com/yes-you-can-create-your-own-chatbot-with-voice-60acf85ed25?source=collection_archive---------6-----------------------#2020-09-09</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/5f16bb50e83888f92ac1aa2ca71c45cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IfHc0tX71qLedcwJREnf1g.jpeg"/></div><figcaption class="ju jv gj gh gi jw jx bd b be z dk"><a class="ae jy" href="https://technologyadvice.com/blog/marketing/chatbots-consumers-want-expect/" rel="noopener ugc nofollow" target="_blank">This image is from here!</a></figcaption></figure><p id="0d3d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">如今，聊天机器人在销售、电子商务、健康公司、餐馆、零售行业等不同领域都非常受欢迎。因为聊天机器人大大缩短了等待时间，它可以同时即时帮助和回答不同消费者的常见问题。此外，它可以帮助公司降低成本，为人民服务。</p><p id="1e4c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">我们的团队叫做<a class="ae jy" href="https://github.com/melanieshi0120/AI_Chatbot_Project" rel="noopener ugc nofollow" target="_blank"> Chacha </a>，这也是我们聊天机器人的名字。我们的目标是为数据科学学生创建一个人工智能聊天机器人。聊天机器人可以回答数据科学学生的常见问题，还可以帮助教师避免多次重复相同的答案。该项目基本包含三个部分——硬编码算法、深度学习部分和接口部分。</p><p id="293f" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在这篇博客中，我将展示一个简单的硬编码聊天机器人，它可以和你说话。</p><div class="kx ky gp gr kz la"><a href="https://www.datadriveninvestor.com/2020/02/03/how-an-ai-based-chatbot-can-help-you-form-better-long-term-habits/" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">基于人工智能的聊天机器人如何帮助你形成更好的长期习惯</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">当我们思考我们的日常行为时，我们经常没有意识到，我们所做的行为占了多大的比例…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo js la"/></div></div></a></div><h1 id="e353" class="lp lq iq bd lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm bi translated">Python中的代码</h1><p id="5ecd" class="pw-post-body-paragraph jz ka iq kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw ij bi translated">首先，你需要先安装一些包。您需要通过终端安装最后一个。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="1152" class="nb lq iq mx b gy nc nd l ne nf"><em class="ng"># install packages/libraries first </em><br/><em class="ng">!pip install pyttsx3</em><br/><em class="ng">!pip install wikipedia</em><br/><em class="ng">!pip install SpeechRecognition</em><br/><em class="ng">!pip install pygame</em><br/><em class="ng">!pip install pyown</em><br/><em class="ng"># conda install pyaudio # please install this via ternimal</em></span></pre><p id="be7d" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">然后我们可以导入一些库。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="a3b8" class="nb lq iq mx b gy nc nd l ne nf">import pandas as pd <br/>import numpy as np <br/>import time <br/>from nltk.corpus import stopwords <br/>import re, string <br/>import nltk <br/>import random<br/>import datetime<br/>import webbrowser<br/>import pyttsx3<br/>import wikipedia<br/>from pygame import mixer<br/>import speech_recognition as sr<br/>&gt;&gt;&gt; <br/>pygame 1.9.6<br/>Hello from the pygame community. <a class="ae jy" href="https://www.pygame.org/contribute.html" rel="noopener ugc nofollow" target="_blank">https://www.pygame.org/contribute.html</a></span></pre><p id="dfd6" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">然后我们需要设置语速，选择不同的口音和性别。如果你想让聊天机器人用美国口音跟你说话，那就设置<em class="ng">语音[0]，</em>如果你喜欢英国口音，那就设置<em class="ng">语音[1]。</em></p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="dd1e" class="nb lq iq mx b gy nc nd l ne nf"><em class="ng"># Set up the voice rate, engine</em><br/>engine = pyttsx3.init()<br/>voices = engine.getProperty('voices')<br/>engine.setProperty('voice', voices[10].id) <br/>volume = engine.getProperty('volume')<br/>engine.setProperty('volume', 10.0) <br/>rate = engine.getProperty('rate')<br/>engine.setProperty('rate', rate - 25) <em class="ng"># you can change the speed</em></span></pre><p id="9ec4" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在，我们已经完成了基础部分，让我们进入下一部分。这一部分主要是关于NLP分析，在我以前的博客中，我谈到了如何处理文本数据。我将在这里简单地展示代码，如果你对NLP感兴趣，你可以访问我的关于NLP的博客。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="6711" class="nb lq iq mx b gy nc nd l ne nf"># create the data </span><span id="ed57" class="nb lq iq mx b gy nh nd l ne nf">questions=["what is data science?","why chatbots are important?"]</span><span id="c83d" class="nb lq iq mx b gy nh nd l ne nf">answers=["Data science is an inter-disciplinary field that uses scientific methods, processes, algorithms and systems to extract knowledge and insights from many structural and unstructured data.",<br/>         "Chatbot applications streamline interactions between people and services, enhancing customer experience."]</span><span id="2e63" class="nb lq iq mx b gy nh nd l ne nf"># make sure all the words in following lists are lower case without punctuations.</span><span id="7ee8" class="nb lq iq mx b gy nh nd l ne nf">goodbye=["bye","goodbye","see you"]</span><span id="790d" class="nb lq iq mx b gy nh nd l ne nf">greeting=["how are you","nice to meet you"]</span><span id="0f79" class="nb lq iq mx b gy nh nd l ne nf">thanks=["thanks","thank you"]</span><span id="b396" class="nb lq iq mx b gy nh nd l ne nf">yourwelcome=["no problem","you are welcome"]</span></pre><p id="8baa" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">是时候用NLTK库创建一些函数了。以下代码的步骤是删除标点、标记化、词干化、词汇化和组合函数，这些函数将所有这些函数结合在一起处理文本数据——问题和答案！那些功能是我自己创建的，如果你需要，请随意复制粘贴，但请引用我的名字或这个博客！</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="c10c" class="nb lq iq mx b gy nc nd l ne nf"><em class="ng"># list contains punctuation</em><br/>sw_list = list(string.punctuation)<br/>sw_list += ["''", '""', '...', '``', '’', '“', '’', '”', '‘', '‘',"'", '©',<br/>'said',"'s", "also",'one',"n't",'com', '-', '–','--' ,<br/>'—', '_']<br/>sw_set = set(sw_list)<br/><br/><em class="ng"># tokenization</em><br/><strong class="mx ir">def</strong> process_data(string):<br/>    tokens = nltk.word_tokenize(string) <em class="ng"># tokenization</em><br/>    punctuation_removed = [token.lower() <strong class="mx ir">for</strong> token <strong class="mx ir">in</strong> tokens <strong class="mx ir">if</strong> token.lower() <strong class="mx ir">not</strong> <strong class="mx ir">in</strong> sw_set]<br/>    <strong class="mx ir">return</strong> punctuation_removed<br/><br/><em class="ng"># Stemming</em><br/><strong class="mx ir">from</strong> <strong class="mx ir">nltk.stem</strong> <strong class="mx ir">import</strong> PorterStemmer<br/>ps = PorterStemmer()<br/><em class="ng"># create a function stemming() and loop through each word in a review</em><br/><strong class="mx ir">def</strong> stemming(string):<br/>    stemmed_string=[]<br/>    <strong class="mx ir">for</strong> w <strong class="mx ir">in</strong> string:<br/>        stemmed_string.append(ps.stem(w))<br/>    <strong class="mx ir">return</strong> stemmed_string<br/><br/><em class="ng"># import libraries</em><br/><strong class="mx ir">from</strong> <strong class="mx ir">nltk.stem.wordnet</strong> <strong class="mx ir">import</strong> WordNetLemmatizer<br/>lemmatizer = WordNetLemmatizer()<br/><br/><em class="ng"># create a function  and loop through each word in  a review</em><br/><strong class="mx ir">def</strong> lemmatization(string):<br/>    lemma_list=[]<br/>    <strong class="mx ir">for</strong> word <strong class="mx ir">in</strong> string:<br/>        lemma_word=lemmatizer.lemmatize(word,pos='v') <br/>        lemma_list.append(lemma_word)<br/>    <strong class="mx ir">return</strong> lemma_list<br/><br/><em class="ng"># Conbime all functions above and obtian cleaned text data </em><br/><strong class="mx ir">def</strong> data_preprocessing(text_data):<br/>    <em class="ng">#tokenization, stop words removal, punctuation marks removel</em><br/>    processed_string=list(map(process_data,text_data))<br/>    <em class="ng"># stemming</em><br/>    stemming_string=list(map(stemming,processed_string))<br/>    <em class="ng"># lemmatization</em><br/>    lemma_string=list(map(lemmatization,stemming_string))<br/>    <br/>    <strong class="mx ir">return</strong> lemma_string<br/># create a function of NLP for single line<br/>def NLP(text):<br/>    processed_question=process_data(question)<br/>    stemming_question=stemming(processed_question)<br/>    lemma_question=lemmatization(stemming_question)<br/>    return lemma_question</span></pre><p id="ee58" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">在创建了一些有用的函数之后，我们可以简单地使用最后一个函数。我们可以看到，在NLP处理之后，每个问题的单词都回到了单词的词根——例如，“is”变成了“be”。</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="bf08" class="nb lq iq mx b gy nc nd l ne nf"><em class="ng"># using the function above to process the data </em><br/>cleaned_questions=data_preprocessing(questions)<br/>cleaned_questions<br/>&gt;&gt;&gt;<br/>[['what', 'be', 'data', 'scienc'], ['whi', 'chatbot', 'be', 'import']]</span></pre><p id="c858" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在是时候创建一个聊天机器人功能了！</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="fecc" class="nb lq iq mx b gy nc nd l ne nf">def chatbot(question):<br/>    if  question.strip().lower() in greeting:<br/>        answer=random.choice(greeting).capitalize()<br/>        return  answer<br/>    elif  question.strip().lower() in goodbye:<br/>        answer=random.choice(goodbye)<br/>        return answer<br/>        <br/>    elif question.strip().lower() in thankyou:<br/>        answer= random.choice(yourwelcome).capitalize()<br/>        return  answer<br/>    else:<br/>        pro_text=NLP(questions)<br/>        # to find which row has intersection with the words from question you asked<br/>        # which means to find the who have common elements between your question and the data<br/>        inter_list=[]<br/>        for i in cleaned_questions:<br/>            if (set(pro_text) &amp; set(i)):<br/>                inter_list.append((list(set(pro_text) &amp; set(i)),cleaned_questions.index(i)))<br/>        # find the max length of common elements<br/>        lengths=[len(inter_list[i][0]) for i in range(len(inter_list)) ]<br/>        <br/>        indexes=[]<br/>        if len(lengths)&gt;0:<br/>            max_length=max(lengths)<br/>            # find all the index whose correspondiong question data have the most common elements<br/>            for i in range(len(inter_list)):<br/>                if len(inter_list[i][0])==max_length:<br/>                    indexes.append(inter_list[i][1])<br/>                    answer_index=random.choice(indexes)<br/>                    return answers[answer_index]<br/>                else:<br/>                        return "Sorry I need to learn more!"<br/>        else:<br/>            return "Sorry I need to learn more!"</span></pre><p id="f639" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">现在我们可以运行聊天机器人了！</p><pre class="ms mt mu mv gt mw mx my mz aw na bi"><span id="67cc" class="nb lq iq mx b gy nc nd l ne nf">while(True): <br/>    question = input("You: ")<br/>    <br/>    if question.strip().lower() in goodbye:<br/>        answer=random.choice(goodbye)<br/>        print("Chacha: "+answer+"\n")<br/>        engine.say(answer)<br/>        engine.runAndWait()<br/>        break<br/>    else:<br/>        answer=chatbot(question)<br/>        print("Chacha: "+answer+"\n")<br/>        engine.say(answer)<br/>        engine.runAndWait()<br/>&gt;&gt;&gt;<br/>You: hi<br/>Chacha: Hi<br/><br/>You: how are you<br/>Chacha: Hi<br/><br/>You: what is data science?<br/>Chacha: Data science is an inter-disciplinary field that uses scientific methods, processes, algorithms and systems to extract knowledge and insights from many structural and unstructured data.<br/><br/>You: chatbot<br/>Chacha: Chatbot applications streamline interactions between people and services, enhancing customer experience.<br/><br/>You: thanks<br/>Chacha: No problem<br/><br/>You: bye<br/>Chacha: see you</span></pre><p id="7154" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated">恭喜你！您可以创建自己的聊天机器人！当然，如果你有更多的数据，算法还需要改进。详情请访问我的<a class="ae jy" href="https://github.com/melanieshi0120/AI_Chatbot_Project" rel="noopener ugc nofollow" target="_blank"> Github </a>！</p><div class="kx ky gp gr kz la"><a href="https://medium.com/swlh/natural-language-processing-nlp-analysis-with-amazon-review-data-part-i-data-engineering-6573b782e4dc" rel="noopener follow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">亚马逊评论数据的自然语言处理(NLP)分析(第一部分:数据工程)</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">在人工智能领域，有很多科学家仍然在研究和专注于创造和改进机器…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">medium.com</p></div></div><div class="lj l"><div class="ni l ll lm ln lj lo js la"/></div></div></a></div><div class="kx ky gp gr kz la"><a href="https://medium.com/@melaniesoek0120/natural-language-processing-nlp-amazon-review-data-part-ii-eda-data-preprocessing-and-model-3866dcbdbb77" rel="noopener follow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">自然语言处理(NLP) -亚马逊评论数据(第二部分:EDA，数据预处理和模型…</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">我以前的博客谈到了文本数据工程的所有必要步骤，这个博客将提出EDA和数据…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">medium.com</p></div></div><div class="lj l"><div class="nj l ll lm ln lj lo js la"/></div></div></a></div><div class="kx ky gp gr kz la"><a href="https://github.com/melanieshi0120/AI_Chatbot_Project" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd ir gy z fp lf fr fs lg fu fw ip bi translated">melanieshi 0120/AI _ Chatbot _ Project</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">NLP分析/ RNN-Seq2Seq模型/。通过在…上创建帐户，为melanieshi 0120/AI _ Chatbot _ Project开发做出贡献</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">github.com</p></div></div><div class="lj l"><div class="nk l ll lm ln lj lo js la"/></div></div></a></div><p id="1f0c" class="pw-post-body-paragraph jz ka iq kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw ij bi translated"><strong class="kb ir">访问专家视图— </strong> <a class="ae jy" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="kb ir">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>