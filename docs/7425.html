<html>
<head>
<title>Stocks Risks Analysis with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Python进行股票风险分析</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/stocks-risks-analysis-with-python-d584bc08f938?source=collection_archive---------5-----------------------#2020-12-08">https://medium.datadriveninvestor.com/stocks-risks-analysis-with-python-d584bc08f938?source=collection_archive---------5-----------------------#2020-12-08</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="414c" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">用于金融分析的Python</h2><div class=""/><div class=""><h2 id="00be" class="pw-subtitle-paragraph jz jc it bd b ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq dk translated">了解股票波动性</h2></div><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi kr"><img src="../Images/b9a8a79436444ce975fa5690d689db6a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HprJpsKvGVXsDYdVNnHlEA.jpeg"/></div></div><figcaption class="ld le gj gh gi lf lg bd b be z dk">Image by <a class="ae lh" href="https://unsplash.com/@bash__profile" rel="noopener ugc nofollow" target="_blank">Nicholas Capello</a> available at <a class="ae lh" href="https://unsplash.com/photos/Wb63zqJ5gnE" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="8a16" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">股票市场和投资</h1><p id="1781" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">从股市投资中获利有一个主要的基本原则:以高于买入价的价格卖出股票。换句话说:<strong class="mc jd">低买</strong>，<strong class="mc jd">高卖</strong>。听起来很简单，但实际上并不简单。</p><p id="b8ee" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">然而，在收购时的股票价格和出售时的价格之间总会有一段时间间隔；它的价格要么上涨，要么下跌。对某些股票来说，价格上涨(或下跌)所需的时间比其他股票要短或长。这是由于公司最近的活动以及基于其业绩、增长、目标、管理或战略计划变化的市场意见/情绪。</p><h1 id="8e02" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">风险、波动性和回报</h1><p id="8a9d" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">一只股票的风险是通过它的<strong class="mc jd">波动</strong>来衡量的(和其他指标一起)；换句话说:通过它成长的<strong class="mc jd">稳定度</strong>。</p><p id="1174" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">股票风险越高(即高波动性)，获得更高回报(或损失)的概率就越大。另一方面，股票风险越低(即波动性低)，回报(或亏损)越小的概率越大。这就是通常所说的<strong class="mc jd">风险回报权衡</strong>，每个投资者在考虑投资决策时都会遇到。</p><p id="471d" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">在这些决定中，当决定购买哪些股票时，有两个因素:投资者愿意持有的时间和期望的回报/利润。</p><p id="65bd" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">考虑以下场景:</p><ul class=""><li id="da73" class="nb nc it mc b md mw mg mx mj nd mn ne mr nf mv ng nh ni nj bi translated">如果一个投资者想在短时间内获得巨额利润，他/她将不得不投资高波动性的股票，并希望抓住有利的机会。尽管这是最好的情况，但也是投资风险最高的情况。<em class="nk">例子</em>:你的投资组合价值在一天内增加了20%。</li><li id="f926" class="nb nc it mc b md nl mg nm mj nn mn no mr np mv ng nh ni nj bi translated">如果一个投资者想在<strong class="mc jd">短时间内</strong>获得<strong class="mc jd">适度的利润</strong>，他/她将不得不寻找低波动性的股票，并希望获得积极的走势。这是一个短期投资方案，投资风险适中。例:你的投资组合价值在一天内增加了3%。</li><li id="fb5c" class="nb nc it mc b md nl mg nm mj nn mn no mr np mv ng nh ni nj bi translated">如果一个投资者想在一个较长的时期内赚取适度的利润，他/她将不得不寻找波动性低、趋势积极的股票。这是投资风险最低的最保守方案。例:你的投资组合价值在一年内增加了3%。</li><li id="3c5f" class="nb nc it mc b md nl mg nm mj nn mn no mr np mv ng nh ni nj bi translated">如果一个投资者想在一个<strong class="mc jd">的长时间</strong>内获得<strong class="mc jd">巨额利润</strong>，他/她将不得不寻找具有积极趋势的低波动股票，并持有更长时间。这是一个低投资风险的长期投资方案。<em class="nk">例子</em>:你的投资组合价值在5年内增加了20%。</li></ul><p id="4aeb" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">如今，投资者被鼓励利用多种编程语言和软件的应用和优势来分析股票的风险、趋势和波动性，以建立有效的决策支持系统，做出最佳和可信的决策。</p></div><div class="ab cl nq nr hx ns" role="separator"><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv nw"/><span class="nt bw bk nu nv"/></div><div class="im in io ip iq"><p id="be23" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">对于下面的研究案例，让我们使用Python分析五只非常受欢迎的股票(微软、特斯拉、苹果、亚马逊和谷歌)的风险，考虑它们在2015年至2020年的每日收盘价，以做出购买哪只股票的投资决策。让我们来看看Python代码:</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi nz"><img src="../Images/904e12b9e18104a25c8146e60de206d6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8akN6h0uRF0SBHT67FTIfw.png"/></div></div></figure><p id="fc5d" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">雅虎财经功能提供股票开盘价、最高价、最低价、收盘价、成交量、股息和股票分割信息。然而，出于分析的目的，我们只对它们的“接近”值感兴趣。让我们将股票收盘价连接成一个数据框。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oa"><img src="../Images/ad2d4bb96e77b7ff5563ca00cef2d84f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0n4stjkSftlZzM868uWkCA.png"/></div></div></figure><p id="8385" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">接下来，让我们计算股票的每日百分比变化，并绘制它们，以直观地分析它们在过去五年中的变化行为。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi ob"><img src="../Images/9baddd64495cfab897b4d929e091931b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*J79e5byX-7b0aJHoSGlTyg.png"/></div></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oc"><img src="../Images/370c0df1bbe6823443eab316dc1d01b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*8K6QHG0bV5gEeBk_6pRLtQ.png"/></div></div></figure><p id="0732" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">根据上面的图，TSLA似乎是五只分析股票中波动最大的，而MSFT似乎是波动最小的。为了理解这种解释，人们应该关注图中峰值的数量(向上或向下):峰值的数量越高，股票的波动性越高，因此，与之相关的投资风险也就越大。</p><p id="cb3a" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">现在，让我们计算累积回报，并绘制它们来比较这些年来的股票行为。此外，让我们绘制盒状图(也称为盒状和须状图)。</p><p id="67ac" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">现在，让我们计算累积回报，并绘制它们来比较这些年来的股票行为。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi od"><img src="../Images/c0e263dc90a37cbc0f53f70418b3e2b0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*OE9Ej1_XF3ZQ4zw_X-5vpg.png"/></div></div></figure><p id="8f8a" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">根据上面的累积回报图，到2020年初，AMZN股票的累积回报最高，其次是MSFT、AAPL、GOOG，最后是TSLA。</p><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/0bee5f2a09d163dd01f81a8752fad6c8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*et87teqooirV55Y1dXPLNQ.png"/></div></div></figure><p id="83c0" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">上面的方框图显示了股票在五年期间的每日收益分布。盒子越宽，胡须越长，股票越不稳定。根据上图，可以确定TSLA是五只分析股票中波动最大的股票。另一方面，可以确定的是，MSFT和AAPL股票是波动性最小的股票。</p><p id="acbc" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">现在，让我们计算每只股票的标准差，并用30天移动平均线来绘制它们。另外，我们也来计算一下年化标准差。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi of"><img src="../Images/94389f425ea7f2536c1cc3fb6ad4196f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*adVNcypfYGo6ouWfVmdlOA.png"/></div></div></figure><p id="5145" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">有意思。根据上面的图，2015年、2018年和2019年TSLA和AMZN股票波动很大。相比之下，2017年是大多数股票波动性最低的一年。在过去五年的分析中，MSFT、AAPL和GOOG股票的滚动标准差在某种程度上非常相似。</p><p id="b369" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">最后，让我们计算五只股票的年夏普比率。</p><figure class="ks kt ku kv gt kw"><div class="bz fp l di"><div class="nx ny l"/></div></figure><figure class="ks kt ku kv gt kw gh gi paragraph-image"><div role="button" tabindex="0" class="kx ky di kz bf la"><div class="gh gi oe"><img src="../Images/0f239db60614edaaa5b77fcdf1330017.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GRg4WZwkjAh1tYmcp15s_A.png"/></div></div></figure><p id="7848" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">根据为每只分析股票计算的夏普比率，AMZN以1.37的夏普比率获得了最好的分数。夏普比率大于1.0(即阿姆锌和MSFT)被认为是最优的，而小于1.0(即AAPL、谷歌和TSLA)被认为是次优的。</p><h2 id="bf7a" class="og lj it bd lk oh oi dn lo oj ok dp ls mj ol om lu mn on oo lw mr op oq ly iz bi translated">做出投资决策</h2><p id="88bb" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">对于这个例子，如果一个投资者必须只根据股票的累积收益来作出投资决定，他/她会选择AMZN股票，因为它的表现远远超过所有其他股票。</p><p id="266d" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">另一方面，如果投资者不得不仅仅根据股票的标准差来做出投资决策，他/她会选择MSFT股票，以尽量减少波动性。</p><p id="1f85" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">最后，如果投资者必须仅根据股票的夏普比率做出投资决策，他/她会选择AMZN股票，因为它得到了最好的分数。</p><h1 id="93c7" class="li lj it bd lk ll lm ln lo lp lq lr ls ki lt kj lu kl lv km lw ko lx kp ly lz bi translated">总结想法</h1><p id="1240" class="pw-post-body-paragraph ma mb it mc b md me kd mf mg mh kg mi mj mk ml mm mn mo mp mq mr ms mt mu mv im bi translated">在这个例子中，获得了三个指标来分析股票风险:累积收益、标准差和夏普比率。虽然研究案例提出了考虑单一指标的三个不同的投资决策，但在现实生活中，投资决策是考虑多个指标而不是一个指标做出的。</p><p id="8ced" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">在研究案例中，用于确定购买哪些股票的指标仅考虑股票的过去表现；他们没有考虑公司的财务报表，也没有试图预测未来任何时候的股票价格。为了进行未来预测，需要使用不同的方法和算法，例如回归分析、时间序列分析或机器学习模型(例如神经网络)，等等。</p><p id="b799" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">任何投资者所能做出的最糟糕的决定就是仅凭直觉、胆量或对某家公司的个人感觉投资某只股票，而不考虑当前的市场状况和股票过去(和最近)的表现。股票市场是高度不稳定的，这就是为什么必须使用风险度量和分析工具来定义和投资策略，并做出最佳和可信的决策。</p><p id="875c" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated"><em class="nk"> — — </em></p><p id="2011" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated"><em class="nk">如果你觉得这篇文章有用，欢迎在</em> <a class="ae lh" href="https://github.com/rsalaza4/Stocks-Risk-Analysis" rel="noopener ugc nofollow" target="_blank"> <em class="nk"> GitHub </em> </a> <em class="nk">上下载我的个人代码。你也可以直接在rsalaza4@binghamton.edu给我发邮件，在</em><a class="ae lh" href="https://www.linkedin.com/in/roberto-salazar-reyna/" rel="noopener ugc nofollow" target="_blank"><em class="nk">LinkedIn</em></a><em class="nk">上找到我。有兴趣了解工程领域的数据分析、数据科学和机器学习应用的更多信息吗？通过访问我的媒体</em> <a class="ae lh" href="https://robertosalazarr.medium.com/" rel="noopener"> <em class="nk">个人资料</em> </a> <em class="nk">来探索我以前的文章。感谢阅读。</em></p><p id="6aea" class="pw-post-body-paragraph ma mb it mc b md mw kd mf mg mx kg mi mj my ml mm mn mz mp mq mr na mt mu mv im bi translated">罗伯特</p></div></div>    
</body>
</html>