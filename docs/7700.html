<html>
<head>
<title>Creating a custom network topology</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">创建自定义网络拓扑</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/creating-a-custom-network-topology-f18d07103f70?source=collection_archive---------12-----------------------#2020-12-18">https://medium.datadriveninvestor.com/creating-a-custom-network-topology-f18d07103f70?source=collection_archive---------12-----------------------#2020-12-18</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/d575aaa2f3944694e314e4a23b6f2e38.png" data-original-src="https://miro.medium.com/v2/resize:fit:992/format:webp/1*nq-Q_T58Hlxelz6y4wVzjA.png"/></div></figure><p id="df57" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">网络是一个非常有趣的概念，我在以前的一篇文章中已经谈到了路由表的可用性和重要性。如果你不熟悉这里的是什么路由表，你可以看一下。</p><p id="3544" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以今天我有一个很有意思的实用与大家分享。</p><p id="53e0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">网络概念在某种程度上类似于传递性的数学规则。根据这一规则，如果</p><p id="854d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">a与B相关</p><p id="fd22" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">a与C相关</p><p id="7d39" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">那么B与c相关。</p><p id="331b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">类似地，默认情况下，这条规则也适用于网络。如果OS1可以ping通OS2，OS1也可以ping通OS3，那么OS2也可以ping通OS3。</p><p id="e658" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然而，今天我将调整这个网络，虽然OS1可以连接到OS2和OS3，但OS2和O3之间没有连接。</p><p id="3d61" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">同样，在一些情况下，这种精确的实验可能是有用的。例如<strong class="jw ir">在一个大学实验室里，一个教授可能想要连接到学生的系统，然而他可能不希望他的学生互相连接。</strong></p><p id="b80a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但是，本实验也将展示路由表解决可能出现的各种问题的能力。</p><h1 id="25ed" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">设置</h1><p id="5dca" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">我为这个实验创建了三个运行RHEL8操作系统的虚拟机。我将它们称为OS1、OS2和OS3。我将创建一个网络，其中OS1可以连接到OS2和OS3，同时它们不能ping通彼此。</p><p id="4b58" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如你所知，我已经列出了所有三个操作系统的IP和路由表。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi lw"><img src="../Images/82191e3d0c94178d090734551cbdeac7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2txeK1l00urkM0Z8-usDdA.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS1</figcaption></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mj"><img src="../Images/1bd3b0d29d1ce76115ddce70af155c44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9UZlUM5OnHc0MyhM4ttsOw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS2</figcaption></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi mk"><img src="../Images/1f5ce8466a39f7920f6eba1a1b67e01b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hZzUt4j1xowfR_LpjR1rqw.png"/></div></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS3</figcaption></figure><p id="ce8e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我来展示一下ping操作是否正常。所有这三个系统都能够很好地互相ping通。这是输出之一。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/da730c700b2b25748f6b2cb8f20a1581.png" data-original-src="https://miro.medium.com/v2/resize:fit:1194/format:webp/1*-AO0muKgle2xiALPBZ8v7A.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS1 pings to OS3</figcaption></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/0fb7a774a36a8d05af2fda53cdf94725.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*o5UOflpdnyI2ffgYwOffzQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS1 pings to OS3</figcaption></figure><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/c07c5d6b146953cfd642af9735082fec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1176/format:webp/1*zqxmOv80zYXCzkyqXQMywQ.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS2 pings to OS3</figcaption></figure><p id="2daa" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，目前每个操作系统都可以ping通网络中的两个操作系统。</p><p id="d6ed" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">通常人们会考虑更改防火墙规则来创建这种拓扑。但是，如果我们使用路由表，这项任务会变得容易得多。</p><div class="mo mp gp gr mq mr"><a href="https://www.datadriveninvestor.com/2020/12/04/various-types-of-distributed-ledger-technology/" rel="noopener  ugc nofollow" target="_blank"><div class="ms ab fo"><div class="mt ab mu cl cj mv"><h2 class="bd ir gy z fp mw fr fs mx fu fw ip bi translated">各种类型的分布式分类帐技术|数据驱动的投资者</h2><div class="my l"><h3 class="bd b gy z fp mw fr fs mx fu fw dk translated">随着比特币和加密货币在全球的采用、使用和魅力增长，它们已经成为常见的流行语。这个新的…</h3></div><div class="mz l"><p class="bd b dl z fp mw fr fs mx fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="na l"><div class="nb l nc nd ne na nf js mr"/></div></div></a></div><p id="b28c" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了完成这项任务，我们需要编辑OS2和OS3中的规则。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/d85ec22b2b90b4dadc9937bc4bafb324.png" data-original-src="https://miro.medium.com/v2/resize:fit:958/format:webp/1*EZToXSRqvjOT1JsaVFwSRA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">delete the route rule in OS2</figcaption></figure><p id="ecd9" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以现在OS2中的路由表看起来像这样</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi nh"><img src="../Images/c08a4ea49d6713769b97d5aa67b566f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*KXSOGxGYABfaUJv2jxCG_g.png"/></div></div></figure><p id="e7cc" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">因此，我们删除了允许它连接到本地网络中任何其他名为192.168.195.0/24的系统的规则</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi ni"><img src="../Images/5a71a9e232cfd65950f83d8acda2f5ba.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*rcbNsQzwJctwCe4C9SzGLA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS2 trying to ping OS3</figcaption></figure><p id="11f1" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">现在我们可以看到，虽然OS2之前很容易ping到OS3，但现在它不能了。这是因为路由表不允许它连接到同一专用网络中的任何其它操作系统。</p><p id="6aa0" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">但这是个问题。我们希望OS2和OS3与OS1建立连接。为此，我们需要再次编辑路由表，以允许OS1连接到OS2。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/7639f94c8a87fcf5f32e8021158e7eae.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*iszpmN3uqPVuxQ4DvI3vTA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">Allowing the connection of OS1 to OS2</figcaption></figure><p id="beab" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以最终的路由表看起来像这样</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mb mc di md bf me"><div class="gh gi nk"><img src="../Images/82dead4f7e342849b97244044b1a247d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gee1HAQ4qWAIAWdR1CpCFQ.png"/></div></div></figure><p id="8437" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">所以新添加的规则的IP是OS1。这意味着尽管OS2没有与专用网络的任何操作系统连接，但是它可以连接到所提到的一个特定IP。</p><p id="7979" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">让我们在实践中看到这一点。</p><figure class="lx ly lz ma gt jr gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/d8a3e773321923132523a67bed3543db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*mYq2_KmjdPYyyH34MR7DeA.png"/></div><figcaption class="mf mg gj gh gi mh mi bd b be z dk">OS2</figcaption></figure><p id="7d9e" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">这里我们可以清楚地看到，OS2可以连接到OS1，但不能连接到OS3。</p><p id="97ba" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我也会在OS3中做同样的设置。</p><p id="663b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了显示设置工作正常，我将在三个操作系统上分别显示out。</p><h1 id="a5f0" class="kt ku iq bd kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq bi translated">结论</h1><p id="c78f" class="pw-post-body-paragraph ju jv iq jw b jx lr jz ka kb ls kd ke kf lt kh ki kj lu kl km kn lv kp kq kr ij bi translated">因此，在本文中，我们创建了一个网络拓扑，其中OS1能够连接到OS2和OS3系统，但是它们不能相互连接。我们没有使用防火墙或任何其他第三方软件来实现这一点。通过使用维护路由表的概念，可以解决许多用例。</p><p id="20ac" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">如果你想在这里讨论任何关于技术的事情，请联系我。</p><p id="6e8a" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">谢谢:)</p><h2 id="5bda" class="nm ku iq bd kv nn no dn kz np nq dp ld kf nr ns lh kj nt nu ll kn nv nw lp nx bi translated">获得专家视图— <a class="ae ks" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank">订阅DDI英特尔</a></h2></div></div>    
</body>
</html>