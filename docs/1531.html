<html>
<head>
<title>Nevertheless, she solved math problems</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">然而，她解决了数学问题</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/nevertheless-she-solved-math-problems-cebd680d77bd?source=collection_archive---------6-----------------------#2020-03-21">https://medium.datadriveninvestor.com/nevertheless-she-solved-math-problems-cebd680d77bd?source=collection_archive---------6-----------------------#2020-03-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="d280" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个令人困惑的混乱矩阵</p><p id="5600" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">大家好！今天，我宣布了一个新的系列，探索数据科学主题背后的数学原理。我将探索概率和统计、机器学习的主题，甚至一些高级主题。我们开始吧。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi kl"><img src="../Images/b9485a1239e5e24090409c86fe6baab0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1200/format:webp/1*UefSp_Igzpm6CtbM5lGAuw.jpeg"/></div></figure></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><p id="0efa" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">首先，我想说一下基本概率。让我来介绍一下，这是你在统计学课上会看到的一种方式，然后(我保证)我会从数据中加入一些灵感。我将从一些定义开始，以确保我们在同一页上。</p><h1 id="7b5c" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">定义</h1><p id="529e" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated"><strong class="jp ir">样本空间</strong> —是实验中所有可能结果(也称为<strong class="jp ir">事件</strong>)的集合。</p><p id="0042" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">分离事件</strong>——当实验结果不重叠时。</p><p id="1304" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">概率</strong> —事件发生几率的精确度量，以小于1的正数表示。如果你将一个概率乘以100%，你的度量现在代表一个百分比。</p><h1 id="ac28" class="la lb iq bd lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx bi translated">神奇的例子</h1><p id="7d10" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">这里有一个例子:假设我们有一个<a class="ae md" href="https://en.wikipedia.org/wiki/Magic_8-Ball" rel="noopener ugc nofollow" target="_blank">魔法8球</a>，它有20个算命答案(在一个<a class="ae md" href="https://en.wikipedia.org/wiki/Icosahedron" rel="noopener ugc nofollow" target="_blank">二十面体</a>上)。Python3中编码为列表的示例空间是:</p><pre class="km kn ko kp gt me mf mg mh aw mi bi"><span id="111d" class="mj lb iq mf b gy mk ml l mm mn">magic_8_ball = [‘It is certain.’, ‘It is decidedly so.’, ‘Without a doubt.’, ‘Yes — definitely.’, ‘You may rely on it.’,’As I see it, yes.’, ‘Most likely.’, ‘Outlook good.’, ‘Yes.’, ‘Signs point to yes.’, ‘Reply hazy, try again.’, ‘Ask again later.’, ‘Better not tell you now.’, ‘Cannot predict now.’, ‘Concentrate and ask again.’, ‘Don\’t count on it.’, ‘My reply is no.’, ‘My sources say no.’, ‘Outlook not so good.’, ‘Very doubtful.’]</span></pre><p id="4e6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">样本空间有20个事件。</p><pre class="km kn ko kp gt me mf mg mh aw mi bi"><span id="7749" class="mj lb iq mf b gy mk ml l mm mn">len(magic_8_ball)<br/>&gt;&gt;&gt;20</span></pre><p id="b1cc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们可以打印一个事件。</p><pre class="km kn ko kp gt me mf mg mh aw mi bi"><span id="7324" class="mj lb iq mf b gy mk ml l mm mn">magic_8_ball[14]<br/>&gt;&gt;&gt;'Concentrate and ask again.'</span></pre><p id="c0ae" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">并且，那个事件的概率是(集中注意力再问一次的次数。在一次摇动中发生)/(可能结果的总数)= 1/20。</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><h1 id="e047" class="la lb iq bd lc ld mo lf lg lh mp lj lk ll mq ln lo lp mr lr ls lt ms lv lw lx bi translated">应用</h1><p id="ed1c" class="pw-post-body-paragraph jn jo iq jp b jq ly js jt ju lz jw jx jy ma ka kb kc mb ke kf kg mc ki kj kk ij bi translated">我将尝试将这一概率课程应用于一个真实世界的例子:<strong class="jp ir">预测坦桑尼亚水井的功能</strong>。(我这个项目的GitHub repo可以在<a class="ae md" href="https://github.com/karenkathryn/tanzania-water-wells" rel="noopener ugc nofollow" target="_blank">这里</a>找到。)</p><p id="ec98" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">背景:</strong>这个项目是我和<a class="ae md" href="https://medium.com/@aabrahamson3" rel="noopener">亚伦·亚伯拉罕森</a>在华盛顿州西雅图熨斗学校为期15周的沉浸式数据科学训练营期间完成的。</p><p id="8c6c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">数据集:</strong>该项目的数据文件可以在驱动数据网站<a class="ae md" href="https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/data/" rel="noopener ugc nofollow" target="_blank">这里</a> <a class="ae md" href="https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/data/%E2%80%8B" rel="noopener ugc nofollow" target="_blank"> </a>找到，数据字典可以在<a class="ae md" href="https://www.drivendata.org/competitions/7/pump-it-up-data-mining-the-water-table/page/25/" rel="noopener ugc nofollow" target="_blank">这里</a>找到。下载需要帐户设置。</p><ul class=""><li id="8ea2" class="mt mu iq jp b jq jr ju jv jy mv kc mw kg mx kk my mz na nb bi translated">该数据集中有59，400条记录，每条记录有40个特征</li><li id="9869" class="mt mu iq jp b jq nc ju nd jy ne kc nf kg ng kk my mz na nb bi translated">部分数据用于训练机器学习模型，其余数据用于评估</li></ul><p id="68a0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">目标:建立一个预测性的机器学习模型，该模型指示某个水井是否需要修复(标记为损坏和不可用)或不需要修复(标记为可用)。</strong></p><p id="3d3e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">方法:</strong>我们对数据集进行了彻底的ed a，并建立了几个机器学习模型来检测水井是否需要修复。我们尝试了六种不同的分类模型，其中随机森林分类器表现最佳。</p><div class="nh ni gp gr nj nk"><a href="https://www.datadriveninvestor.com/2019/03/03/editors-pick-5-machine-learning-books/" rel="noopener  ugc nofollow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd ir gy z fp np fr fs nq fu fw ip bi translated">DDI编辑推荐:5本让你从新手变成专家的机器学习书籍|数据驱动…</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">机器学习行业的蓬勃发展重新引起了人们对人工智能的兴趣</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny kr nk"/></div></div></a></div><p id="94b7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">指标:</strong>我们考虑了准确性和特异性。根据记录，我们的随机森林分类器模型总体准确率为82%。不幸的是，最适合我们业务案例的指标specification(使用真实需求修复)表现最差，为77%。</p><p id="32a8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Woah！你刚刚是不是忽略了度量部分？是时候把它分成更容易管理的部分了。</p><p id="55b6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在预测一口井是否正常工作后，我们可以将结果分类到一个<strong class="jp ir">混淆矩阵</strong>。在下面的矩阵中，左上角称为真阳性(TP)分类，右下角为真阴性(TN)分类。最后两个框不太直接:右上显示了功能正常但被分类为需要修复(损坏)的井的数量，左下显示了损坏但被误分类为功能正常的井的数量。这些分别是假阴性(FN)和假阳性(FP)。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi oa"><img src="../Images/c16b4b0762c48eb83089af4601d4b823.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*L6ZcqYkSSULD9lUY7S_ZAA.png"/></div></div></figure><p id="1992" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">TP — 6800口井被正确识别为功能井</p><p id="cc3a" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">TN——5000口被正确识别为破裂的井</p><p id="dfef" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">FN——1100口井被错误地认定为损坏，但功能正常</p><p id="6af1" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">FP — 1500口井被错误地识别为功能井，但实际上已经破裂</p><p id="c0e0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">有了这些数字，我们就能感觉到这个模型在度量上的表现。这里，我们来考虑一下准确率和召回率。</p><p id="c98e" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">精确度定义如下:</p><pre class="km kn ko kp gt me mf mg mh aw mi bi"><span id="ebe7" class="mj lb iq mf b gy mk ml l mm mn">Accuracy = (TP + TN)/(TP + TN + FP + FN) = 11800/14400 ~= .82 or 82%</span></pre><p id="ac59" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">特异性是:</p><pre class="km kn ko kp gt me mf mg mh aw mi bi"><span id="7c99" class="mj lb iq mf b gy mk ml l mm mn">Specificity = TN/(FP + TN) = 5000/6500 ~= .77 or 77%</span></pre><p id="84c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们把这个和我们之前讨论的联系起来。混淆矩阵只是我们可以用来计算概率的不相交事件的列表。准确度是正确预测的标签(不相交的事件)与所有可能性之和的比率。特异性是井被正确标记为破裂的概率。</p></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><p id="0ee8" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们还可以考虑其他指标，如召回率、F1值和精确度。为了记住所有这些指标和计算，我参考这张令人惊叹的图片。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="ob oc di od bf oe"><div class="gh gi of"><img src="../Images/5729eb342a0da06b60390125cb5ff9b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*fUnVMuu91SR_Ehrfvne2iA.jpeg"/></div></div><figcaption class="og oh gj gh gi oi oj bd b be z dk">Check out the blog this image is from! [<a class="ae md" href="https://manisha-sirsat.blogspot.com/2019/04/confusion-matrix.html" rel="noopener ugc nofollow" target="_blank">link</a>]</figcaption></figure></div><div class="ab cl kt ku hu kv" role="separator"><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky kz"/><span class="kw bw bk kx ky"/></div><div class="ij ik il im in"><p id="5f47" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">原来如此！所有这些都表明，你可以使用一些基本的概率原理来解释机器学习算法的输出。</p><p id="6139" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一如既往——让我们在评论中聊天吧！</p><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="ok ol l"/></div></figure></div></div>    
</body>
</html>