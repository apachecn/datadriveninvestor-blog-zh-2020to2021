<html>
<head>
<title>Evaluation of Linear Regression Models</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">线性回归模型的评估</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/evaluation-of-linear-regression-models-257851e77e28?source=collection_archive---------4-----------------------#2020-11-20">https://medium.datadriveninvestor.com/evaluation-of-linear-regression-models-257851e77e28?source=collection_archive---------4-----------------------#2020-11-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/e99868492452259f66e4a8c1a3789c9c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*uhYU_cemLH9ceAgd.png"/></div></div></figure><p id="e151" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">线性回归模型用于显示或预测两个变量或因素之间的关系。被预测的因素称为因变量，用于预测因变量的值的因素称为自变量。</p><div class="kz la gp gr lb lc"><a href="https://www.datadriveninvestor.com/2020/07/23/learn-data-science-in-a-flash/" rel="noopener  ugc nofollow" target="_blank"><div class="ld ab fo"><div class="le ab lf cl cj lg"><h2 class="bd iu gy z fp lh fr fs li fu fw is bi translated">一瞬间学会数据科学！？数据驱动的投资者</h2><div class="lj l"><h3 class="bd b gy z fp lh fr fs li fu fw dk translated">在我之前的职业生涯中，我是一名训练有素的古典钢琴家。还记得那些声称你可以…</h3></div><div class="lk l"><p class="bd b dl z fp lh fr fs li fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="ll l"><div class="lm l ln lo lp ll lq jz lc"/></div></div></a></div><p id="0df9" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">评估机器学习模型和构建它一样重要。我们正在创建模型来处理新的和未知的数据。因此，我们需要评估我们的模型是否运行正确。评估一个线性回归模型并不容易，因为有很多评估指标。何时使用哪种度量取决于项目的数据和问题。</p><p id="d684" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这篇文章中，我将回顾一些回归模型的评估指标。</p><h2 id="07c6" class="lr ls it bd lt lu lv dn lw lx ly dp lz km ma mb mc kq md me mf ku mg mh mi mj bi translated">R的平方</h2><p id="5819" class="pw-post-body-paragraph kb kc it kd b ke mk kg kh ki ml kk kl km mm ko kp kq mn ks kt ku mo kw kx ky im bi translated">r平方是线性回归模型的拟合优度度量。这表示自变量共同解释的因变量中方差的百分比。r平方度量模型和因变量之间的关系强度。r的平方值在0到1之间，较大的值表示预测值和实际值之间的拟合较好。这是R平方的公式，使用sci-kit Learn计算R如下:</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mp"><img src="../Images/84e1c48001b3d321a508f926f46d4442.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*WC1_4vEmtoitdw8O.png"/></div></div></figure><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="11a2" class="lr ls it mv b gy mz na l nb nc">from sklearn.metrics import r2_score<br/>true = [3, 4.5, 5, 6, 10]<br/>preds = [3.1, 5, 3.5, 5.9, 8]<br/>r2_score(true, preds)</span></pre><h2 id="9b79" class="lr ls it bd lt lu lv dn lw lx ly dp lz km ma mb mc kq md me mf ku mg mh mi mj bi translated">平均绝对误差</h2><p id="ee4a" class="pw-post-body-paragraph kb kc it kd b ke mk kg kh ki ml kk kl km mm ko kp kq mn ks kt ku mo kw kx ky im bi translated">平均绝对误差是观测值和预测值之间误差的度量。它是一组预测中误差的平均大小，不考虑它们的方向。它是实际值和预测值之间误差的绝对值。以下是用sci-kit learn计算的公式和方法。</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/4407e641a36f1a049bc09ce55bcbbaf5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1040/format:webp/0*718XXsGfO9GrxQD8.png"/></div></figure><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="4256" class="lr ls it mv b gy mz na l nb nc">from sklearn.metrics import mean_absolute_error<br/>mean_absolute_error(true, preds)</span></pre><h2 id="07ce" class="lr ls it bd lt lu lv dn lw lx ly dp lz km ma mb mc kq md me mf ku mg mh mi mj bi translated">均方误差</h2><p id="e4df" class="pw-post-body-paragraph kb kc it kd b ke mk kg kh ki ml kk kl km mm ko kp kq mn ks kt ku mo kw kx ky im bi translated">均方误差是预测误差的平方和。均方误差类似于平均绝对误差。平均绝对误差取误差的绝对值，而均方误差取误差的平方。MSE用方块惩罚大的预测误差，而MAE对所有的误差一视同仁。</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/8df048f33927ee8e1b7bcc076c6da8e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1136/format:webp/0*eRAQ4UrmgJr_3Vi4.png"/></div></figure><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="749e" class="lr ls it mv b gy mz na l nb nc">from sklearn.metrics import mean_squared_error<br/>mean_squared_error(true, preds)</span></pre><h2 id="1f2e" class="lr ls it bd lt lu lv dn lw lx ly dp lz km ma mb mc kq md me mf ku mg mh mi mj bi translated">均方根误差(RMSE)</h2><p id="ff13" class="pw-post-body-paragraph kb kc it kd b ke mk kg kh ki ml kk kl km mm ko kp kq mn ks kt ku mo kw kx ky im bi translated">均方根误差是均方误差的平方根。RMSE总是非负的，值为0表示完全符合数据。由于误差在平均之前被平方，因此RMSE对大误差给予相对较高的权重。下面是RMSE的公式以及如何用python计算RMSE。</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/87023297dc1a7c963bf212b132c28c63.png" data-original-src="https://miro.medium.com/v2/resize:fit:654/0*hkUJeC7_Q7IqQEzC.gif"/></div></figure><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="8af7" class="lr ls it mv b gy mz na l nb nc">from sklearn.metrics import mean_squared_error<br/>math.sqrt(mean_squared_error(true, preds))</span></pre><h2 id="6257" class="lr ls it bd lt lu lv dn lw lx ly dp lz km ma mb mc kq md me mf ku mg mh mi mj bi translated">平均绝对百分比误差(MAPE)</h2><p id="2f8a" class="pw-post-body-paragraph kb kc it kd b ke mk kg kh ki ml kk kl km mm ko kp kq mn ks kt ku mo kw kx ky im bi translated">平均绝对百分比误差以百分比的形式测量精度，可以计算为每个时间段的平均绝对百分比误差减去实际值除以实际值。</p><figure class="mq mr ms mt gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ng"><img src="../Images/ede75d2b44f47cdb8b00dfedfe1cd0f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*jkQN8KbeB0ruz2_G.png"/></div></div></figure><pre class="mq mr ms mt gt mu mv mw mx aw my bi"><span id="a73d" class="lr ls it mv b gy mz na l nb nc">import numpy as np<br/><br/>def mape(actual, pred): <br/>    actual, pred = np.array(actual), np.array(pred)<br/>    return np.mean(np.abs((actual - pred) / actual)) * 100</span><span id="1ae5" class="lr ls it mv b gy nh na l nb nc">mape(true, preds)</span></pre><h1 id="07f6" class="ni ls it bd lt nj nk nl lw nm nn no lz np nq nr mc ns nt nu mf nv nw nx mi ny bi translated">结论</h1><p id="149b" class="pw-post-body-paragraph kb kc it kd b ke mk kg kh ki ml kk kl km mm ko kp kq mn ks kt ku mo kw kx ky im bi translated">r的平方表示自变量共同解释的因变量中方差的百分比。换句话说，它说明了模型有多好。但所有其他指标，如MAE、MSE、RMSE和MAPE，都衡量预测值与实际值的差距。</p><p id="f269" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">没有适用于所有任务的最佳度量标准。在决定使用什么评估指标时，考虑您试图回答什么问题是很重要的。您必须根据您的数据和问题来决定使用哪种评估指标。</p><p id="9032" class="pw-post-body-paragraph kb kc it kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated"><strong class="kd iu">进入专家视图— </strong> <a class="ae nz" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="kd iu">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>