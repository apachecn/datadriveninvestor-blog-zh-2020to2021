# Kubernetes 会是 DevOps 的末日吗？

> 原文：<https://medium.datadriveninvestor.com/will-kubernetes-be-the-end-of-devops-8d2dc0b8bea4?source=collection_archive---------5----------------------->

阿里巴巴集团技术专家孙建波(田原)。

![](img/0436f938d1751442f361c31a0c3f5e21.png)

早在 2007 年， [DevOps](https://www.atlassian.com/devops?spm=a2c41.13928767.0.0) 背后的想法就被提出来了。在此期间，云及其相关基础设施的概念才刚刚兴起，但随着互联网和云变得越来越流行和普及，对相关应用程序(尤其是 web 应用程序)的需求也出现了爆炸式增长。因此，应用程序开发需要从瀑布模型过渡到敏捷模型。

在 DevOps 之前，应用程序是通过涉及多个团队的复杂流程交付的。至少，这个过程需要从开发人员团队开始，继续到负责部署和运行应用程序的 IT 运营和维护团队。然而，这种交付方式效率相对较低，跟不上互联网时代所需的快节奏。

[](https://www.datadriveninvestor.com/2019/03/26/agile-management-the-good-the-bad-and-the-downright-ugly/) [## 敏捷管理:好的、坏的、丑陋的|数据驱动的投资者

### 公司不断重塑自己，以获得或保持竞争优势和市场份额。这是…

www.datadriveninvestor.com](https://www.datadriveninvestor.com/2019/03/26/agile-management-the-good-the-bad-and-the-downright-ugly/) 

DevOps 是这个问题的解决方案。它连接了开发和运营团队，加快了应用程序交付周期，并提高了应用程序的质量。通过革新应用程序的开发和交付方式，DevOps 引入了一种全新的文化和实践系统，这种文化和系统已经在 web 应用程序领域广泛传播。

然而，现在，随着 Kubernetes 的云原生和应用程序管理的兴起，许多人心中的问题是 DevOps 是否有任何存在的理由。在这篇博客中，阿里巴巴技术专家剑波将讨论他对 DevOps、云和 Kubernetes 的想法，并将解决 Kubernetes 是否会消灭 DevOps 的问题。

# 那么 DevOps 到底是怎么回事？

在初期，DevOps 迅速流行起来。它在互联网时代的黎明和清晨被广泛采用，有助于满足行业对 web 应用程序的敏捷开发和有保证的质量的需求。DevOps 还引入了一个“公共空间”,应用程序开发和运营团队可以在这里进行前所未有的紧密合作。那时，应用程序开发仍然是一个相对较新的行业。

DevOps 在很多方面都是成功的，因为它吸取了过去制造业的教训。制造业，从历史上来说，能够实现规模化生产，得益于流水线的发明。特别是，通过装配线上每个步骤的标准化，制造过程变得更加顺畅，每个工人都确切地知道他或她在装配线上的具体工作和职位。

DevOps 从制造业过去的经验中借鉴的方式是通过其 CI/CD 渠道模型。这个模型帮助模拟了一系列自动化和半自动化工具的开发，如[木偶](https://puppet.com/?spm=a2c41.13928767.0.0)、[厨师](https://www.chef.io/?spm=a2c41.13928767.0.0)和 [ansible](https://www.ansible.com/?spm=a2c41.13928767.0.0) 。这些工具集成了编译脚本的可伸缩性，同时还标准化了开发和操作管理过程中涉及的一些操作。

关于 DevOps 要注意的一点是，它需要几个技术人员参与一个项目，因此专门的“DevOps 团队”在公司和其他组织的 it 部门中成为一种普遍现象。这些 DevOps 团队充当了一个工具和平台，使开发能够更好地接近最终生产环境，允许在应用程序开发所涉及的集成和交付过程中进行简单的一键式部署和故障排除。这个过程反过来也允许在开发过程中排除问题，这样它们就不会出现，或者至少在实际的生产环境中出现的可能性要小得多。

因此，从我们目前所见，我们可以得出的一个结论是，DevOps 或多或少是为了帮助简化应用程序开发的操作和维护而设计的。DevOps 通过一套自动化工具在生产环境中提供 O&M 过程，这样一来，就不再需要处理传统上与生产基础设施相关的所有琐碎细节。同时，DevOps 也有助于在初始开发阶段暴露应用程序的问题，再次帮助简化操作。总的来说，DevOps 在很大程度上是为等式的操作端的利益而构建的。

有了所有这些进步和优势，DevOps 至少在一开始获得了极大的欢迎，并成为许多应用程序开发工作流的重要组成部分。但是，随着时间的推移，DevOps 世界的漏洞开始变得清晰。DevOps 不是以完全可持续的方式建造的。DevOps 不为企业提供任何直接利润，也没有任何与之直接关联的产品。事实上，对许多企业来说，DevOps 是一种成本，而不是资产。

DevOps 的成本很高，因为它通常需要一个大型的专门团队，并且不一定会使使用它的公司更加有利可图。因此，正因为如此，许多公司不愿意投资 DevOps。而且，随着时间的推移，DevOps 无法满足开发人员不断变化的需求，DevOps 的开发团队也不愿意继续开发新的行业趋势，如云计算和开源社区的崛起。因此，DevOps 慢慢成为一些企业的应用程序开发和交付过程中的瓶颈。

# 云时代的兴起以及 DevOps 在其中的作用

云到底是怎么开始的？嗯，它始于一个明智的公司，他们认为他们的需求也代表了整个行业的需求。这家明智的公司就是亚马逊，这正是亚马逊网络服务(AWS)诞生的逻辑。亚马逊涉足公共云服务领域彻底改变了 IT 的面貌。

早在 2006 年，亚马逊就成为世界上第一家将网络、计算和存储硬件等 IT 基础设施的基本组件作为在线服务出售给美国乃至全球用户的公司。这一创新意味着，作为亚马逊的客户，您可以在线托管您的服务，并灵活地开发 web 应用程序，而无需购买我们自己的服务器硬件和相关的 IT 基础设施。

亚马逊及其进入云领域的竞争对手，包括 Azure 和阿里云，能够通过使他们的服务比构建和托管自己的 IT 基础设施更便宜来使云成为一个有价值的选择。随着云的出现，也诞生了云的基本服务模式，包括基础设施即服务(IaaS)、平台即服务(PaaS)和软件即服务(SaaS)。

在云计算的早期，主要的服务模式是 IaaS。有了它，客户(主要是企业级客户)可以从云服务提供商那里购买 web 服务器或虚拟机，以及他们需要的相关存储。此外，在 IaaS 服务结构中，客户可以完全控制如何运营和维护所提供的基础架构。当然，IaaS 与传统 IT 的唯一区别是维护的对象不再是物理服务器。所以，在一天结束的时候，什么都没有改变。

而且，随着云计算迅速发展到今天的水平，云的功能也在不断增强和丰富。云上提供的产品和服务最终覆盖了 IT 运营和维护方面的所有方面和功能，包括管理应用生活方式所涉及的所有服务，从编码和托管到集成和交付，一直到监控、警报系统和自动扩展功能。

在这个快速变化的 IT 世界中，DevOps 基本上没有变化，但它仍然有其用途。连接到云，尤其是在早期，可能很困难。云服务提供商提供复杂多样的服务，每个提供商的服务组合都不完全相同，因此客户需要了解云服务的工作方式，并确保在迁移到云时不会局限于一家供应商。这些决定并不容易。

另一方面，DevOps 在此期间或多或少没有变化，这反过来导致了更大的客户信心和更容易采用。而且，即使出现了云，DevOps 仍然可以像过去一样帮助简化开发环境的复杂性。唯一的区别是要管理的基本 IT 基础架构现在运行在云上。因此，换句话说，鉴于其简单性，DevOps 仍然在市场上占有一席之地。

# Kubernetes 是什么以及它如何改变一切

现在，让我们来讨论一下 [Kubernetes](https://kubernetes.io/?spm=a2c41.13928767.0.0) ，它将是颠覆 DevOps 世界的下一件大事。从一开始，Kubernetes 就被设计成一个现代化的应用基础设施。它在谷歌的创造者想做一些东西，以更直观的方式将应用程序与云集成，扩展云的所有潜力。因此，Kubernetes 的最终目标是改变基础 IT 的工作方式，专注于如何使其更适合应用程序，并成为更高效的应用程序交付系统。

实现其创造者的厚望和崇高梦想，Kubernetes 与 [Docker](https://www.docker.com/?spm=a2c41.13928767.0.0) 和 [Operator](https://coreos.com/operators/?spm=a2c41.13928767.0.0) 一起成为云计算世界云原生时代至关重要的开源项目。它们为应用程序管理和交付创造了一个完全不同的世界。特别是 Kubernetes，开发人员只需要使用声明性语法来控制他们应用程序的最终状态，而 Kubernetes 会处理所有其他的事情。

正是这种简单性使得 Kubernetes 非常受欢迎。声明式 API 动作是它的谋生之道，因为有了它们，Kubernetes 强大到足以颠覆云的一切工作方式。它过去是，现在也是一个强有力的工具。Kubernetes 用户可以通过声明式 API 动作快速、轻松地声明各种状态。他们的能力很高，但他们的职责却大大简化了。

如今，作为应用程序开发人员，我们不仅可以使用 Kubernetes 的声明性语法来控制应用程序的最终运行状态，还可以使用它来声明应用程序中与操作相关的几个部分。例如，我们可以声明使用 canary release 方法更新应用程序，或者当 CPU 使用率超过 50%时，应用程序必须扩展到一个额外的实例。

这些都对 DevOps 工具和团队提出了巨大的挑战。因为在这种情况下，一家公司可以简单地使用声明性 API 操作来完全控制应用程序以及几个服务级别的功能，那么你不希望每个人都直接切换到 Kubernetes 来满足他们的应用程序开发需求吗？这正是问题所在。最大的问题是，人们还有正当的理由去学习 DevOps 的 CI/CD 管道吗？

换句话说，在很长一段时间里，DevOps 是将应用程序开发与相关的基本 IT 基础设施结合在一起的逻辑“粘合剂”。但是现在，随着 Kubernetes 及其装备齐全的声明性 API 动作渗透到应用程序开发基础设施的所有角落，Kubernetes 已经很好地扮演了基础设施“粘合剂”的角色。与此同时，正如 DevOps 过去的地位受到 Kubernetes 的挑战一样，传统中间件也受到大服务网格浪潮的冲击。

# 那么 DevOps 会从地球上消失吗？

现在我们有了 DevOps、cloud 和 Kubernetes，那么 DevOps 接下来会发生什么呢？在过去的几年里，Kubernetes 被描述为云环境中 DevOps 的完美合作伙伴。

类似地，Kubernetes 和 Docker 一样，可以解决与应用程序运行时相关的问题。就这一点而言，Kubernetes 被比作 IaaS 的一种流行版本，它将应用程序运行时的职责从虚拟服务器上拿走，并为它们提供了容器。因此，换句话说，只要您将与 DevOps 相关的现有思维和流程与 Kubernetes 连接起来，那么您就能够享受容器技术的轻量级本质和可伸缩性。鉴于 DevOps 在促进敏捷开发方面的记录，这对 DevOps 来说当然是一对好搭档。

然而，就我们现在所知，这并不是完整的故事。Kubernetes 的未来发展路线图并不涉及 Kubernetes 在未来承担 IaaS 角色。相反，尽管 Kubernetes 专注于改变应用程序开发背后的底层技术基础设施的功能，但 Kubernetes 本身远不是基础设施。更重要的是，当谈到应用程序运行时，Kubernetes 更关心应用程序的状态和应用程序的生命周期，而不是其他任何东西。除此之外，Kubernetes 还提供了所谓的“控制器模型”，这使得应用程序的实际状态更接近于它们更理想的状态，这远远超出了典型的应用程序运行时管理。

换句话说，Kubernetes 关心的是应用程序本身，这使得它与 IaaS 系统的基础设施有很大不同，并巩固了它作为基础设施“粘合剂”的地位。当然，如果 Kubernetes 的功能足够强大，并且它可以作为应用程序开发和底层基础设施之间的粘合剂，那么 DevOps 在这一切中处于什么位置呢？DevOps 需要存在吗？Anf 在这个所谓的云原生时代，应用程序真的只需声明，其他一切都将到位吗？DevOps 会从这个星球上消失吗？

嗯，这种对事物的看法并不完全符合现实。在这种情况发生之前，Kubernetes 仍然有几个缺点需要克服。

Kubernetes 是一个经典的“平台对平台”项目，所以它的 API 操作远不是一个真正的开发工具。例如，考虑一个部署对象，它既包括开发方关心的映像，也包括基础设施方的资源配置，甚至包括容器安全配置。这些都不是单靠 Kubernetes 就能实现的，所以整个“宣布并完成”的想法与现实相去甚远。这也是 DevOps 至今仍有用武之地的原因。对于 Kubernetes 中的大多数字符串，仍然需要 DevOps 所做的补充。

接下来，Kubernetes API 只包含您需要的一小部分云资源，比如用于存储购买的 PV/PVC，以及用于负载平衡的 Ingress。因此，有很多事情 Kubernetes 根本不擅长。例如，如果开发人员需要单独依靠 Kubernetes，他将很难使用 Kubernetes 的声明性语法来表达与数据库、VPC 或消息队列相关的内容。DevOps 在这方面提供帮助。此外，现有的解决方案依赖于特定供应商的实现，这可能会导致供应商锁定问题。

最后，Kubernetes 的运营商机制是为什么 Kubernetes 的能力能够像现在这样增长的秘密。然而，一个主要问题是运营商之间无法进行交互。例如，假设您要通过 CRD 和 Operator 将 RDS 扩展到 Kubernetes 的声明式 API 系统，然后其他人决定他或她要编写一个定期备份 RDS 持久文件的 CRD 操作器来与您合作。如果没有 DevOps 系统的介入，这基本上是不可能的。

# 未来会怎样？

从上面的讨论中，很明显现有的 Kubernetes 项目仍然依赖 DevOps 来完成高效的应用程序迭代和交付任务。这是不可避免的。尽管 Kubernetes 被推为以应用为中心的基础设施，但现实是，作为从 Google Borg 生成的系统级项目，Kubernetes 仍然围绕着其他几个现有的基础设施元素运行。

然而，我们不能否认的一点是，Kubernetes 的目的是追求 NoOps。这一点从一开始就很清楚。在此之后，CRD 和运营商系统的创建使 Kubernetes 的应用程序级关注变得现实。有趣的是，我们开始看到许多 DevOps 进程成为 Kubernetes 的声明性对象和控制循环。Tekton CD 项目就是一个例子。

如果 Kubernetes 的未来完全是为了声明式应用管理和 NoOps，那么我们也有理由相信 DevOps 最终将从技术舞台上消失，但它仍将作为一种文化遗产留在 it 界。毕竟 DevOps 做大的时候的运维工程师很可能会成为 Kubernetes 的控制器和操作器的编译器或者设计者。

# 原始来源:

[](https://www.alibabacloud.com/blog/will-kubernetes-be-the-end-of-devops_595740?spm=a2c41.13928767.0.0) [## Kubernetes 会是 DevOps 的末日吗？

### 阿里巴巴开发者 2020 年 1 月 14 日 371 由阿里巴巴集团技术专家孙建波(田原)开发。背后的想法…

www.alibabacloud.com](https://www.alibabacloud.com/blog/will-kubernetes-be-the-end-of-devops_595740?spm=a2c41.13928767.0.0)