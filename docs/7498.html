<html>
<head>
<title>3 Simple Ways For Web Scraping Without Getting Blocked</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">3个简单的方法来抓取网页而不被阻塞</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/3-simple-ways-for-web-scraping-without-getting-blocked-34f3b1f885d1?source=collection_archive---------1-----------------------#2020-12-11">https://medium.datadriveninvestor.com/3-simple-ways-for-web-scraping-without-getting-blocked-34f3b1f885d1?source=collection_archive---------1-----------------------#2020-12-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="265a" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">防刮擦机构操作指南。</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="ko kp di kq bf kr"><div class="gh gi ki"><img src="../Images/bd4b32778db253591cc17569ea9bf1b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*DGMVKxfD9kexwQ37"/></div></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Photo by <a class="ae ky" href="https://unsplash.com/@john_matychuk?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">John Matychuk</a> on <a class="ae ky" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="de8e" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如今，许多企业都依赖对公共数据的访问才能正常运转。不管你从事什么行业，迟早你都要从互联网上提取数据来完成任务。获取这些数据可能就像复制和粘贴数据一样简单，但是当涉及到大量数据时，web抓取是最好的解决方案。</p><p id="f0ff" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">不幸的是，不是所有的网站都愿意被刮；这就是为什么他们会不择手段的检测你的刮刀，封杀你。在这篇文章中，我将向你展示3种方法来避免在抓取网站时被屏蔽。</p><h1 id="f3d8" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated"><strong class="ak">抓取网站时避免被屏蔽的3种方法</strong></h1><h1 id="fe58" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">1.使用代理服务器</h1><p id="b231" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">您的电脑有一个唯一的互联网协议(IP ),您可以将其视为电脑的街道地址。每次您导航时，互联网都会使用此IP地址向您的电脑发送正确的数据。</p><p id="95a3" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">代理服务器是互联网上有自己IP地址的计算机。当您向web发送请求时，请求首先到达代理服务器，然后代理服务器代表您发出请求，收集响应，然后将您转到web页面，以便您可以与之交互。</p><p id="038d" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">如果你一次又一次地用同一个IP地址进行抓取，你的电脑的IP地址很容易被反抓取工具检测到。由于这个原因，你应该用代理服务器轮换你的IP；所以网站认为请求是从不同的地方产生的。甚至像HiQ这样的公司也使用代理服务来掩盖IP地址<a class="ae ky" href="https://www.cpomagazine.com/data-privacy/what-the-hiq-vs-linkedin-case-means-for-automated-web-scraping/" rel="noopener ugc nofollow" target="_blank">来抓取LinkedIn </a>这样的网站并避免知识产权禁令。</p><p id="75a0" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">虽然有许多免费的代理可用，他们涉及到一些问题，如收集你的数据和低性能。此外，许多人使用这些免费代理，这意味着代理已经被标记或禁止。相反，你应该考虑付费给一个能保证你的隐私、安全和高性能的代理提供商。其中有Smartproxy，GeoSurf，Netnut。</p><h1 id="d695" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">2.轮换用户代理</h1><p id="13f1" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">用户代理帮助识别正在使用的浏览器、版本及其操作系统。它也促进了与网站内容的互动。例如，iPhone上的Chrome用户代理如下所示:</p><pre class="kj kk kl km gt ms mt mu mv aw mw bi"><span id="f9aa" class="mx lw it mt b gy my mz l na nb">Mozilla/5.0 (iPhone; CPU iPhone OS 10_3 like Mac OS X) <br/>AppleWebKit/602.1.50 (KHTML, like Gecko) CriOS/56.0.2924.75<br/>Mobile/14E5239e Safari/602.1</span></pre><p id="2d3a" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要找到你的用户代理，只需在谷歌上输入“什么是我的用户代理。”</p><p id="148b" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">但是，除了用户代理之外，其他头都是由浏览器发送的。一些标题是:<code class="fe nc nd ne mt b">accept, accept encoding, accept language, dnt, host, referer and upgrade-insecure-requests.</code>您可以创建一个字典<code class="fe nc nd ne mt b">headers</code>并在抓取网站时包含它们:</p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="nf ng l"/></div></figure><p id="12bc" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">你可以在这里找到一些浏览器<a class="ae ky" href="https://developers.whatismybrowser.com/useragents/explore/" rel="noopener ugc nofollow" target="_blank">不同的用户代理字符串。建立一个包含几个用户代理的列表，以便以后轮换。</a></p><p id="b1a4" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">请记住，如果您只旋转用户代理，而其他标头保持不变，仍可能会检测到scraper。</p><div class="nh ni gp gr nj nk"><a rel="noopener  ugc nofollow" target="_blank" href="/5-things-you-should-know-to-easily-learn-web-scraping-6577bd8ebb08"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">你应该知道的5件事来轻松学习网络抓取</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">降低学习网络抓取的难度。</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.datadriveninvestor.com</p></div></div><div class="nt l"><div class="nu l nv nw nx nt ny ks nk"/></div></div></a></div><p id="b407" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">要轮换与每个用户代理关联的所有标题，请执行以下操作:</p><ol class=""><li id="a1d7" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu oe of og oh bi translated">打开一个隐姓埋名的窗口，转到您想要抓取的网站，然后在开发者工具中打开网络标签。</li></ol><p id="adcb" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">2.右键单击请求并选择<em class="oi">复制为cURL </em></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi oj"><img src="../Images/d4de711e0940b0f94af4f4402c8cc280.png" data-original-src="https://miro.medium.com/v2/resize:fit:1046/format:webp/1*4ikNM3h4zr800VxpjBNZYA.png"/></div><figcaption class="ku kv gj gh gi kw kx bd b be z dk">Image by author</figcaption></figure><p id="dbd8" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">3.将其粘贴到<a class="ae ky" href="https://curl.trillworks.com/" rel="noopener ugc nofollow" target="_blank"> curl命令框</a>中，将curl语法转换成您最喜欢的编程语言。</p><p id="423c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">一旦旋度被转换，寻找变量<code class="fe nc nd ne mt b">headers</code>。一旦找到它，复制字典中的元素，除了以<em class="oi"> </em> <code class="fe nc nd ne mt b"><em class="oi">X-</em></code>开头的头</p><p id="73cd" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">就是这样！现在，您已经有了特定网站上用户代理的正确标题。现在，按照相同的步骤收集您先前获得的用户代理字符串的头。</p><h1 id="a3a2" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">3.遵循最佳实践</h1><p id="7dfe" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">糟糕的刮擦实践会影响网站的性能；这就是网站屏蔽你刮刀的原因。然而，负责任地刮擦不会损害网页，所以你可以继续刮擦而不会被阻塞。</p><p id="f4ba" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated">以下是可以遵循的最佳web抓取实践:</p><ul class=""><li id="d9a3" class="nz oa it lb b lc ld lf lg li ob lm oc lq od lu ok of og oh bi translated"><strong class="lb iu">读取robot.txt </strong>:你应该经常检查‘robots . txt’文件，以了解应该如何抓取网站。要访问该文件，只需在网站的根目录中添加“robots.txt”字样，如“http://example.com/robots.txt”。该文件有一些规则，如您可以抓取的频率以及允许抓取的页面。如果发现<code class="fe nc nd ne mt b">User-agent: * Disallow: </code>，表示网站不希望被抓取，而<code class="fe nc nd ne mt b">User-agent: * Disallow</code>:允许在网站内抓取。</li><li id="d78d" class="nz oa it lb b lc ol lf om li on lm oo lq op lu ok of og oh bi translated"><strong class="lb iu">模仿人类行为</strong>:如果你想增加你的scraper不被注意的机会，那么就写代码模仿人类在互联网上的冲浪行为。您可以在请求之间添加随机延迟，以便不被发现。此外，通过包括页面上的随机点击和鼠标移动来遵循不同的爬行模式。</li><li id="fbfb" class="nz oa it lb b lc ol lf om li on lm oo lq op lu ok of og oh bi translated"><strong class="lb iu">避免抓取登录后的数据</strong>:如果你需要登录一个网站，抓取器将不得不发送信息或cookies以及每个查看页面的请求。因此，他们可以很容易地识别出你正在使用刮刀，你的帐户将被封锁。</li><li id="6d20" class="nz oa it lb b lc ol lf om li on lm oo lq op lu ok of og oh bi translated"><strong class="lb iu">像安全系统一样思考</strong>:研究网站用来检测刮刀的最新方法和工具。在这里你可以找到<a class="ae ky" href="https://webscraping.pro/7-ways-to-protect-website-from-scraping-and-how-to-bypass-this-protection/" rel="noopener ugc nofollow" target="_blank"> 7种保护网站免受抓取</a>的方法。如果你确切地知道公司用什么来保护他们的网站，你就能想出绕过他们的方法。</li></ul><p id="39fe" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><strong class="lb iu">你想从网络抓取中赚钱吗？</strong>如果是的话<strong class="lb iu">，c </strong>见鬼这篇文章我写道:</p><div class="nh ni gp gr nj nk"><a href="https://medium.com/swlh/how-to-make-money-from-web-scraping-without-selling-data-92c1f961b25" rel="noopener follow" target="_blank"><div class="nl ab fo"><div class="nm ab nn cl cj no"><h2 class="bd iu gy z fp np fr fs nq fu fw is bi translated">如何在不出售数据的情况下从网络抓取中赚钱</h2><div class="nr l"><h3 class="bd b gy z fp np fr fs nq fu fw dk translated">你只需要几行代码来赚点外快</h3></div><div class="ns l"><p class="bd b dl z fp np fr fs nq fu fw dk translated">medium.com</p></div></div><div class="nt l"><div class="oq l nv nw nx nt ny ks nk"/></div></div></a></div><h1 id="9b79" class="lv lw it bd lx ly lz ma mb mc md me mf jz mg ka mh kc mi kd mj kf mk kg ml mm bi translated">摘要</h1><p id="ecf2" class="pw-post-body-paragraph kz la it lb b lc mn ju le lf mo jx lh li mp lk ll lm mq lo lp lq mr ls lt lu im bi translated">现在你知道了3种方法来避免在抓取网站时被屏蔽。代理和标题的旋转将使反刮擦系统很难检测到你的刮擦器，而最佳做法将减少你被阻止的机会。</p><p id="c46c" class="pw-post-body-paragraph kz la it lb b lc ld ju le lf lg jx lh li lj lk ll lm ln lo lp lq lr ls lt lu im bi translated"><a class="ae ky" href="https://www.youtube.com/channel/UCGKngc82bux4NIDar572E5Q/featured?sub_confirmation=1" rel="noopener ugc nofollow" target="_blank"> <strong class="lb iu">如果你想学习西班牙语的Python，可以订阅我的YouTube频道。每周我都会发布类似下面这样的视频。</strong>T11】</a></p><figure class="kj kk kl km gt kn"><div class="bz fp l di"><div class="or ng l"/></div></figure><h2 id="dbfa" class="mx lw it bd lx os ot dn mb ou ov dp mf li ow ox mh lm oy oz mj lq pa pb ml pc bi translated">访问专家视图— <a class="ae ky" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank">订阅DDI英特尔</a></h2></div></div>    
</body>
</html>