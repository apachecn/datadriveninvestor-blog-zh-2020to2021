<html>
<head>
<title>Segment Shopify Customer Base using Google Sheets and Google Data Studio</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Google Sheets和Google Data Studio细分Shopify客户群</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/segment-shopify-customer-base-using-google-sheets-e-google-data-studio-8683c0b795b9?source=collection_archive---------9-----------------------#2020-08-22">https://medium.datadriveninvestor.com/segment-shopify-customer-base-using-google-sheets-e-google-data-studio-8683c0b795b9?source=collection_archive---------9-----------------------#2020-08-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/5565e9852876d220183ae679978d4915.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1Z-n4M3DiEJF9KPL4elgQw.jpeg"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@franki?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit" rel="noopener ugc nofollow" target="_blank">Franki Chamaki</a> / <a class="ae kf" href="https://unsplash.com/?utm_source=ghost&amp;utm_medium=referral&amp;utm_campaign=api-credit" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h1 id="0216" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">在定义了RFM分析的含义，以及如何将其应用于您的客户群之后，我想向您展示如何将其应用于Shopify订单数据。</h1><p id="1aff" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">一个简短的介绍能预料到一些疑点，如:</p><ul class=""><li id="078e" class="mc md it lg b lh me ll mf lp mg lt mh lx mi mb mj mk ml mm bi translated">我们为什么要使用RFM分析？</li><li id="1b7d" class="mc md it lg b lh mn ll mo lp mp lt mq lx mr mb mj mk ml mm bi translated">利用它可以获得什么样的信息？</li><li id="cfc8" class="mc md it lg b lh mn ll mo lp mp lt mq lx mr mb mj mk ml mm bi translated">我如何使用客户细分和RFM分析来提高转换率或AOV(平均订单价值)？</li></ul><p id="6126" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">我在一篇文章中回答了其他一些问题，你可以点击这个链接找到答案。</p><h1 id="c23c" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">让我们从Shopify导出订单</h1><p id="05d4" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">Shopify收集的数据是一个很好的起点，但它们需要一点标准化，以便在excel上进行近期、频率和货币分析。</p><p id="eac8" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">为了提取所有订单，我们需要进入后端，<strong class="lg iu">点击侧菜单</strong>中的“订单”选项卡，并遵循一些步骤，如下所述。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mv"><img src="../Images/b31d08f05316c777927b3a9936ec438b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*j6y7NLIJpUGSRu6X.png"/></div></div></figure><p id="4124" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">一个模态窗口将会打开，显示一些选项。</p><ol class=""><li id="e6bd" class="mc md it lg b lh me ll mf lp mg lt mh lx mi mb na mk ml mm bi translated">选择<strong class="lg iu">所有订单</strong>的选项。</li><li id="ac43" class="mc md it lg b lh mn ll mo lp mp lt mq lx mr mb na mk ml mm bi translated">在“导出为”部分，保留默认选择。</li></ol><p id="b4dd" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">现在您可以点击<strong class="lg iu">导出订单</strong>按钮，导出我们刚刚过滤的订单。</p><h2 id="f069" class="nb kh it bd ki nc nd dn km ne nf dp kq lp ng nh ku lt ni nj ky lx nk nl lc nm bi translated">边注</h2><p id="928b" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">出口越大，需要的时间就越多。例如，少于100，000个项目的出口可以在不到一个小时内完成，而400，000个项目的出口可能需要大约4个小时。在如此长时间的导出结束时，Shopify会通过电子邮件通知我们，给我们发送一个下载文件的链接。</p><p id="3e86" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">现在我们已经有了我们的文件，让我们把它导入到我们的Google Drive帐户，它会自动把它变成一个工作表文件。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nn"><img src="../Images/6ed830c343dca42140c1ccc02a05b95e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*d2VHhcfE_d4jYESqrbCfjQ.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Exported excel file of Shopify orders</figcaption></figure><p id="ed6c" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">该文件包含Shopify为我们商店保存的信息；许多数据对于我们的计算来说是多余的，我们将在下一步中继续清理它们。</p><p id="febe" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">导出的数据已经按照<strong class="lg iu">财务状态、已支付和履行状态、已履行</strong>进行了过滤，我们需要删除多余的列。</p><p id="ff5f" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">首先，我们检查<strong class="lg iu">所有行是否正确填写了“已付”和“已履行”</strong>，否则我们可能会得到<strong class="lg iu">不准确的结果</strong>。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi no"><img src="../Images/9c401ce5edb63e5e19f8c659194171ab.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*gQAC1choY9-zmPLLz8sPww.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Delete the unfilled values</figcaption></figure><p id="37cf" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">在“履行状态”列上从A → Z进行排序，并删除值不是“已履行”的行。</p><p id="9465" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">我们删除所有列，只保留下表中显示的字段，确保货币字段具有正确的货币格式。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi np"><img src="../Images/a67626f92844f16c9377311b38f7ece3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7-9mrLlJprUL4ibpn-z-7w.png"/></div></div></figure><p id="3a4a" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated"><strong class="lg iu">电子邮件字段将是我们的客户ID </strong>，允许我们在Google Data Studio中显示相关的电子邮件，以便我们筛选特定的客户细分。</p><blockquote class="nq nr ns"><p id="4c8a" class="le lf nt lg b lh me lj lk ll mf ln lo nu ms lr ls nv mt lv lw nw mu lz ma mb im bi translated"><strong class="lg iu"> <em class="it">提示</em> </strong> <em class="it"> —导出的选定细分市场可用于主动营销活动，通过电子邮件营销自动化创建有针对性的宣传。</em></p></blockquote><h1 id="2185" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">标准化值</h1><p id="8563" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">此时，我们需要规范化“Paid at”列中的所有值，因为Shopify导出的格式也处理时区。为了这个例子的目的，也可以允许一天的变化，但是如果我们想要应用正确的转换，我们应该在Google Sheets脚本模块中应用一个自定义函数，以便正确地转换日期。</p><h1 id="0e70" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">Google电子表格中的时区转换</h1><pre class="mw mx my mz gt nx ny nz oa aw ob bi"><span id="25b2" class="nb kh it ny b gy oc od l oe of">/**<br/> * Converts a datetime string to a datetime string in a targe timezone.<br/> *<br/> *@param {"October 29, 2016 1:00 PM CDT"} datetimeString Date, time and timezone.<br/> *@param {"GMT"} timeZone Target timezone<br/> *@param {"YYYY-MM-dd hh:mm a z"} Datetime format<br/> *@customfunction<br/> */<br/>function myFunction(datetimeString,timeZone,format) {<br/>  var moment = new Date(datetimeString);<br/>  return Utilities.formatDate(moment, timeZone, format)<br/>}</span></pre><p id="1fc8" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated"><em class="nt">--只有当你对数据格式很有把握时才使用</em></p><p id="9986" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">继续下一步，我们可以应用=SPLIT函数，如下所示:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi og"><img src="../Images/748df9866a7aad1c6e5aed93e3ab4e25.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WaiN79rI6PcKFmtmyJSWUA.png"/></div></div></figure><p id="4295" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated"><a class="ae kf" href="https://alexgenovese.it/customer-journey-segmentation-using-google-analytics-and-gsheets/" rel="noopener ugc nofollow" target="_blank">应用RFM矩阵计算，如本文</a>所示，在这里你可以回顾所有的单身步骤，或者如果你喜欢，下载现成的谷歌工作表文件。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oh"><img src="../Images/8c3d9e3a6d9dd7d3349820333b49bf53.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MmGsPqCGPPzCR29qmU4Fwg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">RFM analysis applied</figcaption></figure><h1 id="ab40" class="kg kh it bd ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld bi translated">在Google Data Studio中显示数据</h1><p id="d135" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">打开Google Data Studio，新建一个报表，如下图所示:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/aa5508560176879965f1c93f174a11c2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1120/format:webp/0*Uno3xwf9ysgwWJrb.png"/></div></figure><p id="ffea" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">创建新报表时，会要求您关联一个数据源；选择到目前为止我们已经处理过的工作表。创建新报表时，会显示一些不同的数据源集成；选择到目前为止我们已经处理过的工作表。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oj"><img src="../Images/a1c0a64e526b1400fbe3912f8c8fb2fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*PAa5YN_ZHsis_LeS.png"/></div></div></figure><p id="8bb6" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">它将创建一个简单的表，我们将按如下方式更新它:</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/0fb9090a68f87d4c12950361efd8fc56.png" data-original-src="https://miro.medium.com/v2/resize:fit:640/format:webp/0*3r6vseP187flebbh.png"/></div></figure><p id="1ff4" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">这些设置将允许我们查看每个客户的所有电子邮件和RFM价值。现在，<strong class="lg iu">添加一个树形图，它可以帮助我们正确地显示如何以及有多少个集群组成了我们的客户数据库。</strong></p><p id="e7bc" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">添加“树形图”并按如下方式设置其配置。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/dca3b86cf27bf0f6d7f4c73d119e3611.png" data-original-src="https://miro.medium.com/v2/resize:fit:328/format:webp/0*b47cC5YSf5tKttRC.png"/></div></figure><p id="270e" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">在这一点上，将显示几个矩形，代表我们的客户群集群和排序的大小:颜色变得更暗的电子邮件的总和。</p><p id="c956" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">343，344，545个值代表了我们客户的非常具体的信息，您可以从关联表<a class="ae kf" href="https://alexgenovese.it/applying-rfm-customer-segmentation-to-your-business-right-now/" rel="noopener ugc nofollow" target="_blank">中读取，我在本文的最后一节</a>中描述了该表。</p><p id="55a1" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">这些图表是我们数据的基本表示，如下图所示。现在，我们可以过滤这些图表上的点击，从而实时更新右侧表格中属于被点击细分市场的客户的相关电子邮件。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi om"><img src="../Images/98c4b461cec7e418949942ed3fc99bfa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1T6ck5-OKTCyvjrrY2iV3A.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">RFM analysis on Google Data Studio</figcaption></figure><blockquote class="nq nr ns"><p id="fafd" class="le lf nt lg b lh me lj lk ll mf ln lo nu ms lr ls nv mt lv lw nw mu lz ma mb im bi translated"><strong class="lg iu"><em class="it">PRO TIP</em></strong><em class="it">—当我们规范化订单时，我们还清理了其他数据(例如，每个订单的产品编号、每个产品的成本和许多其他数据)。在过滤集群时，保留这些列并显示在Google Data Studio中可能会很有趣。</em></p></blockquote><p id="1341" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">在Google Data Studio中，您可以创建更适合您特定需求的自定义仪表板。</p><figure class="mw mx my mz gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi on"><img src="../Images/197722119e481cda9a2b96ffdae41c47.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ea5SsxRlhiOI1uiRO5tyPA.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Data Filtering</figcaption></figure><h2 id="a4e4" class="nb kh it bd ki nc nd dn km ne nf dp kq lp ng nh ku lt ni nj ky lx nk nl lc nm bi translated">在这里你可以找到Data Studio仪表盘，这是构建一个更实用的仪表盘的良好起点。</h2></div><div class="ab cl oo op hx oq" role="separator"><span class="or bw bk os ot ou"/><span class="or bw bk os ot ou"/><span class="or bw bk os ot"/></div><div class="im in io ip iq"><h1 id="c1e0" class="kg kh it bd ki kj ov kl km kn ow kp kq kr ox kt ku kv oy kx ky kz oz lb lc ld bi translated">文章系列</h1><p id="abf8" class="pw-post-body-paragraph le lf it lg b lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb im bi translated">我发表了一系列基于RFM矩阵的文章来解释不同的可行策略来发展你的业务。</p><p id="a181" class="pw-post-body-paragraph le lf it lg b lh me lj lk ll mf ln lo lp ms lr ls lt mt lv lw lx mu lz ma mb im bi translated">如果您错过了什么，该系列包括以下文章:</p><ul class=""><li id="b2cf" class="mc md it lg b lh me ll mf lp mg lt mh lx mi mb mj mk ml mm bi translated"><a class="ae kf" href="https://alexgenovese.it/how-to-apply-rfm-customer-segments-your-business/" rel="noopener ugc nofollow" target="_blank">立即将RFM客户细分应用到您的业务中</a></li><li id="ffaa" class="mc md it lg b lh mn ll mo lp mp lt mq lx mr mb mj mk ml mm bi translated"><a class="ae kf" href="https://alexgenovese.it/customer-journey-segmentation-using-google-analytics-and-gsheets/" rel="noopener ugc nofollow" target="_blank">【逐步指南】使用Google Analytics和Google Sheets绘制客户细分图</a></li><li id="e453" class="mc md it lg b lh mn ll mo lp mp lt mq lx mr mb mj mk ml mm bi translated"><a class="ae kf" href="https://alexgenovese.it/segment-shopify-customer-base-using-google-sheets-e-google-data-studio/" rel="noopener ugc nofollow" target="_blank"> <strong class="lg iu">使用Google Sheets e Google Data Studio</strong></a>细分Shopify客户群</li></ul></div></div>    
</body>
</html>