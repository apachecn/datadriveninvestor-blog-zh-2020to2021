<html>
<head>
<title>How to write a shell script with examples</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何用例子写一个shell脚本</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/how-to-write-a-shell-script-with-examples-c31bbb6158fc?source=collection_archive---------6-----------------------#2020-10-25">https://medium.datadriveninvestor.com/how-to-write-a-shell-script-with-examples-c31bbb6158fc?source=collection_archive---------6-----------------------#2020-10-25</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="7d6a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本教程介绍了如何编写一个shell脚本并使其工作！让我们开始吧。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/963995b8f7c85e5e71310866bb934b71.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GugKOJXJTFqpag3HwtdsJw.jpeg"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">hintworld.com — <a class="ae le" href="https://www.hintword.com/article/shell-script-5d41c8d98317b" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="3e93" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">shell脚本是包含许多命令的文件。让我们编写一个shell脚本。我们使用nano打开了一个sh文件，并编写了一些命令。</p><div class="kp kq kr ks gt ab cb"><figure class="lf kt lg lh li lj lk paragraph-image"><img src="../Images/1016b5da067558ec145c51c116007123.png" data-original-src="https://miro.medium.com/v2/resize:fit:628/format:webp/1*dF7Wy-oztwJIrkguAhFCPg.png"/></figure><figure class="lf kt ll lh li lj lk paragraph-image"><img src="../Images/ffd4bc6a271211e10bc8fa2eec93664b.png" data-original-src="https://miro.medium.com/v2/resize:fit:642/format:webp/1*M4qgKehyOC6A6XebtkGrMg.png"/><figcaption class="la lb gj gh gi lc ld bd b be z dk lm di ln lo">Generated By Author</figcaption></figure></div><p id="edf6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里，extension不是决定用来执行脚本的程序，而是shell脚本的第一行。这是一个unix shell。<br/>让我们进入下一步，<br/> 1)在这里，我们检查保存的文件<br/> 2)然后使用<code class="fe lp lq lr ls b">ls -l</code>命令检查权限，看它是否可执行。<br/> 3)使用<code class="fe lp lq lr ls b">chmod</code>作为可执行文件更改权限<br/> 4)现在运行shell脚本并查看输出。</p><p id="cd00" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">每个程序运行后都会返回一些东西。在linux中，如果成功，它将返回0，如果不成功，它将返回一个错误号。您可以使用<code class="fe lp lq lr ls b">echo $?</code>命令检查之前命令的代码</p><p id="daa1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">5) <code class="fe lp lq lr ls b">echo $?</code>用于检查状态。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/4df03f81874edb5c0c76f160fabe2411.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*e6-7A0ZyAFH0EHyKu37Qtw.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Generated By Author</figcaption></figure><h1 id="33df" class="lu lv it bd lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr bi translated">字数统计的外壳脚本</h1><p id="51cf" class="pw-post-body-paragraph jq jr it js b jt ms jv jw jx mt jz ka kb mu kd ke kf mv kh ki kj mw kl km kn im bi translated">让我们首先创建一个包含一些内容的txt文件。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mx"><img src="../Images/2ecce78cc51cac74728e50b077d3bab6.png" data-original-src="https://miro.medium.com/v2/resize:fit:556/format:webp/1*FZDx4IuCmmhTJJG9v4-C2g.png"/></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Generated By Author</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi my"><img src="../Images/cdf9c717b3ff58508d5edec213b4b06c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lX04Df_CscsOILm_lGko1Q.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Generated By author</figcaption></figure><p id="3801" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在创建一个名为<code class="fe lp lq lr ls b">wordcount.sh</code>的sh文件。使用nano wordcount.sh命令。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mz"><img src="../Images/67edd8e6112cb6b99d13c268f8e330db.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DebcFmbVp0PTVWtrhB-Egw.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Generated By Author</figcaption></figure><p id="af04" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个sh文件做一些处理，比如使用管道it <br/> 1)将A-Z转换为A-Z<code class="fe lp lq lr ls b">tr 'A-Z' 'a-z'</code>T18】2)替换制表符和非字母数字<code class="fe lp lq lr ls b">ed -E 's/[ \t]+/\n/g'|sed 's/[^0-9a-z]//g'</code></p><p id="54c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">3)计数排序取唯一和计数排序。<code class="fe lp lq lr ls b">sort|uniq -c|sort -nr -S 50M</code></p><p id="26f6" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在你可以保存它了。然后你可以看到这样的结果。<br/>保存后，我们将权限更改为可执行，然后使用管道将<code class="fe lp lq lr ls b">data.txt</code>的输出与<code class="fe lp lq lr ls b">wordcount.sh</code>文件和<code class="fe lp lq lr ls b">more</code>一起以分页方式显示。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi na"><img src="../Images/d01ae5a93601738751e8857c47393036.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PQpF52pd2F8rnkXeuQ6NkA.png"/></div></div><figcaption class="la lb gj gh gi lc ld bd b be z dk">Generated By Author</figcaption></figure></div><div class="ab cl nb nc hx nd" role="separator"><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng nh"/><span class="ne bw bk nf ng"/></div><div class="im in io ip iq"><p id="46c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">感谢您的阅读和宝贵时间。希望这篇阅读是有用的。</p></div></div>    
</body>
</html>