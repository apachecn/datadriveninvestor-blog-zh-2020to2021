<html>
<head>
<title>Sentiment Analysis using Google Cloud Natural Language API</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用谷歌云自然语言API的情感分析</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/sentiment-analysis-using-google-cloud-natural-language-api-aedec981d1ea?source=collection_archive---------7-----------------------#2020-03-23">https://medium.datadriveninvestor.com/sentiment-analysis-using-google-cloud-natural-language-api-aedec981d1ea?source=collection_archive---------7-----------------------#2020-03-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="4cce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><em class="kl">数据丰富但真正的价值在</em> <strong class="jp ir"> <em class="kl">分析</em> </strong> <em class="kl">。</em></p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi km"><img src="../Images/28cf9a6c3e45224a5364003adadb92fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*N4HNq1pVpUk9HWx1"/></div></div></figure><p id="1685" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在本教程中，我们将学习如何使用谷歌云自然语言API分析情感。这里，基于<a class="ae ky" href="https://cloud.google.com/natural-language/docs/quickstart-client-libraries" rel="noopener ugc nofollow" target="_blank">官方文件</a>讨论了情感分析应遵循的基本程序。</p><h1 id="3796" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated"><strong class="ak">建立谷歌云平台控制台项目</strong></h1><p id="e0df" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">通过您的Google帐户登录到您的Google云平台控制台，并创建一个新项目。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mc"><img src="../Images/ac8bc1ad13f2f5fa1b3ad1e7252ed86a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*taGAvuyJbnZsxjuWwTaOfw.png"/></div></div></figure><p id="8169" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建项目后，转到“APIs &amp;服务”选项，在仪表板上单击“启用API和服务”</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi md"><img src="../Images/e181320ed908084d6c19e60a2b7f4e42.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F-siKQlndkbFHFj_wvJtxw.png"/></div></div></figure><p id="f5c3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">启用云自然语言应用编程接口，然后你就可以进行计费了。</p><h1 id="f26a" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">创建凭据</h1><p id="e892" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">要创建API密钥，我们必须在APIs &amp; Services中选择凭证选项。在创建凭据选项中，单击API密钥。将生成API密钥。下载JSON格式的凭证并保存在您的工作目录中。</p><h1 id="2ae4" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">设置环境变量</h1><p id="33db" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">环境变量用于验证调用API的人的身份。这里我们使用GOOGLE_APPLICATION_CREDENTIALS作为环境变量，它被设置为包含凭证的JSON文件的路径。</p><p id="653c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对于node.js项目，执行以下步骤</p><p id="0334" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">创建一个. env文件，并将您的凭证文件路径设置为GOOGLE_APPLICATION_CREDENTIALS</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi me"><img src="../Images/8affff3c8418b8f1c45a2e7eced6b97d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*zj2jFQni4PE5Zjyy19S_wA.png"/></div></div></figure><p id="e88b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要求dotenv模块进入项目</p><p id="a1d7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">const dotenv = require('dotenv ')。config()；</p><p id="7f80" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">检查您是否使用直接配置dotenv</p><p id="33d6" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">控制台. log(process . env . Google _ APPLICATION _ CREDENTIALS)；</p><h1 id="429d" class="kz la iq bd lb lc ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw bi translated">调用自然语言API来执行情感分析</h1><p id="1b8a" class="pw-post-body-paragraph jn jo iq jp b jq lx js jt ju ly jw jx jy lz ka kb kc ma ke kf kg mb ki kj kk ij bi translated">现在你可以通过npm安装@google-cloud/language library，通过导入上面的库来做情感分析。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mf"><img src="../Images/b04ce2398cb5c2d258420e8b730094b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*61A_yZKIzaZLQY4uM2nOUA.png"/></div></div></figure><p id="442c" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你不想使用. env文件，我在这里写了另一个方法来执行这个任务。</p><p id="eb61" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这里我们避免创造。环境文件。当创建客户机时，我们给出一个object参数，它包括作为键的projectID和keyFilename。我们应该分别给出projectID值和凭证文件的路径。</p><figure class="kn ko kp kq gt kr gh gi paragraph-image"><div role="button" tabindex="0" class="ks kt di ku bf kv"><div class="gh gi mg"><img src="../Images/80edbb157e2f77b3eb11fc7f17ada5dc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*yPp69_5R0gCEfAFc8GjPZg.png"/></div></div></figure><p id="ca32" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是一个关于如何使用谷歌云自然语言API进行情感分析的简要说明。在我以后的教程中，将讨论其他基于NLP的内容。</p></div></div>    
</body>
</html>