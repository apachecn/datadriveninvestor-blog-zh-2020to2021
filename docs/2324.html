<html>
<head>
<title>Data Science:Data PreProcessing(EDA)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学:数据预处理(EDA)</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/data-science-data-preprocessing-eda-6be2860fbb5d?source=collection_archive---------3-----------------------#2020-04-24">https://medium.datadriveninvestor.com/data-science-data-preprocessing-eda-6be2860fbb5d?source=collection_archive---------3-----------------------#2020-04-24</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/813d3f7d44fb9d9f4e9ef1fa2e170a77.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5hk2BGbiG9Io2-Wz729CrQ.jpeg"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">image:<a class="ae jd" href="https://www.securityindustry.org/" rel="noopener ugc nofollow" target="_blank">securityindustry.org</a></figcaption></figure><div class=""/><h1 id="7973" class="kd ke jg bd kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la bi translated">数据预处理步骤(EDA)</h1><p id="76a6" class="pw-post-body-paragraph lb lc jg ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在建立任何机器学习模型之前，执行数据预处理以向模型提供正确的数据来进行学习和预测是至关重要的。模型性能取决于提供给要训练的模型的数据质量。</p><p id="7fb0" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">下面是各种预处理步骤。让我们在这里详细讨论</p><h2 id="8520" class="me ke jg bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated"><strong class="ak">处理空值/缺失值。</strong></h2><p id="4fb6" class="pw-post-body-paragraph lb lc jg ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">在任何给定的数据集中，如果任何特征有超过30%的缺失值，我们需要检查该特征的重要性。如果该特征是重要特征，则使用统计方法，如平均值、中值或众数来填充缺失值。如果特征不重要，则需要从数据集中移除该特征。</p><ol class=""><li id="eef9" class="mq mr jg ld b le lz li ma lm ms lq mt lu mu ly mv mw mx my bi translated"><strong class="ld jh">识别数据中的</strong>缺失值</li><li id="0a05" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated"><strong class="ld jh">替换数据中的</strong>缺失值，以及</li><li id="0609" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated"><strong class="ld jh">从数据中删除</strong>缺失值。</li></ol><p id="5f63" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">步骤<strong class="ld jh">识别</strong>、<strong class="ld jh">替换或移除</strong>具有空值的特征。</p><p id="f6e3" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">假设我们有下面的数据集。</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/f8a87dda44de6b6ce3f6c47fdc60c6d4.png" data-original-src="https://miro.medium.com/v2/resize:fit:814/format:webp/1*2zTGddmxv-U1_FMK7L5SOg.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">HousePrice.csv</figcaption></figure><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="nj nk l"/></div></figure></div><div class="ab cl nl nm hu nn" role="separator"><span class="no bw bk np nq nr"/><span class="no bw bk np nq nr"/><span class="no bw bk np nq"/></div><div class="ij ik il im in"><h2 id="20b9" class="me ke jg bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated"><strong class="ak">处理偏斜数据。</strong></h2><p id="c3e0" class="pw-post-body-paragraph lb lc jg ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">偏斜数据在数据科学中很常见。偏斜度是正态分布的扭曲程度。</p><p id="deaa" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld jh">偏态的类型。</strong> <br/>广义来说，有两种偏态:<br/>它们是</p><p id="1944" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">(1)正偏度。</p><p id="0f17" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">(2)负偏态。</p><p id="9d91" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在二进制分类情况下，偏斜数据意味着一个类在数据中比另一个类更具代表性。</p><div class="ip iq gp gr ir ns"><a href="https://www.datadriveninvestor.com/2020/02/19/five-data-science-and-machine-learning-trends-that-will-define-job-prospects-in-2020/" rel="noopener  ugc nofollow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd jh gy z fp nx fr fs ny fu fw jf bi translated">将定义2020年就业前景的五大数据科学和机器学习趋势|数据驱动…</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">数据科学和ML是2019年最受关注的趋势之一，毫无疑问，它们将继续发展…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="ob l"><div class="oc l od oe of ob og ix ns"/></div></div></a></div><p id="c3df" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">偏斜导致的可能结果首先是最严重的:</p><p id="a477" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld jh">坏模型</strong>:你学习的分类器将不能完成它的任务(识别正确的类)。<br/> <strong class="ld jh">低效的培训</strong>:培训过程会投入大量的时间和精力来调整“无趣的参数”，因为它们似乎会区分不同的类别。<br/> <strong class="ld jh">遗漏好的特征，强调无用的特征</strong></p><p id="ef02" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">为了消除偏斜，可以对数据进行归一化或缩放。<br/>归一化或缩放是指将所有列纳入同一范围。两种最常见的标准化/缩放技术是:</p><ol class=""><li id="b924" class="mq mr jg ld b le lz li ma lm ms lq mt lu mu ly mv mw mx my bi translated">最小-最大值:</li></ol><figure class="nf ng nh ni gt is gh gi paragraph-image"><div class="gh gi oh"><img src="../Images/3484d9b9cd07057016e7c2f646c2fbab.png" data-original-src="https://miro.medium.com/v2/resize:fit:636/format:webp/1*m-c4ARwLehrvsBW84w8jcA.png"/></div></figure><p id="09af" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">2.z分数:</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div class="gh gi oi"><img src="../Images/279bcda7073e944d6ad75b518abb2d80.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*CJwT8E7uMUjmc4Uf5-HExw.gif"/></div></figure><p id="8aca" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld jh">注</strong>:缩放(通过Z得分完成)更好，因为它将数据转换为标准正态分布或Z分布，其中均值=0，标准差=1。它也处理异常值。</p><h2 id="540e" class="me ke jg bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated"><strong class="ak">异常值检测和剔除</strong></h2><p id="3e6f" class="pw-post-body-paragraph lb lc jg ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">简单来说，离群值是远离其他数据点的数据点。<em class="oj">在统计学中，一个</em> <strong class="ld jh"> <em class="oj">离群点</em> </strong> <em class="oj">是一个远离其他观测值的观测点。</em></p><p id="016c" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如下所述，有各种方法来识别数据集中的异常值。</p><ol class=""><li id="50cf" class="mq mr jg ld b le lz li ma lm ms lq mt lu mu ly mv mw mx my bi translated">四分位距(IQR)——可变性的一种度量。</li><li id="c7fa" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">箱线图——通过四分位数对数值数据的图形描述。</li></ol><figure class="nf ng nh ni gt is gh gi paragraph-image"><div class="gh gi ok"><img src="../Images/70929956bc15280c1a6704b8f9b9382c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1150/format:webp/1*mNrWb9uBm2kYtyRUpl8vDA.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Boxplot</figcaption></figure><p id="dc5d" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">3.散点图—使用散点的图形描述。</p><p id="1fa3" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">下面是散点图。我们可以在图表顶部看到一些异常值。</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div class="gh gi ol"><img src="../Images/b3b59174a96dae21394b0cfba02a3299.png" data-original-src="https://miro.medium.com/v2/resize:fit:1224/format:webp/1*_tezdVnEPnRa4M2C3D_QBw.png"/></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Scatter Plot</figcaption></figure><p id="913b" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">4.直方图也强调了异常值的存在。</p><p id="aaf5" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">5.z分数——它告诉我们任何数据点距离平均值有多少标准偏差。</p><p id="c6af" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld jh">使用Z分数识别异常值:</strong></p><p id="add3" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">为了将正态分布(也称为高斯曲线或钟形曲线)转换为标准正态分布(Z分布),我们使用Z得分。</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi om"><img src="../Images/1ff75fbf2bb860c34ce666f827926836.png" data-original-src="https://miro.medium.com/v2/resize:fit:1266/format:webp/1*9dmraJOAXIvZMhreAqEwIQ.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Image:chegg.com</figcaption></figure><p id="28f5" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">Z-score是寻找平均值为0、标准差为1的数据分布。正如已经讨论过的，Z得分值将告诉我们我的数据离平均值有多少标准差。这些远离平均值的数据点将被视为异常值。</p><p id="e5e9" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">在大多数情况下，使用阈值3或-3，即如果Z分值分别大于或小于3或-3，则该数据点将被识别为异常值。</p><p id="93e7" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">当我们有小数据集时，很容易识别异常值，但是当我们有数百万行和数千个特征时，我们该如何处理呢？</p><p id="0a33" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我们需要使用一些统计技术来找出异常值。让我们看看我们的代码。我们导入了著名的“波士顿”数据集来寻找异常值。</p><p id="63dc" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">我们使用scipy的统计模块来查找z疮。</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi on"><img src="../Images/7ac5c1a9e05053f4b04da151f4f8dfe4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wHPL_z3V3rxh8H6-fW3BQA.png"/></div></div></figure><p id="048e" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">查找Z得分值并过滤掉大于3的Z得分。</p><p id="92fb" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">这里3表示数据点距离平均值3个标准差。(见上图)</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi oo"><img src="../Images/fcffd11e1e25cceb024bb3532218a116.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*VmoYdpholJaIp-fNGD7rpQ.png"/></div></div></figure><p id="c220" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">下面的代码将向您显示异常值，以及这些特性和行的详细信息。类似地，我们可以打印所有异常值特征和行号。</p><figure class="nf ng nh ni gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi op"><img src="../Images/dec038208d669370aa596355084ddb1b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cADL-vrqJzl-9Amz3qc-1g.png"/></div></div></figure><p id="e0a2" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">离群值(如果可能，在业务离散后)应被删除，因为它们扭曲统计分析并违反其假设。</p><h2 id="8df9" class="me ke jg bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated"><strong class="ak">查找并修复不平衡类。</strong></h2><p id="b513" class="pw-post-body-paragraph lb lc jg ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">机器学习模型受不平衡类的影响。当数据集中的一个类比另一个类占优势(拥有更多数量的数据值)时，就会出现这种情况。例如，当一个类支配另一个类时，如果数据不平衡，决策树学习者会创建有偏向的树。据说是在训练机器学习模型之前修复这个问题。</p><p id="9808" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated"><strong class="ld jh">以下是解决不平衡等级问题的一些方法。</strong></p><ol class=""><li id="2ad6" class="mq mr jg ld b le lz li ma lm ms lq mt lu mu ly mv mw mx my bi translated">对不平衡数据使用基于Bagging的技术。支持<em class="oj">带替换重采样和无替换重采样</em>。</li><li id="59b2" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">惩罚算法(对成本敏感的培训)</li><li id="eadc" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">尝试按如下方式更改您的绩效指标。</li><li id="0d7e" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">您可以从被称为过采样(或更正式的替换采样)的代表性不足的类中添加实例的副本。</li><li id="a75b" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">您可以从被称为欠采样的过表示类中删除实例。</li><li id="0671" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">尝试生成合成样本。(使用SMOTE -合成少数过采样技术。这使用KNN算法来生成合成样本)</li></ol><p id="a43e" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">建议查看以下性能度量，这些度量比传统的分类准确性更能洞察模型的准确性:</p><p id="cecc" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">A.混淆矩阵:将预测分解成一个表格，显示正确的预测(对角线)和错误预测的类型(错误预测被分配到哪个类别)。</p><p id="9ad6" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">B.精度:对分类器准确性的一种度量。<br/> C .召回:分类器完整性的度量<br/> D. F1分数(或F分数):精确度和召回的加权平均值。</p><div class="ip iq gp gr ir ns"><a href="https://medium.com/analytics-vidhya/performance-metrics-for-machine-learning-models-48990018ebd6" rel="noopener follow" target="_blank"><div class="nt ab fo"><div class="nu ab nv cl cj nw"><h2 class="bd jh gy z fp nx fr fs ny fu fw jf bi translated">机器学习模型的性能度量</h2><div class="nz l"><h3 class="bd b gy z fp nx fr fs ny fu fw dk translated">众所周知，当我们创建机器学习模型来预测任何连续值(如房子…</h3></div><div class="oa l"><p class="bd b dl z fp nx fr fs ny fu fw dk translated">medium.com</p></div></div><div class="ob l"><div class="oq l od oe of ob og ix ns"/></div></div></a></div><h2 id="8e27" class="me ke jg bd kf mf mg dn kj mh mi dp kn lm mj mk kr lq ml mm kv lu mn mo kz mp bi translated"><strong class="ak">编码分类数据</strong></h2><p id="d5ed" class="pw-post-body-paragraph lb lc jg ld b le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly ij bi translated">正如我们所知，大多数机器学习模型(如线性回归、逻辑回归、svm或k-means等。)处理连续数据，需要将数据集中可用的分类变量转换为连续变量。</p><p id="f1e9" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">有各种方法可以做到这一点。</p><ol class=""><li id="fec5" class="mq mr jg ld b le lz li ma lm ms lq mt lu mu ly mv mw mx my bi translated">标签编码:用于将非数字标签转换为数字标签。</li><li id="4297" class="mq mr jg ld b le mz li na lm nb lq nc lu nd ly mv mw mx my bi translated">使用统计平均值或模式将数字箱转换为数字，例如<em class="oj">0–17到14 </em>。</li></ol><p id="21c1" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">最后注意:我已经给了你数据预处理步骤的要点。可以有更多的业务和项目的需要，但这些是主要的。希望你喜欢阅读。如果你喜欢我的文章并想看更多，请张贴<strong class="ld jh"> 50个掌声</strong>和<strong class="ld jh">关注</strong>我的博客。</p><p id="ba17" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">想要连接:</p><p id="1547" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">联系方式:<a class="ae jd" href="https://www.linkedin.com/in/anjani-kumar-9b969a39/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/anjani-kumar-9b969a39/</a></p><p id="0ca7" class="pw-post-body-paragraph lb lc jg ld b le lz lg lh li ma lk ll lm mb lo lp lq mc ls lt lu md lw lx ly ij bi translated">如果你喜欢我在Medium上的帖子，并希望我继续做这项工作，请考虑在<a class="ae jd" href="https://www.patreon.com/anjanikumar" rel="noopener ugc nofollow" target="_blank"> <strong class="ld jh">版块</strong> </a>上支持我</p><figure class="nf ng nh ni gt is"><div class="bz fp l di"><div class="or nk l"/></div></figure></div></div>    
</body>
</html>