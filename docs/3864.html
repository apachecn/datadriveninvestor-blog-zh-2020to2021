<html>
<head>
<title>Deploy Deep Learning Models in AWS using AWS Lambda + AWS API gateway + AWS Elastic File System. (Part — 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用AWS Lambda+AWS API gateway+AWS Elastic文件系统在AWS中部署深度学习模型。(第一部分)</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/deployment-of-deep-learning-models-in-aws-using-aws-lambda-aws-api-gateway-aws-elastic-file-a48fdeb2c140?source=collection_archive---------3-----------------------#2020-07-12">https://medium.datadriveninvestor.com/deployment-of-deep-learning-models-in-aws-using-aws-lambda-aws-api-gateway-aws-elastic-file-a48fdeb2c140?source=collection_archive---------3-----------------------#2020-07-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/3c14ebaf74453341acad4a0e2ae4ed44.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*YmQqmVIH5deaor3S58P8wQ.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">AWS Services</figcaption></figure><p id="4703" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">大家好</p><p id="fcd1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这3篇文章系列中，我们将了解如何部署深度学习模型，该模型在AWS中执行图像分类，并向世界公开其API，因此其他人可以与您的API进行交互。</p><p id="3cf7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">转到帖子1:你就在那里，你应该在的地方。</strong></p><p id="7a16" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">转到帖子2: </strong> <a class="ae la" href="https://medium.com/@balakrishnakumar.v/deployment-of-deep-learning-models-in-aws-using-aws-lambda-aws-api-gateway-aws-elastic-file-2b7102b3ff39?sk=43669dd5d884823cc95d0281a3d4d2b2" rel="noopener"> <strong class="ke ir">链接</strong> </a></p><p id="69d4" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">转到帖子3: </strong> <a class="ae la" href="https://medium.com/@balakrishnakumar.v/deployment-of-deep-learning-models-in-aws-using-aws-lambda-aws-api-gateway-aws-elastic-file-c423139fa858?sk=c781d42e92cab18e797f2b5e58b7068c" rel="noopener"> <strong class="ke ir">链接</strong> </a></p><p id="dcbc" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如前所述，我们将在AWS中使用3种服务。</p><ol class=""><li id="13c1" class="lb lc iq ke b kf kg kj kk kn ld kr le kv lf kz lg lh li lj bi translated"><strong class="ke ir"> AWS弹性文件系统(第一部分)</strong></li></ol><p id="c9d1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">首先，EFS是由亚马逊Web服务提供的云存储服务，旨在提供可扩展、弹性、有一些限制的并发和加密的文件存储，用于AWS云服务和内部资源。</p><p id="b1d2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们之所以将EFS纳入我们的实现，是因为AWS Lambda施加的限制，只是为了运行深度学习模型，我们需要大量的依赖项以及您喜欢的DL库，如Keras、Tensorflow或Pytorch。</p><p id="a9ab" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">AWS Lambda目前支持带AWS Lambda的压缩部署包的硬限制为50MB，未压缩的AWS Lambda硬限制为250MB。</p><p id="a4eb" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">对于现实世界的部署，我们可能需要至少1 GB的依赖关系，因此为了克服这个问题，我们使用AWS弹性文件系统，在这里我们可以加载我们的部署包，并将这个路径添加到我们的python库，它可以毫无问题地导入。</p><p id="3195" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">但是这里我将添加两个实践的实现，我们将从AWS Lambda层导入一些库，从AWS EFS导入一些库。</p><p id="38cd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> 2。自动气象站Lambda(第二部分)</strong></p><p id="2666" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">AWS Lambda是完全无服务器的，我们只为计算时间和使用的资源付费。</p><p id="12ea" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们正在使用AWS Lambda为我们的深度学习模型实现一种无服务器方法，其中我们的模型实际上为给定的图像执行计算。</p><p id="c96f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.<strong class="ke ir"> AWS API网关(第三部分)</strong></p><p id="d21d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了使我们的深度学习模型对外部世界可用，我们可以使用API网关来创建我们的模型与他人交互的连接。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><h1 id="ee47" class="lr ls iq bd lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo bi translated"><strong class="ak"> AWS弹性文件系统(第一部分)</strong></h1><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/70b8c76d48353c1e48d02dc188c6b6eb.png" data-original-src="https://miro.medium.com/v2/resize:fit:330/format:webp/0*XfELSYmNVax_KONN.png"/></div></figure><p id="85dd" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">好了，让我们开始创建AWS EFS和它的挂载点。</p><ol class=""><li id="9250" class="lb lc iq ke b kf kg kj kk kn ld kr le kv lf kz lg lh li lj bi translated">在创建EFS之前，我们需要在AWS中配置一个新的安全组，以便通过AWS Lambda &amp; EC2访问我们的EFS。因此，我希望您已经登录到您的AWS帐户，并导航到EC2选项卡下的安全组。</li></ol><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mu"><img src="../Images/b76bedb8bc431938ece04ff56a8d4fc4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_MHXHSweEloDtRVxQEubtQ.png"/></div></div></figure><p id="faee" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">2.创建新的安全组。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/65ee9f0f0c6374613aaf2aaaad2c1a95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XGBLhCbXxCiEAhrVedcVcg.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mw"><img src="../Images/7ab2f7b19ff97b013299aad61a778544.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kCVRS3hOVzrHlGUIXcVQkw.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/c9202b811f421aef29a62586cbc7dc65.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*cMSpof-TYXWySzW7o8Sing.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi my"><img src="../Images/8e78bb835c55af8bc3f0dec3a0472d73.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6C3mABLJ8Pwk1mwI1PkXiA.png"/></div></div></figure><p id="52c7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这里，我添加了两条规则。</p><p id="f607" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">规则1:使用IPV4和IPV6协议连接我们的AWS EFS。</p><p id="42b0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">规则2:挂载我们的EC2实例，然后我们可以将文件(Python包)添加/替换到我们的EFS中。在Source下拉列表中，选择附加到您想要连接的EC2实例的安全组。</p><p id="bdbf" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">请注意，如果您正在运行连接到不同安全组的其他EC2实例，则无法挂载您的EFS驱动器，除非您像上面那样将它们的安全组添加到入站规则中。</p><p id="0e76" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果这里没有EC2实例要添加，也没什么好担心的。查看我在<a class="ae la" href="https://medium.com/@balakrishnakumar777/step-by-step-creation-of-an-ec2-instance-in-aws-and-access-it-via-putty-winscp-a6c28f2022be" rel="noopener"> <strong class="ke ir">上的帖子，逐步在AWS中创建EC2实例，并通过Putty &amp; WinSCP </strong> </a> <strong class="ke ir">，</strong>访问它，然后创建一个EC2实例，或者稍后再创建，然后返回到安全组并在此处的入站规则中添加一个新条目。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/933638f57e2357c4550a5228a30d9d64.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_q1M0dJyQaLgL4T-3pHE0Q.png"/></div></div></figure><p id="b582" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">保持出站流量不变，然后单击创建安全组。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/32e50881d6f321790f88d37985d9012b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*IZv5fllpIwHc-ClDWhJ_6A.png"/></div></div></figure><p id="a461" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">3.很好，现在让我们创建一个弹性文件系统(典型的EFS就像一个Google Drive)，在这里您可以无限制地垂直扩展卷，并为您使用的内容付费。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi na"><img src="../Images/2ffd3a011a00b789328dbdc151ee2adb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*aUFVTEhUQ7F2sasad_GrFg.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nb"><img src="../Images/10ce648b512dd9205fe7ea3d78768f59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*EGnckgqLXqzHaM4lP8V4EA.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/2254e0e21d5ab875df6f0f80e59357dd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S5JMgtd3xcsuDk7TOOapIA.png"/></div></div></figure><p id="183c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">默认情况下，您将连接到一个默认的安全组，您必须删除它们并用新创建的安全组(在我们的例子中是its→EFS _拉姆达_演示)替换它们，然后单击下一步。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nc"><img src="../Images/4b1772137d4809294fd80dc03891b5e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*XQ-akg1fJCcLRFQco1GS8g.png"/></div></div></figure><p id="56f5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">通过创建一个key &amp; Value对来添加一个新的标签，因为我们稍后将使用这个标签来标识我们的EFS，并保留默认选项，然后进入下一步。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nd"><img src="../Images/104774ff7ea65594980ae8d2fccf6f95.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LCZVI14CyfN6hseCB7_L7g.png"/></div></div></figure><p id="8516" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在配置客户端访问的第3步中，使用上面的值来填充接入点，并随意选择名称和目录的值。这里我选择了/demo目录，所以我将在EFS的这个文件夹下添加所有的依赖项。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ne"><img src="../Images/2bea884a20f09a3d5e407b53a6ad176c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*DQNW0ctMZmwsmCDn12-Mhg.png"/></div></div></figure><p id="b643" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在我们完成了，单击创建文件系统。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nf"><img src="../Images/04ede6309930ab71ecfe8b96a340d5c6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*s8y1YDNiRg-G9cGeZHLLtg.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ng"><img src="../Images/d0279bd95c221de09f0f5b9af095c2b9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMqZn0UxGii2hq1UOt8ugQ.png"/></div></div></figure><p id="8571" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">等待，直到挂载目标状态从<strong class="ke ir">创建</strong>变为<strong class="ke ir">可用</strong>状态。最后，我们完成了。</p></div><div class="ab cl lk ll hu lm" role="separator"><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp lq"/><span class="ln bw bk lo lp"/></div><div class="ij ik il im in"><p id="0c28" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">4.创建一个EC2实例，并使用挂载点连接我们的EFS，让我们添加python包。</p><p id="49f7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我在这里跳过了创建EC2实例的部分，如果你需要复习，请参考我的帖子<a class="ae la" href="https://medium.com/@balakrishnakumar777/step-by-step-creation-of-an-ec2-instance-in-aws-and-access-it-via-putty-winscp-a6c28f2022be" rel="noopener"> <strong class="ke ir">在AWS中逐步创建EC2实例，并通过Putty&amp;WinSCP</strong></a><strong class="ke ir"/>访问它，然后回到这里。</p><p id="6923" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在让我们转到EFS页面，看看将我们的EFS驱动器安装到我们的EC2实例背后的说明。现在点击链接“亚马逊EC2安装说明(来自VPC本地)”。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nh"><img src="../Images/2f657cfc437d77f0afff2093a2153b55.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*4emwNOzsr28CSlWLGelgng.png"/></div></div></figure><p id="23c0" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">5.它会打开一个新的弹出窗口，因为我们使用的是基于ubuntu的EC2实例，所以我们会遵守绑定到基于ubuntu的操作系统的命令。</p><p id="cab2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">通过Putty连接您的实例并运行突出显示的命令。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ni"><img src="../Images/97ca3454a11e3b67167799a5bf84bb5c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5KbV4__rNXyaakRAofLC_g.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/615ab12f57bef10651fbc30012c9da80.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*op3jKRONIWv1xEx_UhJc6w.png"/></div></div></figure><p id="ea3b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">通常我们需要运行这3个命令。请注意，第三个命令是用户独有的。</p><p id="d253" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> C1。sudo apt-get安装nfs-common </strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nj"><img src="../Images/ac10366eb3034dbfd2c5f7bacd7b4061.png" data-original-src="https://miro.medium.com/v2/resize:fit:1340/format:webp/1*1gF5FQQZWS3wfD3LEze4ug.png"/></div></div></figure><p id="f8b2" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir"> C2 </strong> : <strong class="ke ir"> sudo mkdir /efs(注意我在这里做目录，所以加/efs) </strong></p><p id="4c1b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">按照putty中列出的命令，在根目录中创建一个挂载点。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/a4444fddc2eaabc7ae0ab9a44abce84d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*4lM93xzyQ6inoxGbjRGRhQ.png"/></div></figure><p id="7fd5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">子命令:</p><p id="3f96" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SC1:须藤秀</p><p id="cce5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SC2:光盘</p><p id="9b25" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">SC3: ls</p><p id="888f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">C2 : sudo mkdir /efs </p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nl"><img src="../Images/e503adde0da71e57b80346a22e5b7671.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m5fGG-X5KeTaQg4gGqwgXQ.png"/></div></div></figure><p id="d459" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">也检查与WinSCP工具，你可以看到一个新的文件夹“efs”在根目录。</p><p id="e327" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">C3:sudo mount-t NFS 4-o NFS vers = 4.1，rsize=1048576，wsize=1048576，hard，timeo=600，retrans=2，nores port fs-74048 ea 5 . EFS . AP-south-1 . amazonaws . com://EFS</strong></p><p id="788a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">(另请注意，我在结尾处使用了/efs，而不是efs) </strong></p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/160d43b47566307f11bfa9e18e5ea855.png" data-original-src="https://miro.medium.com/v2/resize:fit:1352/format:webp/1*xJgFBdBFckQVbMo-hqKxaQ.png"/></div></figure><p id="9a2d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">太好了，现在我们已经成功地在EC2文件系统中挂载了EFS。现在让我们将一些文件添加到我们的EFS中，并在AWS EFS选项卡上检查更新的大小。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/ff02b78cfb54c4ae08e5f2af90a2a64b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1336/format:webp/1*ZcIfRnVlhohTervT3M6vQg.png"/></div></figure><p id="ee77" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在这里，我在efs文件夹中下载了一个NumPy python包，我们可以在EFS控制台中看到计量大小的增加。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mz"><img src="../Images/37003eb7372d8ab0833a1373078fb29c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dWNCgk0EMtq2hxG5Yt_Ihg.png"/></div></div></figure><p id="5cab" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">6.现在，在做实验时，我最近发现，当我们停止并启动一个实例时，EFS驱动器被卸载，我每次都运行<strong class="ke ir"> C3 </strong>来连接我的EFS。因此，解决这个问题的一个方法是在实例设置下的用户数据字段中添加<strong class="ke ir"> C3 </strong>。</p><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/579fd099dc3d3c5b061d1d2feffd5cac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Rso8yxyUAMdUvpnBScVqoQ.png"/></div></div></figure><figure class="mq mr ms mt gt jr gh gi paragraph-image"><div class="gh gi no"><img src="../Images/960869deb744df5b22c95c6fc3c69ba2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1220/format:webp/1*DAtXlzjzkCdrAmqPzZcr4A.png"/></div></figure><p id="9083" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">所以以后我们不用担心每次都要连接我们的EFS。</p><p id="3e03" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">好了，一旦你成功地实现了这一部分，现在你可以按照后2 &amp; 3。</p><p id="e35b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最佳做法是检查https://aws.amazon.com/ec2/pricing/<a class="ae la" href="https://aws.amazon.com/efs/pricing/" rel="noopener ugc nofollow" target="_blank">EFS</a>的定价</p><p id="47ce" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我将发布与机器和深度学习相关的文章，以及它们与AWS服务的交集。</p><p id="d559" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">在那之前，下次见。</p><p id="c2fe" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">文章作者:</strong></p><p id="87ab" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">巴拉克里希纳库马诉T21</p></div></div>    
</body>
</html>