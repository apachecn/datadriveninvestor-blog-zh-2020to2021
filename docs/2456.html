<html>
<head>
<title>Install Azkaban on Ubuntu</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">在Ubuntu上安装阿兹卡班</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/install-azkaban-in-ubuntu-d0d9ca5d8a7a?source=collection_archive---------3-----------------------#2020-05-01">https://medium.datadriveninvestor.com/install-azkaban-in-ubuntu-d0d9ca5d8a7a?source=collection_archive---------3-----------------------#2020-05-01</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="c678" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">本文将带您完成在您的Ubuntu 18.04.4 LTS机器上安装Azkaban 3.84.14的步骤。</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/f7726bc5e0f70275d2cdf126b460f9a4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Bjxvml3qc8Tie76l6hNhEg.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="https://codinginfinite.com/creating-scheduler-task-seconds-minutes-hours-days/" rel="noopener ugc nofollow" target="_blank">image source</a></figcaption></figure><h1 id="9e62" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">阿兹卡班是什么？</h1><p id="036b" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">不，这不是哈利波特里的监狱！！！</p><p id="72f5" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">阿兹卡班是LinkedIn创建的调度程序。它主要用于调度大数据作业，如Hadoop工作流。它提供了一个易于使用的web用户界面来维护和跟踪您的工作流程。它还支持REST APIs，以便与代码中的调度程序进行交互。</p><p id="03da" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">简而言之，它以一种更酷的方式完成crontab的工作，而不必担心复杂的crontab语法，并使用一个基于web的漂亮UI来配置调度。<br/>更多关于<a class="ae lb" href="https://azkaban.github.io/azkaban/docs/latest/" rel="noopener ugc nofollow" target="_blank">阿兹卡班</a>的信息。</p><h1 id="37d3" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">为什么是阿兹卡班？</h1><p id="67a6" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">在众多受欢迎的调度程序中，如O <a class="ae lb" href="https://oozie.apache.org/" rel="noopener ugc nofollow" target="_blank"> ozie </a>、<a class="ae lb" href="https://airflow.apache.org/docs/stable/scheduler.html" rel="noopener ugc nofollow" target="_blank">气流</a>、<a class="ae lb" href="https://netflix.github.io/conductor/" rel="noopener ugc nofollow" target="_blank">指挥</a>等。我发现阿兹卡班是最“容易使用”的调度程序。它的UI相当直观。它的solo服务器模式(见下文)可用于简单的用例，如调度简单的机器学习管道。</p><h1 id="7530" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">为什么不遵循阿兹卡班的官方文档呢？</h1><p id="3f86" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">好吧，文档有点混乱，你最终会看到错误。所以我用自己的方式进行了试验，研究了一下，最后终于能够成功安装了。这是我今天写这篇文章的原因之一，这样你就不必面对我经历过的同样的问题。</p><h1 id="5d02" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">装置</h1><p id="87e8" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">阿兹卡班有三种安装模式:独立的“单服务器”模式、较重的双服务器模式和分布式多执行器模式。</p><div class="mf mg gp gr mh mi"><a href="https://www.datadriveninvestor.com/2020/01/16/software-development-process-how-to-pick-the-right-process/" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">软件开发过程:如何选择正确的过程？数据驱动的投资者</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">软件是任何企业组织成功的生命线。没有软件的帮助，一个…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="mr l"><div class="ms l mt mu mv mr mw kv mi"/></div></div></a></div><p id="d113" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们今天将安装“<strong class="jp ir">单人服务器模式”</strong>。如果只是想尝试一下，这种模式很有用。它也可以用于小规模用例，而其他模式主要用于生产环境。</p><p id="4f05" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们从分步安装指南开始:</p><p id="cf56" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">从GitHub克隆阿兹卡班库</strong></p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="b76b" class="nc ld iq my b gy nd ne l nf ng">git clone https://github.com/azkaban/azkaban.git</span></pre><p id="74c9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">构建</strong></p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="29fb" class="nc ld iq my b gy nd ne l nf ng">cd azkaban<br/>./gradlew distZip</span></pre><p id="0413" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在<strong class="jp ir">之后，您可能会遇到两个错误。/gradlew distZip </strong>命令。<br/>第一个可能是以下错误:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nh"><img src="../Images/eff13c9a8ee78dc844d17cac6a1df30e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mNljbnYS5WLVop-jtKGasA.png"/></div></div></figure><p id="7844" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要解决这个问题，您需要使用下面的命令向错误消息中显示的<strong class="jp ir">渐变路径</strong>(红色突出显示)<strong class="jp ir"> </strong>授予可执行权限:</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="4111" class="nc ld iq my b gy nd ne l nf ng">chmod +x &lt;your gradle path&gt;</span></pre><p id="781f" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">对我来说，我必须做</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="1d64" class="nc ld iq my b gy nd ne l nf ng">chmod +x /home/yaser/.gradle/wrapper/dists/gradle-4.6-all/bcst21l2brirad8k2ben1letg/gradle-4.6/bin/gradle</span></pre><p id="95b0" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">您可能遇到的第二个错误如下所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi ni"><img src="../Images/ef2df763f86988d82645d33b4fafbc07.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j1HFQPd4D3OaAIMmT1p--Q.png"/></div></div></figure><p id="8e54" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这是因为<strong class="jp ir"> gradlew </strong>有<strong class="jp ir"> Java </strong>依赖，我们下载的git repo有<strong class="jp ir"> gradlew </strong> <strong class="jp ir"> 4.6 </strong>支持Java 8而不是Java 11。<br/>我的解决方案是<strong class="jp ir">移除Java 11 </strong>并<strong class="jp ir">安装Java 8 </strong>。<br/>我按照<a class="ae lb" href="https://askubuntu.com/questions/84483/how-to-completely-uninstall-java" rel="noopener ugc nofollow" target="_blank">这个线程</a>移除了Java 11，用下面的命令安装了Java 8。</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="16e8" class="nc ld iq my b gy nd ne l nf ng">sudo apt update<br/>sudo apt install openjdk-8-jdk</span></pre><p id="64ce" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你解决了上面的错误或者不必面对它们，那么下一步就是使用命令<strong class="jp ir">解压阿兹卡班solo服务器文件</strong>:</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="5ce6" class="nc ld iq my b gy nd ne l nf ng">unzip azkaban-solo-server/build/distributions/azkaban-solo-server-3.84.14.zip</span></pre><p id="3972" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你会得到一个名为<strong class="jp ir">阿兹卡班-solo-server-3.84.14 </strong>的新文件夹</p><p id="9210" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这就是设置部分！！！为了访问网络用户界面，我们需要启动solo服务器。<br/>文件<strong class="jp ir">azkaban-solo-server-3 . 84 . 14/bin/start-solo . sh</strong>和<strong class="jp ir">azkaban-solo-server-3 . 84 . 14/bin/shut down-solo . sh</strong>分别用于启动和停止服务器。</p><p id="0051" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">启动服务器</strong></p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="e4be" class="nc ld iq my b gy nd ne l nf ng">cd azkaban-solo-server-3.84.14<br/>bin/start-solo.sh</span></pre><blockquote class="nj nk nl"><p id="9114" class="jn jo nm jp b jq jr js jt ju jv jw jx nn jz ka kb no kd ke kf np kh ki kj kk ij bi translated">注意:<strong class="jp ir">CD azkaban-solo-server-3 . 84 . 14</strong>是<strong class="jp ir">重要的</strong>步骤<strong class="jp ir">否则</strong>抛出<strong class="jp ir">异常</strong>。</p></blockquote><p id="df02" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">一个名为<strong class="jp ir"> soloServerLog__{timestamp}的新文件。out </strong>在当前目录下创建，所有日志都存储在该目录下。对我来说是<strong class="jp ir">soloServerLog _ _ 2020–05–01+14:02:54 . out</strong><br/>To<strong class="jp ir">查看日志，</strong>你可以使用下面的命令替换为在你的系统中创建的适当的日志文件名。</p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="996f" class="nc ld iq my b gy nd ne l nf ng">tail -f soloServerLog__2020-05-01+14:02:54.out</span></pre><p id="53ec" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">日志的最后几行必须如下所示:</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nq"><img src="../Images/0f51ed0f1bc00fae9e2710f2ce83ee09.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m2DK-8Ij0x4hmjKB0QvW-A.png"/></div></div></figure><p id="c3d4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">进入用户界面</strong></p><p id="47b9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">要访问UI，打开任何浏览器，现在阿兹卡班solo服务器正在运行，并转到<a class="ae lb" href="http://localhost:8081/" rel="noopener ugc nofollow" target="_blank">http://localhost:808</a>1<br/>瞧！！！你的用户界面必须看起来像这样</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nr"><img src="../Images/32f5d98102277f20908a02d7dde5f435.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0U9t4Xc0Q9ChoCstuYq03g.png"/></div></div></figure><p id="cf6d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">用户名</strong>和<strong class="jp ir">密码</strong>最初默认为<strong class="jp ir"><em class="nm"/></strong><em class="nm"/>。<br/>要更改凭证，您可以编辑<strong class="jp ir">azkaban-solo-server-3 . 84 . 14/conf/azkaban-users . XML<em class="nm"/></strong>文件。</p><p id="894d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">最后，完成后停止服务器</strong></p><pre class="km kn ko kp gt mx my mz na aw nb bi"><span id="2bcc" class="nc ld iq my b gy nd ne l nf ng">bin/shutdown-solo.sh</span></pre><h1 id="f9f9" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">在我们结束之前</h1><p id="2b1a" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我计划设计一个每隔<em class="nm"> n </em>分钟接收(下载)音频文件的管道。使用Azkaban，我计划安排一项工作，收集所有下载的音频文件，并使用我的深度学习模型转录(转换为文本)。希望我们稍后会谈到这一点。</p><h1 id="69f3" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">摘要</h1><p id="279c" class="pw-post-body-paragraph jn jo iq jp b jq ma js jt ju mb jw jx jy mc ka kb kc md ke kf kg me ki kj kk ij bi translated">我们不费吹灰之力就成功安装了阿兹卡班的单人服务器模式。在后面的一些文章中，我将介绍如何在阿兹卡班安排机器学习流水线。</p><p id="12a9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">今天就到这里，希望你喜欢。</p><h1 id="825d" class="lc ld iq bd le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz bi translated">参考</h1><div class="mf mg gp gr mh mi"><a href="https://azkaban.github.io/azkaban/docs/latest/#building-from-source" rel="noopener  ugc nofollow" target="_blank"><div class="mj ab fo"><div class="mk ab ml cl cj mm"><h2 class="bd ir gy z fp mn fr fs mo fu fw ip bi translated">阿兹卡班3.0文档</h2><div class="mp l"><h3 class="bd b gy z fp mn fr fs mo fu fw dk translated">Azkaban是在LinkedIn实现的，解决了Hadoop的作业依赖问题。我们有需要磨合的工作…</h3></div><div class="mq l"><p class="bd b dl z fp mn fr fs mo fu fw dk translated">阿兹卡班. github.io</p></div></div><div class="mr l"><div class="ns l mt mu mv mr mw kv mi"/></div></div></a></div><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nt nu l"/></div></figure></div></div>    
</body>
</html>