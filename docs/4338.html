<html>
<head>
<title>The Byzantine General’s Problem Solution Using The Blockchain</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">利用区块链解决拜占庭将军的问题</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/the-byzantine-generals-problem-solution-using-the-blockchain-31eb5318f37f?source=collection_archive---------1-----------------------#2020-08-03">https://medium.datadriveninvestor.com/the-byzantine-generals-problem-solution-using-the-blockchain-31eb5318f37f?source=collection_archive---------1-----------------------#2020-08-03</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/94af9d457ccde5702e17174cf65d6673.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PmPy2wGIsLcaibmhk3Br6Q.png"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">The Blockchain Provides A Solution To the Byzantine General’s Problem</figcaption></figure><div class=""/><p id="863c" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">开发一个<strong class="ke jg"><em class="la"/></strong>的主要理论之一就是<a class="ae lb" href="https://en.wikipedia.org/wiki/Byzantine_fault" rel="noopener ugc nofollow" target="_blank"> <strong class="ke jg">拜占庭将军的问题</strong> </a>。在计算机科学理论中，这个问题是拜占庭容错(BFT)的基础，算法可以使用它的概念来应用。BFT并不是中本聪在他的比特币实现中实际使用的东西，而是围绕着<strong class="ke jg"> <em class="la">的概念【PoW】</em></strong>的共识机制就是围绕着它建立的。新一代区块链(第二代或第三代)实现了一种BFT形式，就像在Stellar的实用BFT (pBFT)、NEO的委托BFT (dBFT)和Cosmos Tendermint Core BFT中使用的共识。</p><h2 id="10b6" class="lc ld jf bd le lf lg dn lh li lj dp lk kn ll lm ln kr lo lp lq kv lr ls lt lu bi translated">问题的背景</h2><p id="9ac5" class="pw-post-body-paragraph kc kd jf ke b kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv lz kx ky kz ij bi translated">你是许多围困敌人城市的将军之一。将军们各自指挥自己的军队，他们分散在城市的四周。没有中央司令部，所以每支军队都是各自为战。你处于一种信息不完善的情况，即不可靠。在拜占庭将军的问题中，协调或缺乏协调决定了局势的结果，在这种情况下，攻击或坚守阵地反对敌人的协议。你什么时候进攻或者应该坚守阵地？这就需要制定一个策略来决定一个分散的<strong class="ke jg"> <em class="la">分布式系统</em> </strong>的成败。</p><p id="7c81" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这实际上无法协调，因为这里的问题是参与者(如将军)之间没有直接的沟通联系。这些链接也是不可信的，因为我们不能保证消息会到达目的地。假设有5位将军准备进攻这座城市。他们彼此不直接靠近，所以军队之间有距离差距。为了实施进攻计划，需要协同作战。他们必须用信使交流。</p><div class="ip iq gp gr ir ma"><a href="https://www.datadriveninvestor.com/2020/04/17/when-science-fiction-enters-reality/" rel="noopener  ugc nofollow" target="_blank"><div class="mb ab fo"><div class="mc ab md cl cj me"><h2 class="bd jg gy z fp mf fr fs mg fu fw je bi translated">当科幻进入现实|数据驱动的投资者</h2><div class="mh l"><h3 class="bd b gy z fp mf fr fs mg fu fw dk translated">科幻小说以其疯狂的技术故事统治了世界，充满了诸如读心术和人类的想法…</h3></div><div class="mi l"><p class="bd b dl z fp mf fr fs mg fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="mj l"><div class="mk l ml mm mn mj mo ix ma"/></div></div></a></div><p id="35dd" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">每个将军都发布必须服从的命令，但他们必须接受国王的命令。假设国王下令进攻这座城市。为了让信息被传递出去，国王会派2名使者去见每一位将军(总共10名使者)。第二信使实际上是第一信使的后备。现在问题就在这里。</p><p id="076e" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果使者是间谍，他们没有传递进攻的信息，而是将信息改为撤退，那该怎么办？</p><p id="59f2" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果所有的信使或一些信使遭到伏击，而一些或所有的将军没有得到进攻的消息，那该怎么办？</p><p id="3676" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="la">如果一个或多个将军是叛徒，决定不攻击或者甚至攻击他的将军同伴来帮助敌人，那该怎么办？</em></p><p id="615b" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这些是我们可以在脑海中想象的场景。这使得建立一个系统来解决这些问题变得非常重要。在没有收到要进攻的消息的情况下，将军无论如何都应该进攻吗？逻辑会说不，不要攻击，但如果你不攻击，你可能会错过这样做的机会。</p><p id="861a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果你不进攻，而其他人进攻这座城市，你将因不服从国王的命令而被置于从属地位。将军会受到严厉的惩罚，这就是为什么在这种情况下批判性思维变得很重要。</p><h2 id="bfa7" class="lc ld jf bd le lf lg dn lh li lj dp lk kn ll lm ln kr lo lp lq kv lr ls lt lu bi translated">容错</h2><p id="c346" class="pw-post-body-paragraph kc kd jf ke b kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv lz kx ky kz ij bi translated">该问题的解决方案是制定一个使用容错措施的协议。当面临不确定性时，在将军之间采用协议是做出决定的最佳方式。因此，它变成了<em class="la">概率</em>而不是确定性的，因为无法保证会发生什么。当你的同伴之间的直接交流较少，并且彼此独立时，情况正是如此。每个将军都在不同的位置，所以他们之间有物理距离。</p><p id="a1f6" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">从逻辑上讲，应该建立一个系统，以便更清楚地知道该做什么。以下是将军们可以同意的一些行动:</p><ol class=""><li id="fb5f" class="mp mq jf ke b kf kg kj kk kn mr kr ms kv mt kz mu mv mw mx bi translated">当没有一个将军收到国王进攻的官方消息时，这意味着坚守阵地，不要进攻。经过一段时间后，没有收到任何消息，将军们可以撤退回营地。这条规则仍有例外。</li><li id="5c13" class="mp mq jf ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">为了核实国王下达的进攻命令，将军可以通过要求信使提供一个<strong class="ke jg"> <em class="la">密语</em> </strong>(除使者外，只有将军和国王知道)和一个来自国王的<strong class="ke jg"><em class="la"/></strong>公章来核实来自信使的消息，以证明是国王发布的命令。然而，信息必须从国王派出的两个使者中的至少一个那里收到。</li><li id="bfff" class="mp mq jf ke b kf my kj mz kn na kr nb kv nc kz mu mv mw mx bi translated">为了协调攻击，一名骑士会从每一位将军身上骑下，并举起旗帜，指示攻击所有其他将军。这意味着每支军队一面旗帜。这里的问题是，如果有一支军队没有收到进攻的消息，因此没有举旗，那该怎么办？将军们会同意，如果5个将军中至少有3个举起了他们的旗帜，那么进攻的命令就是合法的。然后他们继续攻击这座城市。</li></ol><p id="4974" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如果信使遭到伏击，至少将军们会知道如果他们没有收到消息该怎么做。这使得事情更有可能，在一个不确定条件的可能性。</p><p id="25fe" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">我们可以达成共识:</p><ul class=""><li id="160f" class="mp mq jf ke b kf kg kj kk kn mr kr ms kv mt kz nd mv mw mx bi translated">忠诚的将军会服从国王的命令，执行计划。</li><li id="189f" class="mp mq jf ke b kf my kj mz kn na kr nb kv nc kz nd mv mw mx bi translated">你的信使越多，消息传到将军那里的可能性就越大。</li><li id="6aae" class="mp mq jf ke b kf my kj mz kn na kr nb kv nc kz nd mv mw mx bi translated">如果有更多忠诚的将军执行命令，结果会更好。</li><li id="2493" class="mp mq jf ke b kf my kj mz kn na kr nb kv nc kz nd mv mw mx bi translated">如果大多数将军都收到了消息，那么无论进攻还是撤退，结果都会更好。</li></ul><h2 id="79ce" class="lc ld jf bd le lf lg dn lh li lj dp lk kn ll lm ln kr lo lp lq kv lr ls lt lu bi translated">共识；一致</h2><p id="5804" class="pw-post-body-paragraph kc kd jf ke b kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv lz kx ky kz ij bi translated">比特币的创新之处不仅仅在于提供了一个分散的支付平台。它解决了如何使用<em class="la">无信任</em>和<em class="la">无许可</em>系统进行支付的问题。Satoshi开发的是一种在数字电子网络中使用<strong class="ke jg">密码安全</strong>和<strong class="ke jg">公钥加密</strong>实现拜占庭将军问题解决方案的方法。密码安全包括一个称为<strong class="ke jg"> <em class="la">的编码过程，散列</em> </strong>以防止篡改数据。公钥加密验证网络上用户的身份。</p><p id="f213" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">使用<em class="la">密码安全</em>，事务在通过其哈希值连接到其他块的块中受到保护。所有哈希都可以追溯到一个初始块，它是所有哈希的根。这被称为区块链，它使用一棵<a class="ae lb" href="https://en.wikipedia.org/wiki/Merkle_tree" rel="noopener ugc nofollow" target="_blank"> <strong class="ke jg"> Merkle树</strong> </a>来验证来自原始块的散列。源自第一个块的每个块，也称为<strong class="ke jg"> <em class="la">起源块</em> </strong>，在网络上是有效的。作为被称为<strong class="ke jg"> PoW(工作证明)</strong>的<em class="la">共识机制</em>的一部分，块被称为矿工的计算机节点验证，矿工也与其他矿工竞争解决密码难题以产生块。能够解决谜题的矿工会因为他们的贡献而获得奖励作为激励。</p><p id="8fc3" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">作为该网络一部分的用户必须拥有由<em class="la">私钥</em>和<em class="la">公钥</em>组成的密钥对来验证其身份。私钥用于数字签名，数字签名授权合法所有者进行交易，以便释放资金进行支付。只有私钥的持有者有这个特权，其他用户没有。私钥是唯一的，也是公钥的来源。公钥用于创建公共地址，这是在网络上识别用户的方式。所有人都可以看到它，并且它与用户的数字钱包相关联。私钥必须保密，但公共地址是一个用户告诉其他用户在汇款时使用的地址。这个系统就像密语和公章。</p><p id="4501" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg"> Nakamoto Consensus </strong>(即工作证明)是一种用于在不信任和无权限环境中容错的机制。我们采用概率方法来决定基于多数共识来验证真实性的节点，其中x个节点中的<em class="la"> n </em>个节点验证者必须大于或等于51%。</p><p id="6228" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><em class="la"> n </em> /x &gt; = 0.51 * 100</p><p id="594a" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">然后，网络达成协议并生成块来记录<em class="la"> n </em>节点验证的真实版本。</p><h2 id="a293" class="lc ld jf bd le lf lg dn lh li lj dp lk kn ll lm ln kr lo lp lq kv lr ls lt lu bi translated">分布式系统</h2><p id="c0b5" class="pw-post-body-paragraph kc kd jf ke b kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv lz kx ky kz ij bi translated">需要执行关键任务的分布式系统使用BFT。区块链也是一个分布式系统。在Satoshi版本的区块链中，拜占庭将军的问题由像将军一样的矿工解决。每个节点必须尝试验证事务，就像发送给将军的消息一样。敌人可以被认为是想要窃取消息或攻击网络的坏人(例如黑客)。</p><p id="e9dd" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">消息使用加密安全，因此黑客(即中间人)不能轻易攻击区块链。消息或事务被打包成块，然后为了进一步的安全性被散列以防止篡改。Satoshi让矿工们互相竞争来验证区块，让事情变得更有概率。这使得它更加分散，因为没有矿工可以垄断验证，以赚取所有的奖励。取而代之的是，矿工们必须利用他们被称为<em class="la">散列率</em>的计算资源来解决一个难题。矿工的散列率越大，他们就越有可能解决这个难题。</p><p id="7f56" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">由于有许多矿工，网络通过他们的共识机制得到保护。经过验证的块变得不可变，并受到哈希的保护，因此可以防止推翻事务的尝试。当解出谜题的矿工将其广播到网络时，达成共识，如果该值不正确，所有其他矿工必须验证或否认该值。正确值必须等于或小于所谓的<strong class="ke jg"> <em class="la">难度目标</em> </strong>。</p><p id="cfbe" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">区块链也是分散的，这意味着系统中不应该有中心故障点。这些块存储在分布式数据库中，并被复制到网络上的其他计算机。这种冗余还有助于提供容错能力，因此没有一台故障计算机会导致整个系统瘫痪。这就像有多个信使，以防一个信使被敌人伏击。消息不会丢失，因为其他信使会有它的副本。</p><h2 id="e3e3" class="lc ld jf bd le lf lg dn lh li lj dp lk kn ll lm ln kr lo lp lq kv lr ls lt lu bi translated">摘要</h2><p id="b0f5" class="pw-post-body-paragraph kc kd jf ke b kf lv kh ki kj lw kl km kn lx kp kq kr ly kt ku kv lz kx ky kz ij bi translated">使用区块链可以为拜占庭将军的问题提供一个通用的解决方案。这一切都是为了在一个非常不确定的环境中提供一种安全可信的通信方式。在现实世界中，交易主要发生在互不了解或互不信任的人之间。每个人都像一个将军，等待听到攻击或坚守阵地的命令。没有中间人代表你来仲裁这场攻击，你完全可以自己决定。</p><p id="8c11" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">区块链提供了一个无需信任每个人就可以信任的层。这是通过来自一个节点网络的共识，在真相被记录下来之前确认真相。如果将军不确定消息的内容，其他将军可以根据他们所知道的事实进行核实。一旦它被一个节点记录下来，它的副本就会被发送到网络中的其他节点，这样信息就变得多余了。这就是PoW一致性算法的目的。</p><p id="4f42" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">信息并不总是完美的，坏人会试图利用这个系统。在区块链中，有适当的容错措施和安全性，因为系统本身是供公众使用的。在这种情况下，加密技术变得非常必要，因此不允许篡改消息。该系统提供密钥对，用于对消息进行数字签名，以验证其身份，证明其来自所声称的人。一旦消息被验证，它们将被透明地记录下来，这为责任提供了历史证明。</p><p id="238f" class="pw-post-body-paragraph kc kd jf ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke jg">进入专家视角— </strong> <a class="ae lb" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="ke jg">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>