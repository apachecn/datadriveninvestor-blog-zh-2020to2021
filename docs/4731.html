<html>
<head>
<title>Getting Started: Building Location-Based (GIS) REST APIs with Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">入门:使用Python构建基于位置的(GIS)REST API</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/getting-started-building-location-based-gis-rest-apis-with-python-2fcbd520b2a3?source=collection_archive---------0-----------------------#2020-08-21">https://medium.datadriveninvestor.com/getting-started-building-location-based-gis-rest-apis-with-python-2fcbd520b2a3?source=collection_archive---------0-----------------------#2020-08-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/d08238d1e00fb758d108c4156af686d7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*G_kNAt-KqalMkzZgOQTqQQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@dtopkin1?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Dayne Topkin</a> on <a class="ae kc" href="https://unsplash.com/s/photos/start?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7f7d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们正处于一个将GIS与IT运营完全整合的时代，以便对更广泛的人群产生积极影响。帮助人们实现这一目标的最大资源是构建REST APIs的知识。犹他州AGRC是将GIS与IT运营相集成的最佳机构之一，他们的工作可在此处公开访问:</p><div class="lb lc gp gr ld le"><a href="https://gis.utah.gov/#api" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">犹他州地图门户</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">犹他州的州地理信息数据库(SGID)于1991年根据州法律建立，提供一站式下载和…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">gis.utah.gov</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls jw le"/></div></div></a></div><p id="a13d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">REST简单地代表<strong class="kf ir">表述性状态转移</strong>，它是一种在HTTP协议之上构建API的方法。这意味着您可以通过web执行CRUD(创建、读取、更新、删除)数据库任务。此外，REST APIs以JSON或XML格式返回数据。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lt"><img src="../Images/6b4e694b6c7674bd56b7673c30699ded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*m-7ZH5YwWf44xzhQ7EXTvw.png"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Image Source : Techora</figcaption></figure><p id="b4e3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">API简单的代表<a class="ae kc" href="https://www.infoworld.com/article/3269878/what-is-an-api-application-programming-interfaces-explained.html" rel="noopener ugc nofollow" target="_blank">应用编程接口</a>。根据上图，您可以看到API已经获得了被多个平台上的用户使用的业务逻辑。GIS业务逻辑的一个例子是，假设您有一个服装系列，但您希望根据客户的位置来确定不同的价格。您可以实现该业务逻辑，并让API将其共享给移动软件工程师和Web软件工程师来使用。</p><p id="747b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我们将使用Python实现一个REST API。我们将关注<a class="ae kc" href="https://www.djangoproject.com/" rel="noopener ugc nofollow" target="_blank"> Django </a>框架，因为它有<a class="ae kc" href="https://docs.djangoproject.com/en/3.1/ref/contrib/gis/" rel="noopener ugc nofollow" target="_blank"> GeoDjango </a>，但这并不意味着它是最好的，因为同样的框架可以使用<a class="ae kc" href="https://flask.palletsprojects.com/en/1.1.x/" rel="noopener ugc nofollow" target="_blank"> Flask </a>、<a class="ae kc" href="https://fastapi.tiangolo.com/" rel="noopener ugc nofollow" target="_blank"> FastAPI </a>和<a class="ae kc" href="https://geoalchemy-2.readthedocs.io/en/latest/" rel="noopener ugc nofollow" target="_blank"> GeoAlchemy2 </a>来实现。让我们开始吧:</p><h1 id="0d16" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">1.项目定义</h1><p id="f35d" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">该项目将建立一个GIS REST API，主要用于两个数据集，即内罗毕卫生设施和内罗毕县。一个附加组件将是地理信息系统的能力，查询最近的卫生设施时，给定一个用户的位置，也查询卫生设施的县边界。</p><p id="67f1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">以下是本项目中使用的数据集的链接(<a class="ae kc" href="https://github.com/The-Code-Mastery/gis-rest-api-with-python/tree/master/location_data_shapefile" rel="noopener ugc nofollow" target="_blank">点击此处</a>)</p><h1 id="1306" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated"><strong class="ak"> 2。项目设置</strong></h1><p id="70c3" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">你需要在电脑上安装<a class="ae kc" href="https://www.python.org/downloads/" rel="noopener ugc nofollow" target="_blank"> Python 3 </a>。然后，我们可以设置一个工作目录和虚拟环境。我使用的是windows操作系统。</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="1f23" class="ng lz iq nc b gy nh ni l nj nk">&gt; pip install virtualenvironment</span><span id="5eee" class="ng lz iq nc b gy nl ni l nj nk">&gt; cd Desktop/</span><span id="0154" class="ng lz iq nc b gy nl ni l nj nk">&gt; mkdir gis-rest-api-with-python</span></pre><p id="c8a9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">创建工作目录后，我们建立一个虚拟环境，并激活它</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="5457" class="ng lz iq nc b gy nh ni l nj nk">&gt; cd gis-rest-api-with-python/</span><span id="2df1" class="ng lz iq nc b gy nl ni l nj nk">&gt; py -m venv env</span><span id="9187" class="ng lz iq nc b gy nl ni l nj nk">&gt; .\env\Scripts\activate</span></pre><p id="cfba" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在可以安装所有的依赖项了</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="49e3" class="ng lz iq nc b gy nh ni l nj nk">&gt; cd gis-rest-api-with-python/</span><span id="cc04" class="ng lz iq nc b gy nl ni l nj nk">&gt; pip install django</span><span id="11e5" class="ng lz iq nc b gy nl ni l nj nk">&gt; pip install djangorestframework</span><span id="e080" class="ng lz iq nc b gy nl ni l nj nk">&gt; pip install djangorestframework-gis</span><span id="951f" class="ng lz iq nc b gy nl ni l nj nk">&gt; pip install psycopg2</span><span id="0d58" class="ng lz iq nc b gy nl ni l nj nk">&gt; pip install django-filter</span></pre><p id="6a4f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><a class="ae kc" href="https://pypi.org/project/psycopg2/" rel="noopener ugc nofollow" target="_blank"> Pyscopg2 </a>有助于PostgreSQL数据库连接，其余的就很清楚了🙂。</p><p id="ff93" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在可以使用Django命令创建我们的项目和应用程序，然后我们可以看看这个设置是否有效。</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="f16b" class="ng lz iq nc b gy nh ni l nj nk">&gt; mkdir src</span><span id="797b" class="ng lz iq nc b gy nl ni l nj nk">&gt; cd src/</span><span id="79da" class="ng lz iq nc b gy nl ni l nj nk">&gt; django-admin startproject gis_rest_project</span><span id="c67a" class="ng lz iq nc b gy nl ni l nj nk">&gt; cd gis_rest_project/</span><span id="362e" class="ng lz iq nc b gy nl ni l nj nk">&gt; python manage.py startapp nairobi_hospitals_api</span><span id="c495" class="ng lz iq nc b gy nl ni l nj nk">&gt; python manage.py runserver</span></pre><p id="840f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您应该可以使用<a class="ae kc" href="http://127.0.0.1:8000/" rel="noopener ugc nofollow" target="_blank"><em class="nm">http://127 . 0 . 0 . 1:8000/</em></a>在您的网络浏览器上看到下面的截图</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nn"><img src="../Images/3b81d4e6f6bdcbd25536ade9e0b8a199.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Pje1uX3heQPDnUv1R5TdsA.png"/></div></div></figure><p id="2c17" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">耶！我们可以走了🤗。</p><p id="1244" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不尽然，Lol，在你的项目文件夹里有一个Django <em class="nm"> setting.py </em>文件，你需要添加一些你的依赖和应用</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="21db" class="ng lz iq nc b gy nh ni l nj nk">INSTALLED_APPS = [<br/>.....<br/>###</span><span id="61da" class="ng lz iq nc b gy nl ni l nj nk">'rest_framework',</span><span id="60c6" class="ng lz iq nc b gy nl ni l nj nk">'rest_framework_gis',</span><span id="908d" class="ng lz iq nc b gy nl ni l nj nk">'nairobi_hospitals_api',</span><span id="0fa9" class="ng lz iq nc b gy nl ni l nj nk">]</span></pre><p id="31bd" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">注意:</strong> Django得到了一个可以有多个app的项目。对于我们的例子，项目文件夹是<strong class="kf ir"> gis_rest_project </strong>，而我们的app文件夹是<strong class="kf ir"> nairobi_hospitals_api </strong>。要运行一个<em class="nm"> manage.py </em>命令，您应该在项目文件夹中。</p><h1 id="5978" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">3.从现有数据库生成Django模型</h1><p id="770d" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">PostgreSQL和作为GIS扩展的PostGIS是目前开发和生产中最流行的存储地理空间数据的开源方式。如果你不熟悉波斯特吉斯，我可以推荐一本<a class="ae kc" href="https://www.manning.com/books/postgis-in-action-third-edition" rel="noopener ugc nofollow" target="_blank"> <em class="nm">波斯特吉斯在行动</em> </a>。</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi no"><img src="../Images/e8eecb712d5077130f31bba3d1164c8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*lsP742jNTPS5RsCEwZ_GtQ.png"/></div></div></figure><p id="c423" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">基于上面的PGAdmin接口，我可以使用几何查看器查询和可视化我的空间数据。</p><p id="ae69" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以在gis_rest_project文件夹中的settings.py文件中设置数据库连接。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="76bc" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">注意:</strong>窗口用户可能会遇到GDAL错误，因此使用<a class="ae kc" href="https://trac.osgeo.org/osgeo4w/" rel="noopener ugc nofollow" target="_blank"> OSGeo4W </a>安装GDAL。</p><p id="8455" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">要从现有数据库生成Django模型，请确保您在项目目录中，并运行以下命令:</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="67e8" class="ng lz iq nc b gy nh ni l nj nk">python manage.py inspectdb &gt; models_generated_with_inspectdb.py</span></pre><p id="e0a6" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这将为您生成空间数据库的模型，您可以将这些模型复制到Django app文件夹中的model.py文件中。您的models.py应该是这样的:</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="0ade" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，您可以对模型进行迁移，以链接到您的数据库。</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="c05a" class="ng lz iq nc b gy nh ni l nj nk">&gt; python manage.py migrate</span></pre><h1 id="8117" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">3.Django序列化程序</h1><p id="4fab" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">我们只需要序列化程序将我们的数据转换成JSON，这样就可以在互联网上使用了。我们在<em class="nm">Nairobi _ hospitals _ API</em>app文件夹中创建一个<em class="nm">serializer . py</em>文件，然后使用<em class="nm">GeoFeatureModelSerializer</em>序列化我们的2个Django模型，因为这些是基于位置的模型。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="112d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上述序列化器将在我们的Django视图中使用。</p><h1 id="8a75" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">4.Django过滤器</h1><p id="6c17" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">Django filters将帮助我们过滤数据顾名思义，让我们在我们的<em class="nm">Nairobi _ hospitals _ API</em>app文件夹中创建一个名为<em class="nm"> hospitals_filters.py </em>的文件。</p><p id="36fb" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们创建一个名为<em class="nm">nairobihealthcfacilitiesfilter</em>的类，它继承了<em class="nm"> GeoFilterSet。</em>由于没有内置的Django函数来按照县以下的边界过滤数据，我们创建了自己的方法<em class="nm">get _ facilities _ by _ subcounty</em>来执行查询。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="cc06" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在将在Django视图中使用这个类。</p><h1 id="8510" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">5.Django观点</h1><p id="0e54" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">Django views只是接受一个web请求并返回一个web响应。我们正在使用从<em class="nm">generic piview</em>继承而来的<em class="nm"> ModelViewSet </em>，这带来了许多我们不需要自己实现的动作。对于非技术人员，这使我们能够对数据执行创建、读取、更新和删除(CRUD)操作。在REST API术语中，它们通常也称为GET、PUT、POST和DELETE</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="8bee" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了获取用户的GPS位置并查询最近的5家医疗机构，我们在nairobihealthcfacilitiesviewset中编写了自己的名为<em class="nm"> get_nearest_facilities </em>的<em class="nm"> GET action </em> <em class="nm">方法</em>并实现了查询。</p><p id="0772" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们就要完成了😜💪🏾。</p><h1 id="3f3b" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">6.Django URLs</h1><p id="82b6" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">URL是API端点的入口点，因此是配置我们的r outings的关键。在<em class="nm"> gis_rest_project </em>文件夹中，我们配置了<em class="nm"> urls.py </em>来包含我们的app <em class="nm"> urls.py </em>它还不存在。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="284d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们移入我们的内罗毕医院应用程序文件夹，并创建我们指定的内罗毕医院urls.py，在这里我们导入Django视图，并利用Django REST框架路由器作为我们的端点。</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="np nq l"/></div></figure><p id="26d1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">哦，是的，我们已经写完了一些代码😉🙂。</p><h1 id="8089" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">7.试用我们的API</h1><p id="3e28" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">您最终的项目文件夹应该如下所示(<a class="ae kc" href="https://github.com/The-Code-Mastery/gis-rest-api-with-python" rel="noopener ugc nofollow" target="_blank"> GitHub link </a>):</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nr"><img src="../Images/e506e1927a8f053687af822fbaf40147.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Ki_1khREI9SDZqX2IebBKg.png"/></div></div></figure><p id="922d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，为了试验我们的GIS rest API，我们需要启动服务器:</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="a008" class="ng lz iq nc b gy nh ni l nj nk">&gt; python manage.py runserver</span></pre><p id="9d77" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以访问本地主机上的两个REST API端点:</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="6a6f" class="ng lz iq nc b gy nh ni l nj nk">"nairobihealthfacilities": "<a class="ae kc" href="http://127.0.0.1:8000/nairobihealthfacilities/" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/nairobihealthfacilities/</a>"</span><span id="54bf" class="ng lz iq nc b gy nl ni l nj nk">"nairobisubcounties": <br/>"<a class="ae kc" href="http://127.0.0.1:8000/nairobisubcounties/" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/nairobisubcounties/</a>"<br/></span></pre><p id="d6ab" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在您的web浏览器上，它将类似于下图:</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi ns"><img src="../Images/a183eb55fc270c5be4443eab1c7a794d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*z9qtvfj_Pd7KmEIFbgZq0A.png"/></div></div></figure><p id="e259" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您还可以使用id或名称按国家边界过滤医疗机构。</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="4c81" class="ng lz iq nc b gy nh ni l nj nk"><strong class="nc ir">GET</strong> /nairobihealthfacilities/?subcounty=12</span><span id="d6f4" class="ng lz iq nc b gy nl ni l nj nk"><strong class="nc ir">GET</strong> /nairobihealthfacilities/?subcounty=Kasarani</span></pre><p id="6e53" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上述查询将返回Kasarani(内罗毕)的医院数据，如下所示:</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nt"><img src="../Images/cafa59ee712978d5b14bcdc80e47b4f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mK_6hx2UJKFZ7NLAk_uXLQ.png"/></div></div></figure><p id="dee8" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们还可以通过查询用户位置的GPS坐标来获得5家最近的医院</p><pre class="lu lv lw lx gt nb nc nd ne aw nf bi"><span id="446d" class="ng lz iq nc b gy nh ni l nj nk"><a class="ae kc" href="http://127.0.0.1:8000/nairobihealthfacilities/get_nearest_facilities/?x=36.8219&amp;y=-1.2921" rel="noopener ugc nofollow" target="_blank">http://127.0.0.1:8000/nairobihealthfacilities/get_nearest_facilities/?x=36.8219&amp;y=-1.2921</a></span><span id="3576" class="ng lz iq nc b gy nl ni l nj nk">or</span><span id="caea" class="ng lz iq nc b gy nl ni l nj nk"><strong class="nc ir">GET</strong> /nairobihealthfacilities/get_nearest_facilities/?x=36.8219&amp;y=-1.2921</span></pre><p id="094e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">获取5家最近医院的结果，包括到医院的距离(以米为单位):</p><figure class="lu lv lw lx gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nu"><img src="../Images/3239a02338d8a9fce0305ca5885b0551.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*UOOFbE0Wk6JgHffOFxBdZA.png"/></div></div></figure><h1 id="6244" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">8.API文档</h1><p id="e621" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">我没有为这个演示做过API文档，但是这是一个很好的实践，也是必要的。因为这将有助于那些使用你的API的人理解你构建了什么。您可以选择Swagger或Redocly。</p><div class="lb lc gp gr ld le"><a href="https://swagger.io/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">面向团队的API文档和设计工具| Swagger</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">使用我们的开源专业工具集，为用户、团队和企业简化API开发。了解如何…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">swagger.io</p></div></div><div class="ln l"><div class="nv l lp lq lr ln ls jw le"/></div></div></a></div><div class="lb lc gp gr ld le"><a href="https://redoc.ly/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">最好的API文档工具</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">您可能听说过ReDoc，它是由OpenAPI(以前称为Swagger)生成的API参考文档软件…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">redoc.ly</p></div></div><div class="ln l"><div class="nw l lp lq lr ln ls jw le"/></div></div></a></div><h1 id="2429" class="ly lz iq bd ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv bi translated">临别赠言…</h1><p id="f4ce" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">我试图让这个概念像我以前的文章一样容易理解，但它似乎更技术性，因为没有更简单的方法😅。我在下面分享了一些资源供你入门，如果你不熟悉编程，那么Python是一种很好的入门语言，尤其是对地理学家和GIS专业人士来说。</p><p id="e07c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">了解Django模型、视图、URL、过滤器是一个很好的起点，您可以利用本文中共享的资源在此基础上积累知识。</p><p id="bcda" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我将在本文中使用Java(Spring Boot)和JavaScript(NodeJS)实现相同的内容，然后，稍后，我们可以使用LeaftJS映射库或OpenLayers3和ReactJS JavaScript库在网站上使用REST APIs并可视化它们。</p></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="86e1" class="ly lz iq bd ma mb oe md me mf of mh mi mj og ml mm mn oh mp mq mr oi mt mu mv bi translated">入门资源(文档)</h1><p id="452b" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">文档通常有丰富的内容，所以下面是一些帮助您入门的链接:</p><p id="dcf5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Python编程语言:</p><div class="lb lc gp gr ld le"><a href="https://docs.python.org/3/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">文件</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">欢迎光临！这是Python 3.8.5的文档。</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">docs.python.org</p></div></div></div></a></div><p id="2239" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Django网络框架:</p><div class="lb lc gp gr ld le"><a href="https://www.djangoproject.com/start/overview/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">姜戈概览|姜戈</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">使用Django，您可以在几个小时内将Web应用程序从概念设计到发布。姜戈负责大部分…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.djangoproject.com</p></div></div></div></a></div><p id="dc70" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Django Rest框架:</p><div class="lb lc gp gr ld le"><a href="https://www.django-rest-framework.org/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">Home - Django REST框架</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">Django REST框架是一个用于构建Web APIs的强大而灵活的工具包。您可能想使用REST的一些原因…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.django-rest-framework.org</p></div></div></div></a></div><p id="01e1" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Django女孩社区:</p><div class="lb lc gp gr ld le"><a href="https://djangogirls.org/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">Django Girls是一个为期一天的针对女性的关于Python和Django编程的研讨会</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">Django Girls是一个非营利组织，是一个授权和帮助妇女组织免费的一日…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">djangogirls.org</p></div></div><div class="ln l"><div class="oj l lp lq lr ln ls jw le"/></div></div></a></div><p id="2384" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GeoDjango文档:</p><div class="lb lc gp gr ld le"><a href="https://docs.djangoproject.com/en/3.1/ref/contrib/gis/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">GeoDjango | Django文档| Django</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">GeoDjango的目标是成为世界级的地理网络框架。它的目标是尽可能简单地构建GIS…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">docs.djangoproject.com</p></div></div></div></a></div></div><div class="ab cl nx ny hu nz" role="separator"><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc od"/><span class="oa bw bk ob oc"/></div><div class="ij ik il im in"><h1 id="cb6c" class="ly lz iq bd ma mb oe md me mf of mh mi mj og ml mm mn oh mp mq mr oi mt mu mv bi translated">入门资源(免费视频)</h1><p id="9da3" class="pw-post-body-paragraph kd ke iq kf b kg mw ki kj kk mx km kn ko my kq kr ks mz ku kv kw na ky kz la ij bi translated">不是每个人都擅长阅读文档，所以这些资源是为那些喜欢从视频内容开始的人准备的:</p><p id="d39a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Python编程(这方面最好的YouTuber:科里·斯查费):</p><div class="lb lc gp gr ld le"><a href="https://www.youtube.com/c/Coreyms/playlists" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">科里·斯查费</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">欢迎来到我的频道。这个频道专注于为软件开发人员创建教程和演练…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.youtube.com</p></div></div><div class="ln l"><div class="ok l lp lq lr ln ls jw le"/></div></div></a></div><p id="4c9a" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Django教程(CodingEntrepreneurs):</p><div class="lb lc gp gr ld le"><a href="https://www.youtube.com/channel/UCWEHue8kksIaktO8KTTN_zg" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">共同创业</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">《为企业家编程》是一个面向非技术创业者的编程系列。学习Django，Python，API，接受…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.youtube.com</p></div></div><div class="ln l"><div class="ol l lp lq lr ln ls jw le"/></div></div></a></div><p id="5199" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">Django Rest框架教程:</p><figure class="lu lv lw lx gt jr"><div class="bz fp l di"><div class="om nq l"/></div></figure><p id="a80e" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">GeoDjango教程(Wanjohi Kibui，一个很好的伙伴，他的系列Geodjango 2将很快推出)</p><div class="lb lc gp gr ld le"><a href="https://www.youtube.com/c/WanjohiKibui/playlists" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">万乔希·基布伊</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">这是一个获取GIS编程教程、软件评论、职业咨询和其他酷东西的渠道。我们是…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.youtube.com</p></div></div><div class="ln l"><div class="on l lp lq lr ln ls jw le"/></div></div></a></div></div></div>    
</body>
</html>