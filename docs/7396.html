<html>
<head>
<title>Examining the Code That Built a Web Scraping Startup</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">检查构建Web抓取启动的代码</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/examining-the-code-that-built-a-web-scraping-startup-1c7c8f40de13?source=collection_archive---------7-----------------------#2020-12-07">https://medium.datadriveninvestor.com/examining-the-code-that-built-a-web-scraping-startup-1c7c8f40de13?source=collection_archive---------7-----------------------#2020-12-07</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/ba0ea3112f1ff29410c88d44c1144b9a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*821WCXLfrw_8RNfe1wfyRA.png"/></div></div></figure><div class=""/><div class=""><h2 id="da09" class="pw-subtitle-paragraph jy ja jb bd b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp dk translated">探索我用来建立一个成功的创业公司的代码和概念，在我们的第一年赚了9万多美元</h2></div><p id="aebe" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">在过去的几十年里，创业公司席卷了整个世界。我们看到公司仅仅通过解决基本的日常问题就在一夜之间扩张到巨大的估值。AirBnb、优步、Robinhood以及更多的公司都是通过用更简单的解决方案解决简单的问题而起步的。在这篇文章中，我不仅要讨论我的简单解决方案是什么，还要讨论我是如何用我用来创业的代码来创业的。</p><p id="7585" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">作为一个精明的青少年，我经常发现自己在任何可能的地方为钱奔波。从在易贝修理坏掉的Xboxes到从GameStop转售老式游戏，我不断发现自己遵循着古老的格言<em class="lm">低买高卖</em>。</p><h2 id="2ec9" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">问题是</h2><p id="2628" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">现在插入限量版运动鞋和服装的世界，在那里<strong class="ks jc">的转售利润是零售利润的2到10倍。这是因为在线商店经常发布非常受欢迎的产品，而且数量有限。然后，紧接着，那些同样的商品会在第三方平台上以更高的价格转售给那些不能及时购买的人。</strong></p><figure class="mm mn mo mp gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi ml"><img src="../Images/b5a93a19038c9f7ea0a94237b7ec54cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*RMWkkU3vXx23TqSZd7RWnQ.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Example of the reselling market with sellout times</figcaption></figure><p id="a9a2" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">毫无疑问，像我这样聪明的孩子会发现自己卷入了这种经典形式的套利交易。但是还有一个迫在眉睫的问题，发布的商品经常会销售一空，然后出人意料地重新进货，尤其是在我们有机会结账之前。古老的解决方案是无意识地刷新页面，但是如果有更好、更省时的解决方案呢？</p><h2 id="9cc5" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">解决方案</h2><p id="3422" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">进入我的公司crepkitchen，它通过使用非常基础的<strong class="ks jc">网页抓取和自动化</strong>解决了这个问题。事实上，网络抓取最近已经成为大多数公司用来收集竞争、产品改进数据的宝贵资源，在我们的情况下<strong class="ks jc">通知用户关于电子商务商店库存的信息</strong>。</p><figure class="mm mn mo mp gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi mu"><img src="../Images/bbeabc0f4a76a70542be297369c01155.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*hRLEN7Ianl3vVBrmkTwR0w.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Promotional image of all our customers’ successful order confirmations in the background</figcaption></figure><p id="3b3f" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">解决办法相当简单。<strong class="ks jc">用户在网上商店查看甚至购买产品的每一个动作</strong><strong class="ks jc">都可以很容易地自动化</strong>。在本文中，我将提供我用来帮助建立我的公司的两个事情的非常简单的代码。</p><div class="ip iq gp gr ir mv"><a href="https://www.datadriveninvestor.com/2020/12/07/name-matching-techniques-with-python/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jc gy z fp na fr fs nb fu fw ja bi translated">使用Python |数据驱动投资者的名称匹配技术</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">我们确实面临很多情况，我们必须匹配一个有很多变体的单词。这可能是因为错别字…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj ix mv"/></div></div></a></div><p id="34fe" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">为了增加这一潜在解决方案的背景和规模，crepkitchen通过解决这一具体问题，每年创造超过<strong class="ks jc">90，000美元的利润</strong>。为了更多地了解这种商业模式，<a class="ae nk" href="https://www.youtube.com/watch?v=z3y2wTnsv94&amp;feature=youtu.be&amp;t=924" rel="noopener ugc nofollow" target="_blank">我在马里兰大学的一次比赛中做了一个简短的商业演讲</a>，其他类似的链接可以在<a class="ae nk" href="https://mathewsteininger.com/#crepkitchen" rel="noopener ugc nofollow" target="_blank">这里</a>找到。最终，我卖掉了一些更大的技术和资源，所以公司不存在了，但这仍然是一次宝贵的经历。</p><figure class="mm mn mo mp gt is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi nl"><img src="../Images/f6ba777044418fd4a22fd25cd71e8164.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kEb0DBWbhybdcA097uGR8w.png"/></div></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Me giving a pitch at my university</figcaption></figure><h1 id="1682" class="nm lo jb bd lp nn no np ls nq nr ns lv kh nt ki ly kk nu kl mb kn nv ko me nw bi translated">网页抓取代码</h1><p id="008a" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">首先，我将使用<a class="ae nk" href="https://requests.readthedocs.io/en/master/" rel="noopener ugc nofollow" target="_blank"> Python </a>，因为大量的框架和库实现起来非常简单。首先，我们希望<strong class="ks jc">模拟一个用户实际访问网站查看一个特定的产品</strong>并保存HTML，例如<a class="ae nk" href="https://mathewsteininger.com/sample-product" rel="noopener ugc nofollow" target="_blank">这个示例产品</a>。</p><pre class="mm mn mo mp gt nx ny nz oa aw ob bi"><span id="340c" class="ln lo jb ny b gy oc od l oe of">import requests<br/>request = requests.get('https://mathewsteininger.com/sample-product')<br/>html = request.content</span></pre><p id="601b" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">然后我们可以使用<a class="ae nk" href="https://www.crummy.com/software/BeautifulSoup/bs4/doc/" rel="noopener ugc nofollow" target="_blank"> BeautifulSoup </a>来获取我们想要的项目的<strong class="ks jc">特定HTML标签</strong>。这里将是网站的<strong class="ks jc">确切区域，让用户知道某个商品是否有货</strong>(价格也可以是监控的内容)。</p><pre class="mm mn mo mp gt nx ny nz oa aw ob bi"><span id="d1f6" class="ln lo jb ny b gy oc od l oe of">soup = BeautifulSoup(html, 'html.parser')<br/># Monitor this tag to check stock changes<br/>stock = soup.find("button", {"id": "availability"})<br/># Monitor this tag to check price changes<br/>price = soup.find("div", {"id": "price"})</span></pre><p id="f654" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">那是大部分的工作！现在我们可以把它打包成一个while true语句，添加一些时间延迟和一个通知API，我们就完成了。</p><figure class="mm mn mo mp gt is"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Basic web scraping monitor</figcaption></figure><h2 id="0232" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">防止速率限制</h2><p id="c599" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">如果您现在一直运行代码，您可能会遇到一个叫做<strong class="ks jc">速率限制</strong>的重大问题。See公司不喜欢他们的大部分网络流量和资源被机器人耗尽，所以他们<strong class="ks jc">开始限制对过于频繁访问网站的IP的访问</strong>(他们还检查你的请求头，所以确保设置这些头)。最基本的方法是通过一系列的<strong class="ks jc">旋转代理</strong>来改变你的IP地址(同时随机增加你的请求间隔时间)。这里，我们将使用一个名为<a class="ae nk" href="https://pypi.org/project/proxy-manager/" rel="noopener ugc nofollow" target="_blank"> ProxyManager </a>的很酷的库，它使我们切换IP的能力变得更加容易。</p><figure class="mm mn mo mp gt is"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">More complex web scraping with proxies and headers</figcaption></figure><h2 id="f074" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">实现订单自动化</h2><p id="5cef" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">现在这有点棘手，涉及到使用一个叫做<a class="ae nk" href="https://www.selenium.dev" rel="noopener ugc nofollow" target="_blank"> Selenium </a>的酷工具，<strong class="ks jc">允许我们模拟用户</strong>的动作。Selenium本质上与自动打开web浏览器和填写一些预定义的表单是一样的。因此，<strong class="ks jc">一旦我们确定一个商品已经回到库存，我们就触发一个结帐方法</strong>。请记住，这可能违反了商店的<em class="lm">服务条款，</em>因此，继续操作的风险由您自行承担。在我们的例子中，我将只是模拟导航一个简单的网站。</p><figure class="mm mn mo mp gt is"><div class="bz fp l di"><div class="og oh l"/></div><figcaption class="mq mr gj gh gi ms mt bd b be z dk">Using selenium to automate form submissions</figcaption></figure><h1 id="a5c5" class="nm lo jb bd lp nn no np ls nq nr ns lv kh nt ki ly kk nu kl mb kn nv ko me nw bi translated">现在该怎么办？</h1><p id="dee9" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">这就对了，你已经<strong class="ks jc">成功地构建了一系列网页抓取器和自动结账脚本</strong>，它们在处理很快售罄的限量版产品时非常有价值。在你的搜索引擎网络中增加了许多站点后，你很快就会有一个可行的服务，用户愿意为它付费。请记住，虽然我们的网络抓取工具要复杂和健壮得多，但一般来说它们就是这样工作的。</p><h2 id="748e" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">最后一点</h2><p id="4817" class="pw-post-body-paragraph kq kr jb ks b kt mg kc kv kw mh kf ky kz mi lb lc ld mj lf lg lh mk lj lk ll ij bi translated">所有这些工具可能会遇到特定网站的问题，因为这是今天网络抓取的主要问题，为许多网站调整你的脚本。</p></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><p id="d539" class="pw-post-body-paragraph kq kr jb ks b kt ku kc kv kw kx kf ky kz la lb lc ld le lf lg lh li lj lk ll ij bi translated">继续进行，风险自担，并确保查看这里列出的全部代码<a class="ae nk" href="https://github.com/mhsmathew/Web-Scraping-Automation-Tutorial" rel="noopener ugc nofollow" target="_blank"/>。此外，查看我的个人网站<a class="ae nk" href="https://mathewsteininger.com" rel="noopener ugc nofollow" target="_blank">了解我创建的更多博客和项目。</a></p><div class="ip iq gp gr ir mv"><a href="https://mathewsteininger.com" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jc gy z fp na fr fs nb fu fw ja bi translated">马修·斯坦宁格</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">嗨！我是马修，也叫马特，我是一名软件工程师。</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">mathewsteininger.com</p></div></div><div class="ne l"><div class="op l ng nh ni ne nj ix mv"/></div></div></a></div><h2 id="90cf" class="ln lo jb bd lp lq lr dn ls lt lu dp lv kz lw lx ly ld lz ma mb lh mc md me mf bi translated">访问专家视图— <a class="ae nk" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank">订阅DDI英特尔</a></h2></div></div>    
</body>
</html>