<html>
<head>
<title>What can the IEX Cloud API tell us about top CEOs?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">关于顶级CEO，IEX云API能告诉我们什么？</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/what-can-the-iex-cloud-api-tell-us-about-top-ceos-e388d365580e?source=collection_archive---------10-----------------------#2020-04-30">https://medium.datadriveninvestor.com/what-can-the-iex-cloud-api-tell-us-about-top-ceos-e388d365580e?source=collection_archive---------10-----------------------#2020-04-30</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><figure class="is it gp gr iu iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/2c7fe57175f2e9d7aa1e06820a93629c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7DkALwmPhwQinPDMHqpTJg.png"/></div></div></figure><div class=""/><p id="618f" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">最近，我一直在Python中尝试不同的财务数据API(试图在COVID lockdown中提高工作效率)。如果你有兴趣了解不同的金融应用编程接口，这里有其他比较它们的文章<a class="ae kz" href="https://towardsdatascience.com/comparing-the-best-free-financial-market-data-apis-158ae73c16ba" rel="noopener" target="_blank">这里</a>和<a class="ae kz" href="https://towardsdatascience.com/best-5-free-stock-market-apis-in-2019-ad91dddec984" rel="noopener" target="_blank">这里</a>。</p><p id="e1e7" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">但是我意识到有一个API (IEX云)可以给你每个被查询公司的CEO的全名。所以，我想知道，首席执行官们最常见的名字是什么？</p><p id="a729" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">为此，首先我从维基百科下载了标准普尔500所有股票报价机的列表。<a class="ae kz" href="https://medium.com/@grahamguthrie_14946" rel="noopener">格拉汉姆·格思里</a>在这里写了一篇如何做到这一点的描述<a class="ae kz" href="https://medium.com/wealthy-bytes/5-lines-of-python-to-automate-getting-the-s-p-500-95a632e5e567" rel="noopener">。Graham还写了一篇完整的描述，介绍如何从IEX下载特定公司的财务数据。我跟着那些教程去获取公司数据。</a></p><div class="is it gp gr iu la"><a href="https://www.datadriveninvestor.com/2020/03/25/using-google-search-trends-to-predict-initial-jobless-claims/" rel="noopener  ugc nofollow" target="_blank"><div class="lb ab fo"><div class="lc ab ld cl cj le"><h2 class="bd jf gy z fp lf fr fs lg fu fw jd bi translated">使用谷歌搜索趋势预测首次申请失业救济人数|数据驱动的投资者</h2><div class="lh l"><h3 class="bd b gy z fp lf fr fs lg fu fw dk translated">几年来，我的重点一直是使用多种替代数据来预测宏观经济统计数据…</h3></div><div class="li l"><p class="bd b dl z fp lf fr fs lg fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="lj l"><div class="lk l ll lm ln lj lo ja la"/></div></div></a></div><p id="c036" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">从IEX一次可以查询的tickers数量是有限的，所以你必须批量下载标准普尔500。我批量做了50个，这是API免费版的极限。</p><p id="f30d" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">一旦你有了所有公司的数据框架，你会看到有一列叫做“CEO”。那是首席执行官的名字。您可以使用以下方式获得CEO的名字:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d90a" class="ly lz je lu b gy ma mb l mc md">dfCom['firstName'] = dfCom['CEO'].str.split().str[0].str.strip()</span></pre><p id="bed9" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，您可以使用以下命令删除任何奇怪的字符:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="8cc1" class="ly lz je lu b gy ma mb l mc md">dfCom['firstName'] = dfCom['firstName'].str.replace(r"[\"\',]", '')</span></pre><p id="6c49" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后，您可以使用以下方式对11个最常见的CEO姓名进行排名:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="759c" class="ly lz je lu b gy ma mb l mc md">dfCom.groupby(['firstName']).count().sort_values(['companyName'], ascending=False)["companyName"].head(11)</span></pre><p id="2076" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">你会看到最热门的名字是:</p><ol class=""><li id="a2f7" class="me mf je kd b ke kf ki kj km mg kq mh ku mi ky mj mk ml mm bi translated">迈克尔</li><li id="b9aa" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">大卫</li><li id="7d15" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">詹姆斯</li><li id="3b9c" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">约翰</li><li id="6a22" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">托马斯</li><li id="ec15" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">威廉</li><li id="2738" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">杰弗里(男子名ˌ等于Geoffrey)</li><li id="3b54" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">罗伯特</li><li id="5500" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">理查德</li><li id="e8e2" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">史蒂文(男子名)</li><li id="8d9c" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">标记</li></ol><p id="9de4" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">这可能不是一个完全不令人惊讶的列表。更令人担忧的是，仅这11个名字就描述了整个指数(165家公司)近三分之一的领导者。下面你就知道我为什么选11了。</p><p id="3e61" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">您可以使用以下代码创建单词云:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="87ff" class="ly lz je lu b gy ma mb l mc md">names = dfCom['firstName'].values<br/>names = str(names).replace("'","")<br/>names = names.replace("\n","")<br/>names = names.replace("'[","")<br/>wordcloud = WordCloud(width=800, height=400).generate(names)</span></pre><p id="edeb" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">然后使用matplotlib绘制它，使用:</p><pre class="lp lq lr ls gt lt lu lv lw aw lx bi"><span id="d575" class="ly lz je lu b gy ma mb l mc md">fig, ax = plt.subplots(figsize=(25, 10))<br/>plt.imshow(wordcloud)<br/>plt.axis("off")<br/>plt.savefig('CEONamesWordCloud.png',bbox_inches = 'tight',pad_inches = 0)</span></pre><figure class="lp lq lr ls gt iv gh gi paragraph-image"><div role="button" tabindex="0" class="iw ix di iy bf iz"><div class="gh gi ir"><img src="../Images/3ca25aeba4996b43c8e2bac3859a3a78.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6LWLF_PEYGoZdCP84AE0oA.png"/></div></div></figure><p id="a231" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">如果你认为这份名单看起来像50多岁男性最常见的名字，那你就完全正确了。根据美国社会安全局的数据，美国1960年代出生的男孩的前11个名字是:</p><ol class=""><li id="5d52" class="me mf je kd b ke kf ki kj km mg kq mh ku mi ky mj mk ml mm bi translated">迈克尔</li><li id="8d83" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">大卫</li><li id="9735" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">约翰</li><li id="b3fa" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">詹姆斯</li><li id="89ed" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">罗伯特</li><li id="5c9d" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">标记</li><li id="fd77" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">威廉</li><li id="68e1" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">理查德</li><li id="137c" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">托马斯</li><li id="1d83" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">杰弗里(男子名ˌ等于Geoffrey)</li><li id="8ace" class="me mf je kd b ke mn ki mo km mp kq mq ku mr ky mj mk ml mm bi translated">史蒂文(男子名)</li></ol><p id="b4d3" class="pw-post-body-paragraph kb kc je kd b ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky im bi translated">在这里看到完整的代码和我使用的数据<a class="ae kz" href="https://github.com/SteveHedden/CEONames" rel="noopener ugc nofollow" target="_blank">。</a></p><figure class="lp lq lr ls gt iv"><div class="bz fp l di"><div class="ms mt l"/></div></figure></div></div>    
</body>
</html>