<html>
<head>
<title>Building CoronaTracker: MongoDB and GO</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">构建日冕追踪器:MongoDB和GO</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/building-coronatracker-mongodb-and-go-467b271421f3?source=collection_archive---------13-----------------------#2020-08-14">https://medium.datadriveninvestor.com/building-coronatracker-mongodb-and-go-467b271421f3?source=collection_archive---------13-----------------------#2020-08-14</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="eb3a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我以前写过关于电晕跟踪器应用程序。比如这里的<a class="ae ko" href="https://medium.com/datadriveninvestor/open-source-for-good-716d40cc1dda" rel="noopener"/>关于开源文化的帖子，或者关于<a class="ae ko" href="https://medium.com/@Pavel_ilin/data-visualization-with-recharts-d1de5273b6a7" rel="noopener">数据可视化</a>和使用<a class="ae ko" href="https://medium.com/weekly-webtips/building-coronatracker-with-blockstack-authentication-e7a8fe1f9231" rel="noopener"> blockstack </a>的帖子。今天，我们将讨论如何使用MongoDB。</p><p id="fb1b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们使用MongoDB来处理短信订阅和通知。作为示例，我们将了解订阅功能的外观。我们使用GO来构建这个功能。</p><p id="cd0a" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">初始化</strong></p><p id="1cd0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们将从导入所有必需的库开始。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div class="gh gi kp"><img src="../Images/b73caa724b414097293a2eb48749ce3d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1218/format:webp/1*wNbbNVMoXZbswapWAJAV5g.png"/></div></figure><p id="1fb2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu"> MongoDB设置</strong></p><p id="8993" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来我们将配置mongoDB连接。在那里，我们ping MongoDB连接，并检查是否有任何错误返回。我们还需要设置一个<strong class="js iu"> mongo所需的上下文。连接</strong>。</p><p id="13ca" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们将连接到数据库:</p><pre class="kq kr ks kt gt kx ky kz la aw lb bi"><span id="6589" class="lc ld it ky b gy le lf l lg lh">coronalertDB := client.Database(“Coronalert”)</span></pre><p id="c695" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">并连接到特定集合:</p><pre class="kq kr ks kt gt kx ky kz la aw lb bi"><span id="c32d" class="lc ld it ky b gy le lf l lg lh">phoneNumbersCollection := coronalertDB.Collection(“PhoneNumbers”)</span></pre><p id="6160" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这里是数据库配置的完整代码:</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi li"><img src="../Images/730b67351947872ed37e2504df77c6cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Z8hb-cUk5OAIbEcNn07HbA.png"/></div></div></figure><p id="6319" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">订阅</strong></p><p id="2f5f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">成功连接数据库后，我们就可以开始订阅过程了。</p><p id="02c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们有一个用户在前端提交的电话号码。首先，我们将尝试在数据库中找到这个电话号码，并发回一个响应。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi ln"><img src="../Images/bd6c8e9cae43f4931ac57ec208182334.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*HwQ4PW5gka87gQG9ZfqoKg.png"/></div></div></figure><p id="d024" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如果数据库中没有这样的号码，并且没有其他错误，我们可以在数据库中插入一个具有新号码的记录。</p><figure class="kq kr ks kt gt ku gh gi paragraph-image"><div role="button" tabindex="0" class="lj lk di ll bf lm"><div class="gh gi lo"><img src="../Images/fec2081b3822b58b36d331896d288c67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Yp9cJomVC4otOT8V0_rgHg.png"/></div></div></figure><p id="48da" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">结论</strong></p><p id="02b0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们在这里。与MongoDB的连接已成功建立，并创建了新记录。我们只创建了action，但是MongoDB允许您执行整个CRUD。</p><p id="21b4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">查看<a class="ae ko" href="https://github.com/COVID-19-electronic-health-system/Corona-tracker" rel="noopener ugc nofollow" target="_blank">电晕跟踪器Github </a>并加入我们！</p><p id="edb7" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">不断学习，不断成长！</p><p id="01c2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们上<a class="ae ko" href="https://www.linkedin.com/in/pavel-ilin" rel="noopener ugc nofollow" target="_blank"> LinkedIn </a>连线吧！</p></div></div>    
</body>
</html>