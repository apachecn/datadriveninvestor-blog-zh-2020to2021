<html>
<head>
<title>Getting Started With Robot Operating System</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">机器人操作系统入门</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/ros-setup-beginner-2cac74d9a6b6?source=collection_archive---------4-----------------------#2020-06-24">https://medium.datadriveninvestor.com/ros-setup-beginner-2cac74d9a6b6?source=collection_archive---------4-----------------------#2020-06-24</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/c2efddd08dfc998154536b30ff564895.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*tC3A9ZJp8b-tmDof"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@lenin33?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Lenin Estrada</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6822" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">什么是ROS？<br/> </strong>机器人操作系统(Robot Operating System)或者更通俗地称为ROS，是一个开源的、为你的机器人设计的元操作系统。ROS系统基于发布者和订户的概念工作，典型的ROS系统具有许多独立的节点，这些节点或者从其他节点收集信息，或者发布由外部源接收的信息。为了执行这样的任务，ROS有各种各样的特性，比如消息传递、低级设备控制、包管理等等。ROS还拥有模拟工具，可以在2D虚拟测试您的算法，或者将您的传感器输入映射到多维可视化工具中。</p><p id="11f7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">为什么是ROS？？掌握ROS是一项艰巨的任务，但是一旦你熟悉了ROS的概念和功能，构建用其他方法可能无法实现的复杂系统就会变得非常方便。ROS看起来很吸引人的另一个原因是它的灵活性，如果你的整个系统都在一台电脑上，那就没有必要了。有可能在机器人上有一个raspberry pi，发布一些传感器数据，一台计算机订阅它，一个平板电脑控制机器人的运动。ROS包或项目可以用任何语言编写，主要是C++或Python。作为一个元操作系统，ROS独立于用于构建软件包的编程语言。<br/> ROS是一种行业标准工具，具有驱动程序和对大多数商业传感器的<a class="ae kf" href="http://wiki.ros.org/Sensors" rel="noopener ugc nofollow" target="_blank">支持</a>。</strong></p><p id="6ad1" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">一般概念<br/> </strong>在ROS中，节点不能直接向其他节点索取数据。所有节点必须首先与主节点通信。主节点保存发布者/服务器的名称和它们正在发布的消息的类型，因此每当节点需要任何数据时，它必须首先与主节点通信，然后主节点基于由需要数据的节点给出的消息类型和发布/服务器节点的名称，将该特定节点定向到发布所需数据的节点。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi le"><img src="../Images/b06f414104bd02bcb94981f80cb213f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9tLHpNer6zQfCAWwRkspgQ.jpeg"/></div></div></figure><p id="17ab" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在ROS中，节点之间有两种关系:<br/> <strong class="ki iu"> 1。</strong>出版者和订阅者<br/>把这想象成你每月订阅的杂志，一旦你订阅了这项服务，你每个月都会收到杂志，直到你停止这项服务。<br/>发布者和订阅者以相同的方式工作，在上图中，将节点2视为发布来自温度传感器的数据的raspberry pi，而节点1需要该数据，因此首先，它必须与主节点通信，并共享其所需的消息类型和发布者节点名称。然后，主节点将节点指向发布节点，在我们的例子中是节点2。现在，一旦建立了节点之间的关系，节点1将继续接收数据，直到服务终止。</p><p id="4dd8" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu"> 2。</strong>服务器和客户端<br/>想象一下，如果你在绘制一年中每天的温度。为了绘制每日温度图，您只需要每天读取一次温度。在这种情况下，您将使用服务器和客户端。<br/>服务器和客户端的工作方式与发布者和订阅者相同，唯一的区别在于，在这种情况下，客户端不会获得连续的数据，而是在客户端请求数据时获得服务器的值/读数。<br/>在上图中，将节点2视为一个从传感器获取温度数据的raspberry pi。现在，每当节点3请求数据时，节点2都会发送它在该特定实例中拥有的数据。因此，要绘制每日温度图，客户端每天只需请求一次数据。</p><p id="9752" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在让我们讨论ROS的基础知识，即安装和设置你的工作空间。</p><blockquote class="lj lk ll"><p id="b68d" class="kg kh lm ki b kj kk kl km kn ko kp kq ln ks kt ku lo kw kx ky lp la lb lc ld im bi translated">我运行的是安装在虚拟机VirtualBox上的Ubuntu 20.04，内存为6GB。</p></blockquote></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><p id="3186" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">让我们开始吧……</strong></p><h1 id="c67b" class="lx ly it bd lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu bi translated">安装ROS:</h1><p id="22ab" class="pw-post-body-paragraph kg kh it ki b kj mv kl km kn mw kp kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">第一步是确定要安装的ROS版本。写这篇博客的时候，<a class="ae kf" href="http://wiki.ros.org/Distributions" rel="noopener ugc nofollow" target="_blank"> ROS Noetic Ninjemys </a>是推荐给Ubuntu 20.04的LTS(长期支持)版本。然而，当你发现这个博客的时候，它的最新版本可能已经更新或改变了。因此，根据您的系统配置找到合适的版本始终是一个好的做法。</p><p id="929f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦确定了要安装的版本。下一步是在终端中运行安装命令。</p><p id="8f4b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我将在<a class="ae kf" href="http://wiki.ros.org/Distributions" rel="noopener ugc nofollow" target="_blank"> ROS Noetic Ninjemys </a>上安装，稍后将创建一个工作区。</p><blockquote class="lj lk ll"><p id="0caa" class="kg kh lm ki b kj kk kl km kn ko kp kq ln ks kt ku lo kw kx ky lp la lb lc ld im bi translated">如果你运行的是不同版本的Ubuntu(Ubuntu 18.04)并且需要另一个版本的ROS (melodic)，那么你只需要在安装时修改一行代码，如步骤4所述。</p></blockquote><p id="ac6f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">步骤1: </strong> Ubuntu库应该配置为允许“受限”、“宇宙”和“多元宇宙”。<br/>这可以在您系统中的软件&amp;更新应用程序中完成。</p><figure class="lf lg lh li gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi na"><img src="../Images/a4b8a8b57ceef8596dc279fafe87d1f9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*S-IWV_uodbQLIVuRNlMm3Q.jpeg"/></div></div></figure><p id="445d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">步骤2: </strong>设置您的系统接受来自ROS的包裹。</p><p id="c9a7" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这可以通过在终端中简单地执行以下命令来完成。</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="e499" class="ng ly it nc b gy nh ni l nj nk">sudo sh -c 'echo "deb <a class="ae kf" href="http://packages.ros.org/ros/ubuntu" rel="noopener ugc nofollow" target="_blank">http://packages.ros.org/ros/ubuntu</a> $(lsb_release -sc) main" &gt; /etc/apt/sources.list.d/ros-latest.list'</span></pre><p id="a84d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">步骤3: </strong>设置按键。</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="0217" class="ng ly it nc b gy nh ni l nj nk">sudo apt-key adv --keyserver 'hkp://keyserver.ubuntu.com:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654</span></pre><p id="7ceb" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果密钥服务器存在连接问题，请执行以下操作</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="b972" class="ng ly it nc b gy nh ni l nj nk">sudo apt-key adv --keyserver 'hkp://pgp.mit.edu:80' --recv-key C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654</span></pre><p id="6d23" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">或者，您可以使用curl代替apt-key，如果您使用代理服务器，这可能会有所帮助。</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="0f93" class="ng ly it nc b gy nh ni l nj nk">curl -sSL 'http://keyserver.ubuntu.com/pks/lookup?op=get&amp;search=0xC1CF6E31E6BADE8868B172B4F42ED6FBAB17C654' | sudo apt-key add -</span></pre><p id="718e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">第四步:</strong>安装。</p><p id="691f" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">检查是否有新的软件包或更新总是一个好的做法。</p><p id="8238" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这可以通过跑步来完成</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="4617" class="ng ly it nc b gy nh ni l nj nk">sudo apt update</span></pre><p id="d5e2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">我建议安装完整的桌面版本，因为它有所有需要的模拟工具。但是，您也可以安装其他版本。</p><p id="745d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">完整桌面版可以通过执行以下命令来安装</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="6ef9" class="ng ly it nc b gy nh ni l nj nk">sudo apt install ros-noetic-desktop-full</span></pre><blockquote class="lj lk ll"><p id="96db" class="kg kh lm ki b kj kk kl km kn ko kp kq ln ks kt ku lo kw kx ky lp la lb lc ld im bi translated">要安装ROS Melodic Morenia，请执行以下代码，而不是上面的代码</p></blockquote><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="a0fa" class="ng ly it nc b gy nh ni l nj nk">sudo apt install ros-melodic-desktop-full</span></pre><p id="cc04" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">要查明软件包是否已经安装，您可以执行以下命令来查找已安装的软件包</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="84b1" class="ng ly it nc b gy nh ni l nj nk">apt search ros-noetic</span></pre><blockquote class="lj lk ll"><p id="c4e3" class="kg kh lm ki b kj kk kl km kn ko kp kq ln ks kt ku lo kw kx ky lp la lb lc ld im bi translated">对于ROS Melodic Morenia，执行以下代码代替上面的代码</p></blockquote><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="8951" class="ng ly it nc b gy nh ni l nj nk">apt search ros-melodic</span></pre><p id="cddf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="ki iu">第五步:</strong>设置环境。</p><p id="4e7b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如果每次创建一个新的shell时，所有的ROS变量都自动添加到bash会话中，这将非常方便。这可以通过编辑。bashrc”文件并添加“setup.bash”的位置。</p><p id="543a" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">首先，确保您在终端的主目录中，然后访问。bashrc '文件来编辑它</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="5b33" class="ng ly it nc b gy nh ni l nj nk">cd <br/>gedit .bashrc</span></pre><p id="d540" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi nl translated">现在在文件的末尾添加以下几行。另外，不要忘记保存更改。</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="6881" class="ng ly it nc b gy nh ni l nj nk">source /opt/ros/noetic/setup.bash</span></pre><blockquote class="lj lk ll"><p id="9bb7" class="kg kh lm ki b kj kk kl km kn ko kp kq ln ks kt ku lo kw kx ky lp la lb lc ld im bi translated">恭喜你！！<br/>你已经安装了ROS和所有必要的操作包。<br/>现在您需要一个工作空间来创建您的项目。</p></blockquote></div><div class="ab cl lq lr hx ls" role="separator"><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv lw"/><span class="lt bw bk lu lv"/></div><div class="im in io ip iq"><h1 id="efb5" class="lx ly it bd lz ma nm mc md me nn mg mh mi no mk ml mm np mo mp mq nq ms mt mu bi translated">创建工作空间:</h1><p id="52bb" class="pw-post-body-paragraph kg kh it ki b kj mv kl km kn mw kp kq kr mx kt ku kv my kx ky kz mz lb lc ld im bi translated">ROS已经有一个默认的工作空间，您可以在其中创建您的项目。但是在默认工作区中工作并不方便，通常情况下，您应该创建另一个工作区来管理您的所有项目。</p><p id="fc1e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">您可以通过执行以下命令进入默认工作区</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="8dbe" class="ng ly it nc b gy nh ni l nj nk">roscd</span></pre><p id="9b08" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，我们将创建一个<a class="ae kf" href="http://wiki.ros.org/catkin/conceptual_overview" rel="noopener ugc nofollow" target="_blank">柳絮工作空间</a>。</p><p id="e87d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在终端中执行以下命令。</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="f4ea" class="ng ly it nc b gy nh ni l nj nk">cd<br/>mkdir -p ~/catkin_ws/src<br/>cd ~/catkin_ws/<br/>catkin_make</span></pre><p id="9155" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们制作一个名为‘柳絮_ ws’的目录，然后用‘柳絮_ make’编译它。</p><p id="d53b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在您的工作区已经准备好开发包(项目)了。要使此工作区成为您的默认工作区，您必须再次编辑。bashrc的文件。</p><p id="4416" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">打开。bashrc '文件，方法是执行以下命令</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="e696" class="ng ly it nc b gy nh ni l nj nk">cd <br/>gedit .bashrc</span></pre><p id="172e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在，在文件末尾用您的用户名替换USER_NAME后，添加以下代码并保存它</p><pre class="lf lg lh li gt nb nc nd ne aw nf bi"><span id="5a1e" class="ng ly it nc b gy nh ni l nj nk">source /home/USER_NAME/catkin_ws/devel/setup.bash</span></pre><p id="8793" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在打开一个新的终端，执行‘roscd’，你会发现默认的工作空间现在变成了‘柳絮_ ws’。现在，您可以在“柳絮_ws”的“src”文件夹中创建包。</p><p id="5330" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">最后，您的ROS设置完成了，您的工作空间也准备好了。</p><p id="6eaf" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">感谢你的阅读，希望这篇文章能帮助你开始使用ROS。</p><p id="5e62" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><em class="lm">领英:</em><a class="ae kf" href="https://www.linkedin.com/in/prerit-gupta-89028b162" rel="noopener ugc nofollow" target="_blank">linkedin.com/in/prerit-gupta-89028b162</a></p></div></div>    
</body>
</html>