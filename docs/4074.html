<html>
<head>
<title>Step By Step Exploratory Data Analysis Of Titanic DataSet</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">海量数据的逐步探索性数据分析</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/step-by-step-exploratory-data-analysis-of-titanic-dataset-2d0fb09b0e86?source=collection_archive---------0-----------------------#2020-07-22">https://medium.datadriveninvestor.com/step-by-step-exploratory-data-analysis-of-titanic-dataset-2d0fb09b0e86?source=collection_archive---------0-----------------------#2020-07-22</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/e1a47cd2aecae48d7726391d6a326e5a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*kPb0iNuZPXGCx4QR21tZfQ.jpeg"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">(Picture By Annie Sprat On Unsplash)</figcaption></figure><p id="d54f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">探索性数据分析是任何数据科学项目最重要的步骤之一。这里我们将对泰坦尼克号数据集进行数据分析。为此，我们将使用Pandas、Seaborn和Matplotlib库。我们可以从https://www.kaggle.com/c/titanic/data下载数据集。</p><h1 id="0306" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">讲故事:</h1><p id="7066" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">让我们先试着理解数据集。它有12列。</p><p id="2d1d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里我们有11个特征，利用它们我们可以预测“幸存”的目标变量。</p><p id="2c55" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">目标变量是我们试图预测的变量。其他都是特色。我们的第一步将是完善这些功能，以便它可以用于输入到机器学习模型中，我们可以用它来完成我们所需的任务。</p><p id="9d6c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要将数据加载到数据帧中，我们可以使用</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="b129" class="mn lc iq mj b gy mo mp l mq mr">train=pd.read_csv(‘/home/aditya123/Downloads/titanic.csv’)</span></pre><p id="1145" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为了了解数据集，我们可以使用dataframe的head函数。它将返回前5行。因此，执行<em class="ms"> train.head() </em>将得到前5行。给出的图片显示了它的输出。</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mt"><img src="../Images/256947489dc5877be4d9fc723176ab10.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*htfOIQvMpEUfdA5sXvfzkg.png"/></div></div></figure><p id="2e77" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">同样我们可以使用<strong class="ke ir"> <em class="ms"> info </em> </strong>和<strong class="ke ir"> <em class="ms"> describe </em> </strong>方法来获得关于数据的详细统计。</p><p id="e7fa" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">数据预处理和eda的一个重要目标是去除空数据。要做到这一点，我们需要知道我们在哪里得到了空值。为了对此有个概念，我们将使用热图。为了实现它，将使用seaborn库。下面的代码片段将为它创建一个热图。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2ac1" class="mn lc iq mj b gy mo mp l mq mr">sns.heatmap(train.isnull(),yticklabels=False,cbar=False,cmap=’viridis’)</span></pre><p id="399a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上面代码的输出应该是这样的</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi mu"><img src="../Images/75f9a8a8b39686934ba3d73d9ee34518.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*EEyAs6Gwi0wn3sLxuYfZZw.png"/></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">(Heatmap to know about missing values)</figcaption></figure><p id="63d9" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">正如我们从图表中看到的,“年龄”和“客舱”列的值为空。“Cabin”有大量的空值，“Age”有适量的空值。</p><p id="be5d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">这里，我们将删除“Cabin”列，因为它的值大部分为空。</p><p id="0d9d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为此，我们将使用下面的代码片段。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="4ac2" class="mn lc iq mj b gy mo mp l mq mr">train.drop(‘Cabin’,axis=1,inplace=True)</span></pre><p id="edc8" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在有趣的部分来了。我们需要形成一个逻辑来估算“年龄”列中缺失的值。在理解了“年龄”和各种其他变量之间的关系之后，我们将回头再来讨论它。</p><p id="bdd7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们试着了解因变量“幸存”与变量“性别”是否有任何关系。</p><p id="1e93" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为此，我们将使用factorplot。下面的代码片段将为我们返回所需的数字。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dcbd" class="mn lc iq mj b gy mo mp l mq mr">sns.factorplot(x=’Survived’,col=’Sex’,kind=’count’,data=train)</span></pre><p id="ee9f" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上述代码的输出如下图所示</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mv"><img src="../Images/1133fc9374008be64dec9ac122eb3475.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*MmbgBmMrjQy7XAnRgxwB4A.png"/></div></div></figure><p id="1fd5" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">推论</strong>:从电影和泰坦尼克号的故事中我们都知道，女性在拯救乘客时被优先考虑。上图也告诉了我们同样的故事。男性乘客的死亡人数多于女性乘客。</p><p id="4f1d" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">同样，让我们试着看看变量'<strong class="ke ir"> <em class="ms"> Pclass </em> </strong>'与变量'<strong class="ke ir"> <em class="ms">幸存</em> </strong>是如何关联的</p><p id="f884" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">为此，我们将使用下面的代码片段绘制一个计数图。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="dc75" class="mn lc iq mj b gy mo mp l mq mr">sns.countplot(x=’Survived’,hue=’Pclass’,data=train)</span></pre><p id="c530" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上述代码的输出如下图所示</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/cca32f889df23acb6e0ab8f877c778fb.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*SseRJ-PmUj2CJFXxO1n0ZA.png"/></div></figure><p id="324e" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">推论:图表告诉我们，第三类人更有可能幸存。它是为富人设计的，而Pclass 1是最有可能的受害者，相对比class 3便宜。</p><p id="910b" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">让我们试着详细理解‘Sibsip’一栏。为此，我们将再次使用seaborn的countplot。下面的代码片段将达到同样的效果。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="0ce0" class="mn lc iq mj b gy mo mp l mq mr">sns.countplot(x=’SibSp’,data=train)</span></pre><p id="1a9a" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">上述代码的输出是</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div class="gh gi mw"><img src="../Images/734230653664c8989f3b3538c216216c.png" data-original-src="https://miro.medium.com/v2/resize:fit:778/format:webp/1*KfhypLxBa8Je_8Ppukz8TA.png"/></div></figure><p id="eeba" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated"><strong class="ke ir">推论</strong>:这里的‘SibSp’变量指的是这个人所伴随的兄弟姐妹或配偶的数量。我们可以看到大多数人都是单独来的。</p><p id="b993" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">最后，我们必须找出一种方法来填充变量“年龄”的缺失值。这里，我们根据Pclass变量分离了“年龄”变量，因为我们发现“年龄”和“Pclass”列是相关的。我们会画一个箱线图，告诉我们每一类的平均值。为此，我们可以编写以下代码片段。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="ddb4" class="mn lc iq mj b gy mo mp l mq mr">sns.boxplot(x='Pclass',y='Age',data=train,palette='winter')</span></pre><p id="0967" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">它会产生这个图表</p><figure class="me mf mg mh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi mx"><img src="../Images/ae3a02100e605374f7d3597110dc663c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*mTMEEibaABm1QP7QmobI2Q.png"/></div></div></figure><p id="35a1" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">从这张图表中，我们可以找出每个阶层的平均年龄。我们将同样估算缺失的“年龄”值。我们可以编写一个简单的python函数来获得相同的结果。</p><h2 id="2b9e" class="mn lc iq bd ld my mz dn lh na nb dp ll kn nc nd lp kr ne nf lt kv ng nh lx ni bi translated">处理分类值:</h2><p id="7e87" class="pw-post-body-paragraph kc kd iq ke b kf lz kh ki kj ma kl km kn mb kp kq kr mc kt ku kv md kx ky kz ij bi translated">我们必须将分类值转换成数字，以便它可以用作模型的输入。为此，我们将使用下面的代码片段。<br/><br/><em class="ms">embark = PD . get _ dummies(train[' Embarked ']，drop _ first =</em><strong class="ke ir"><em class="ms">True</em></strong><em class="ms">)Sex = PD . get _ dummies(train[' Sex ']，drop _ first =</em><strong class="ke ir"><em class="ms">True</em></strong><em class="ms">)</em></p><p id="6871" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">同样，我们必须删除所有不提供任何有意义信息的列，如“姓名”和“机票”以及之前的“上船”和“性别”，因为它们已被替换。我们还需要添加新创建的<em class="ms">着手</em>和<em class="ms">性别</em>列。</p><pre class="me mf mg mh gt mi mj mk ml aw mm bi"><span id="2a09" class="mn lc iq mj b gy mo mp l mq mr">train.drop(['Sex','Embarked','Name','Ticket'],axis=1,inplace=<strong class="mj ir">True</strong>)<br/>train=pd.concat([train,sex,embark],axis=1)</span></pre><p id="897c" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">现在，我们的数据集已准备好用作机器学习模型的输入。这是对泰坦尼克号数据集的详细分析。</p><p id="edb7" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">完整的代码可以在这里找到<a class="ae la" href="https://github.com/mohantyaditya/Exploratory-Data-Analysis-Titanic/blob/master/TitanicEda.ipynb" rel="noopener ugc nofollow" target="_blank">https://github . com/mohantyaditya/explorative-Data-Analysis-Titanic/blob/master/titaniceda . ipynb</a></p><p id="b848" class="pw-post-body-paragraph kc kd iq ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">要在linkedin上与我联系，请点击此链接<a class="ae la" href="https://www.linkedin.com/in/aditya-mohanty-7982451a9/" rel="noopener ugc nofollow" target="_blank">https://www.linkedin.com/in/aditya-mohanty-7982451a9/</a>。</p></div></div>    
</body>
</html>