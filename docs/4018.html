<html>
<head>
<title>Simple Graphing Techniques In Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Python中的简单绘图技术</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/simple-graphing-techniques-in-python-90063682e994?source=collection_archive---------7-----------------------#2020-07-19">https://medium.datadriveninvestor.com/simple-graphing-techniques-in-python-90063682e994?source=collection_archive---------7-----------------------#2020-07-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="926e" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">只使用了几行代码</h2></div><p id="cbf0" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">图表数据允许一个人分析模式，显示结果和整体；创造一种更容易理解的方式来快速传达信息。Python上的一个包Matplotlib让这变得非常容易。通过简单的编码，该软件包允许对Python有初步了解的个人能够创建既传达相关信息又以简单和吸引人的方式传达信息的图形。</p><h2 id="bf6c" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">导入Matplotlib</h2><p id="adcf" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">要导入matplotlib，请打开jupyter笔记本并输入:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a6f7" class="le lf it mh b gy ml mm l mn mo">import matplotlib as mpl <br/>import matplotlib.pyplot as plt </span></pre><p id="6fee" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这将导入绘制数据所需的包。确保您已经通过包“numpy”和“pandas”加载并调整了您的数据帧。</p><h2 id="9984" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">生成一个图</h2><p id="1eb9" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">去创造一个情节。你首先考虑的应该是你想要的那种剧情。<a class="ae mp" href="https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.DataFrame.plot.html" rel="noopener ugc nofollow" target="_blank">您的选项有:</a></p><ul class=""><li id="742a" class="mq mr it kk b kl km ko kp kr ms kv mt kz mu ld mv mw mx my bi translated">“线条”:线条图(默认)</li><li id="57fb" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“条形图”:垂直条形图</li><li id="f48d" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“barh”:水平条形图</li><li id="4cc9" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“历史”:直方图</li><li id="1a2f" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“方框”:方框图</li><li id="b9f6" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“kde”:核密度估计图</li><li id="fd23" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">'密度' :与' kde '相同</li><li id="c707" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“面积”:面积图</li><li id="61a5" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“饼图”:饼图</li><li id="80b0" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“散点图”:散点图</li><li id="1232" class="mq mr it kk b kl mz ko na kr nb kv nc kz nd ld mv mw mx my bi translated">“hex bin”:hex bin图</li></ul><p id="df1a" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">一旦你知道你想要什么样的情节，你就必须定义X和Y。比如说；使用散点图，您将编码:</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="9aba" class="le lf it mh b gy ml mm l mn mo">df.plot(kind = “scatter”, x = “x”, y = “y”) <br/>plt.show() </span></pre><p id="b165" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在这里，您将定义属于数据帧“df”的“x”和“y”。以直方图为例；由于X轴显示值的范围，Y轴显示频率，因此请确保定义了将使用的数据框的列。在这里，您可以使用“loc”和“iloc”来识别数据帧中的特定列。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="6d67" class="le lf it mh b gy ml mm l mn mo">df.iloc[: , :].plot(kind = “hist”) </span></pre><p id="e525" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">“iloc”和“loc”用于定位特定的行和列。<a class="ae mp" href="https://www.shanelynn.ie/select-pandas-dataframe-rows-and-columns-using-iloc-loc-and-ix/" rel="noopener ugc nofollow" target="_blank">这个链接会解释更多</a>。</p><p id="8c33" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">如上所述，您已经看到了两种编码图形方法。一个是定义图的类型以及“x”和“y ”,另一个是先定义“x”和“y ”,然后定义图的类型。创建图形的另一种方法是将绘图类型定义为命令的一部分。这是它看起来的样子。</p><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="d9f1" class="le lf it mh b gy ml mm l mn mo">df.plot.line(x = “x”, y = “y”) </span></pre><h2 id="8717" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">几个实际例子</h2><p id="ab18" class="pw-post-body-paragraph ki kj it kk b kl lx ju kn ko ly jx kq kr lz kt ku kv ma kx ky kz mb lb lc ld im bi translated">对于这个例子，我使用的是来自<a class="ae mp" href="https://apps.bea.gov/iTable/iTable.cfm?reqid=70&amp;step=1#reqid=70&amp;step=1" rel="noopener ugc nofollow" target="_blank">美国经济分析局</a>的各州和地区的GDP。这显示了从1997年到2019年每个州、地区和整个美国数百万的GDP (2012美元)。使用这些数据，我将创建一个折线图，饼图，条形图和面积图。</p><h2 id="975d" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">线形图</h2><figure class="mc md me mf gt nf gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/bccf6746ea4f88b4adcb0f667c48bd0e.png" data-original-src="https://miro.medium.com/v2/resize:fit:772/format:webp/1*KPbCK92RRjpt8JbzxnROUQ.png"/></div></figure><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="c5e1" class="le lf it mh b gy ml mm l mn mo">df.iloc[0, 1:23].plot(kind = “line”)</span><span id="0a01" class="le lf it mh b gy ni mm l mn mo">plt.xlabel(“Years”) </span><span id="5916" class="le lf it mh b gy ni mm l mn mo">plt.ylabel(“GDP in Million”) </span><span id="9e8c" class="le lf it mh b gy ni mm l mn mo">plt.title(“GDP United States”)</span></pre><p id="3a6b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用“iloc[]”，我们选择数据的第一行(美国GDP)和第二至第二十四列(1997年至2019年)。通过这个简单的代码，我们得到了一个线图。</p><h2 id="e941" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">圆形分格统计图表</h2><figure class="mc md me mf gt nf gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/e57912d9232361fed441cd8a91f48315.png" data-original-src="https://miro.medium.com/v2/resize:fit:558/format:webp/1*g2jiXNcuAAhpAjw1qcj_2Q.png"/></div></figure><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="0a4f" class="le lf it mh b gy ml mm l mn mo">df2["2019"].plot(kind = "pie", autopct='%1.0f%%')</span></pre><p id="24b8" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">使用“df2[“2019”]”我们标识包含2019年美国各地区GDP的列名2019。Python自动知道我们正在测量区域，区域列被设置为数据框的索引。autopct = ' % 1.0f % % '确保python自动计算每个区域的百分比，并在饼图中对其进行标记。</p><h2 id="618b" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">条形图</h2><figure class="mc md me mf gt nf gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/8d7c630b2667a916060f236616970bca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*smcJ8-xfF9a3w1xRBLvevw.png"/></div></figure><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="8152" class="le lf it mh b gy ml mm l mn mo">df_statesonly["2019"].plot(kind = "bar")</span><span id="db35" class="le lf it mh b gy ni mm l mn mo">plt.gcf().set_size_inches(10, 6)</span><span id="c0e3" class="le lf it mh b gy ni mm l mn mo">plt.title("GDP by State, United States") </span><span id="2903" class="le lf it mh b gy ni mm l mn mo">plt.ylabel("GDP in Millions") </span><span id="cfe2" class="le lf it mh b gy ni mm l mn mo">plt.xlabel("Name Of State")</span></pre><p id="a899" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">该图显示了2019年美国各州的GDP，单位为百万美元。在这里，随着条形图，你会看到轴和标题标签。这是使用plt.xlabel、plt.ylabel和plt.title. plt.gcf()完成的。set_size_inches()定义了图形的大小，以确保所有的州名都合适并且清晰易读。</p><h2 id="9983" class="le lf it bd lg lh li dn lj lk ll dp lm kr ln lo lp kv lq lr ls kz lt lu lv lw bi translated">对比图</h2><figure class="mc md me mf gt nf gh gi paragraph-image"><div role="button" tabindex="0" class="nm nn di no bf np"><div class="gh gi nl"><img src="../Images/0e0286044b18da4bfcd40defa19ef2f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_RFkxRG6eqlXJiW2P0pt5g.png"/></div></div></figure><pre class="mc md me mf gt mg mh mi mj aw mk bi"><span id="a032" class="le lf it mh b gy ml mm l mn mo">dffinal.plot(kind = "area")</span><span id="9de7" class="le lf it mh b gy ni mm l mn mo">plt.gcf().set_size_inches(10, 6)</span><span id="333e" class="le lf it mh b gy ni mm l mn mo">plt.legend(bbox_to_anchor=(1.005, 1.0))</span></pre><p id="7902" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">面积图显示了2015年至2019年美国每个地区的GDP水平，一个叠一个。这里PLT . legend(bbox _ to _ anchor =(1.005，1.0))定义了图例应该离图形多远。</p><p id="d941" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">Matplotlib只需几行代码，就可以制作出这种简单而信息丰富的图形和图表。探索matplotlib.pyplot的文档将允许你用你能构建的图形和图表进行创造性和创新。</p></div></div>    
</body>
</html>