<html>
<head>
<title>How to save time when setting up your database in the development stage with Ruby on Rails</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Ruby on Rails在开发阶段设置数据库时如何节省时间</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/how-to-save-time-when-setting-up-your-database-in-the-development-stage-with-ruby-on-rails-a57dd18f5d58?source=collection_archive---------18-----------------------#2020-09-27">https://medium.datadriveninvestor.com/how-to-save-time-when-setting-up-your-database-in-the-development-stage-with-ruby-on-rails-a57dd18f5d58?source=collection_archive---------18-----------------------#2020-09-27</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/6f44232d730829303a2a1edb6f86eebe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*5Ldy9OI0zsj3lXCcu0fDXw.png"/></div></div></figure><p id="2bc9" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">在您的初始设置错误，你发现自己不得不放弃你的数据库，并修改你的错误或添加更多的信息。因此，为了让您的项目正常工作，您需要创建一个新的数据库，运行您的迁移并重新播种您的数据库。各按部就班！如果您可以在终端中用一行if命令完成所有这些工作，那会怎么样？有了Ruby你就可以。</p><div class="kw kx gp gr ky kz"><a href="https://www.datadriveninvestor.com/2020/09/11/the-uselessness-of-centralized-economic-development-and-the-hope-of-ubi/" rel="noopener  ugc nofollow" target="_blank"><div class="la ab fo"><div class="lb ab lc cl cj ld"><h2 class="bd ir gy z fp le fr fs lf fu fw ip bi translated">集中式经济发展的无用性和UBI |数据驱动投资者的希望</h2><div class="lg l"><h3 class="bd b gy z fp le fr fs lf fu fw dk translated">在我的家乡缅因州的乡村海岸，我们曾经有一个经济发展委员会，但它只不过是一个…</h3></div><div class="lh l"><p class="bd b dl z fp le fr fs lf fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="li l"><div class="lj l lk ll lm li ln jw kz"/></div></div></a></div><p id="a7af" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">但首先你需要优化你的设置，尤其是你的种子文件，这意味着在你的种子文件的顶层，你需要有一些代码行，在重新运行种子信息之前，删除你已经有的所有种子数据。当您必须重新播种数据时，这就是您处理任何重复问题的方式。这些行应该如下所示:</p><figure class="lp lq lr ls gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi lo"><img src="../Images/4290da43b387ed1547a93a8314d35632.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Jx2nB1t16FucdgxCeo7-XQ.png"/></div></div><figcaption class="lt lu gj gh gi lv lw bd b be z dk">top level code in your seed file</figcaption></figure><p id="89ea" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">好了，现在您在迁移文件中发现了一个错误，您可以运行另一个迁移来修复它，但是您处于开发阶段，丢弃(删除)整个数据库没有问题。因此，您在终端中运行这一行；</p><pre class="lp lq lr ls gt lx ly lz ma aw mb bi"><span id="7b8c" class="mc md iq ly b gy me mf l mg mh">rails db:drop </span></pre><p id="760b" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在你已经修改了你的错误，你需要创建一个新的数据库，只有当你使用postgresql时才需要，但是当你使用MySQL时这一步是不需要的；</p><pre class="lp lq lr ls gt lx ly lz ma aw mb bi"><span id="f5e8" class="mc md iq ly b gy me mf l mg mh">rails db:create</span></pre><p id="3eec" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">您的数据库已经启动，现在您需要运行您的迁移。因此你运行这条线；</p><pre class="lp lq lr ls gt lx ly lz ma aw mb bi"><span id="94fa" class="mc md iq ly b gy me mf l mg mh">rails db:migrate </span></pre><p id="3d1e" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">现在你需要重新播种你的数据库；</p><pre class="lp lq lr ls gt lx ly lz ma aw mb bi"><span id="267f" class="mc md iq ly b gy me mf l mg mh">rails db:seed</span></pre><p id="69fe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">最后，一切都完成了，您希望看到它，所以您启动了rails服务器。然而，在最初的开发阶段，在终端中反复运行这一行代码可能会很乏味。使用Ruby on Rails，只需一行代码就可以完成所有工作；</p><pre class="lp lq lr ls gt lx ly lz ma aw mb bi"><span id="5e3d" class="mc md iq ly b gy me mf l mg mh">rails db:reset </span></pre><p id="0628" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">使用这一行代码，您的数据库被删除，一个新的数据库被创建，您的迁移在一个新的数据库上完成，您的数据库被植入您的种子文件中的数据。所有的一切都在你的终端里。像魔术一样！</p><figure class="lp lq lr ls gt jr"><div class="bz fp l di"><div class="mi mj l"/></div></figure><p id="9ffe" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">祝您编码愉快，希望这能在您使用Ruby on Rails的初始开发阶段对您有所帮助。</p><p id="f01f" class="pw-post-body-paragraph jy jz iq ka b kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv ij bi translated">感谢阅读！</p><h2 id="26d1" class="mc md iq bd mk ml mm dn mn mo mp dp mq kj mr ms mt kn mu mv mw kr mx my mz na bi translated">访问专家视图— <a class="ae nb" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank">订阅DDI英特尔</a></h2></div></div>    
</body>
</html>