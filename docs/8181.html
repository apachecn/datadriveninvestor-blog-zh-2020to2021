<html>
<head>
<title>Building a High-Level Frontend Machine Learning Framework Based on the tfjs-node</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">基于tfjs-node构建高级前端机器学习框架</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/building-a-high-level-frontend-machine-learning-framework-based-on-the-tfjs-node-b3cf591deaf6?source=collection_archive---------16-----------------------#2021-01-04">https://medium.datadriveninvestor.com/building-a-high-level-frontend-machine-learning-framework-based-on-the-tfjs-node-b3cf591deaf6?source=collection_archive---------16-----------------------#2021-01-04</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div class="gh gi jn"><img src="../Images/578bae7930bb523c4a1cae2860f50cd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/0*vL6x4FdzIw9CnMMM.jpeg"/></div></figure><p id="edef" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><em class="ks"> By阙月</em></p><p id="10f3" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">随着深度学习的发展，我们生活的所有领域都在经历智能转型。作为定位最接近用户的团队，前端也希望利用AI能力来提高我们的效率，降低人力成本，为用户提供更好的体验。智能转型被视为前端领域未来的一个重要增长领域。</p><p id="d998" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">然而，以下问题阻碍了前端团队采用智能开发:</p><ul class=""><li id="3b1b" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">熟悉机器学习的算法工程师不了解前端业务或前端积累的数据及其潜在价值。因此，他们很难参与智能前端开发。</li><li id="ae36" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">传统前端工程师不懂机器学习中常用的语言，比如Python和C++。因此，语言学习和转换成本很高。</li><li id="ff32" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">传统前端工程师不懂深度学习的算法和原理。他们很难使用现有的机器学习框架，如TensorFlow和PyTorch来训练模型。</li></ul><p id="e111" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">为了解决这些问题，促进智能前端开发，我们开发了Pipcook。Pipcook使用前端友好的JavaScript (JS)环境，底层算法能力采用TensorFlow.js框架，封装了前端业务场景的算法。这使得前端工程师可以快速轻松地使用机器学习功能。</p><p id="304d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">本文描述了Pipcook如何与TensorFlow.js集成，以及如何使用tfjs-node的底层模型和计算能力来构建高级机器学习管道。要了解更多关于Pipcook的信息，请访问官方Github库，网址:【https://github.com/alibaba/pipcook<a class="ae lh" href="https://github.com/alibaba/pipcook" rel="noopener ugc nofollow" target="_blank"/></p><h1 id="8f76" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">为什么使用TensorFlow.js作为底层算法框架</h1><p id="9659" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">TensorFlow.js是Google在2018年发布的基于js的机器学习框架。谷歌此后将相关代码开源。Pipcook使用tfjs-node作为数据处理和模型训练的底层框架，在TensorFlow.js上开发插件，并将插件组装成管道。我们使用TensorFlow.js的原因如下:</p><ul class=""><li id="303c" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">Pipcook是为前端工程师设计的，是用JS开发的。因此，我们更喜欢基于JS的计算框架，以防止由于桥接其他语言而导致的性能损失或错误。</li><li id="520e" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">与其他基于JS的机器学习框架相比，TensorFlow通常用于C++和Python中。TensorFlow.js还重用C++底层功能和运算符来支持大量网络层、激活函数、优化器和其他组件。此外，它提供了良好的性能，并支持GPU。</li><li id="01ff" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">提供了诸如tfjs-converter之类的工具来将SavedModel或Keras模型转换成js模型。这样就可以重用很多成熟的Python模型。</li><li id="f343" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">JS没有复杂的数学能力，也没有像NumPy那样的科学计算库。一些类似的库很难与其他计算框架无缝集成。TensorFlow.js提供张量封装，相当于NumPy数组，TensorFlow.js模型允许高性能的张量训练。</li><li id="96b7" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">TensorFlow.js提供数据集API来抽象数据，封装简单高效的数据接口，支持批量数据处理。数据集API的数据流可以有效地与Pipcook管道相结合。</li></ul><h1 id="d8c8" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">TensorFlow.js数据处理</h1><p id="e474" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">为了进行机器学习，我们需要访问和处理大量数据。在一些数据量较小的传统场景中，我们可以一次将数据读入内存。但在深度学习场景下，数据量一般会超过内存大小。因此，我们需要根据需要访问数据源中的部分数据。TensorFlow.js提供的Dataset APIs可以封装这些场景中的数据。</p><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi ml"><img src="../Images/3561180e6c5a63bf37f8e18594aae2ca.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*NWHEbqTs4uRsQX0G.png"/></div></div></figure><p id="aa2d" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在标准的Pipcook管道中，我们将使用数据集API来封装和处理数据。上图显示了典型的数据流过程。</p><ul class=""><li id="284e" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">首先，数据收集插件将原始训练数据读入管道。原始数据可能是本地文件或存储在云中的数据。</li><li id="e96d" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">然后，数据收集插件确定数据格式，并将其封装到相应的张量中。</li><li id="0fef" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">数据访问插件访问数据并将张量封装到tf.dataset中，以便于后续的批量数据处理和训练。</li><li id="f7c8" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">数据处理插件处理数据，包括洗牌和增加操作。这些操作将使用用于数据集封装的运算符(如map)来批处理数据流中的数据。</li><li id="b01e" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">模型加载插件将数据批量读取到模型中进行训练。</li></ul><p id="23f4" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">我们可以把数据集看成一组迭代的训练数据，就像Node.js中的Stream，每次从数据集中请求下一个元素时，内部实现都会根据需要访问数据，并执行预置的数据处理函数。这种抽象允许模型轻松地训练大量数据。当我们有多个数据集时，它们可以被共享并组织成一个组进行抽象。</p><h1 id="b8d4" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">模特培训</h1><figure class="mm mn mo mp gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="mq mr di ms bf mt"><div class="gh gi mu"><img src="../Images/6210d2ab83be9c385399e34751b4c74b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*u69mPnn0NdQ-V4OU.png"/></div></div></figure><p id="b055" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">TensorFlow.js提供低级和高级API。低级API源自deeplearn.js，包含构建模型所需的运算符。它们处理机器学习中的数学运算，比如简单的线性代数数据运算。高层API封装了常见的机器学习算法，并允许我们加载经过训练的模型，如Keras模型。</p><p id="b335" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">Pipcook使用插件来开发和运行模型。每个模型加载插件加载一个特定的模型，大部分模型都是基于TensorFlow.js实现的，tfjs-node还提供了加速模型训练的特性，比如GPU加速。由于生态系统和其他当前条件，目前在TensorFlow.js中实现某些模型是昂贵的。为了解决这个问题，Pipcook提供了Python桥接和其他方法，允许你在JS运行时环境中调用Python来训练模型。我们将在后续文章中描述桥接细节。</p><h1 id="27ca" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">部署</h1><p id="c591" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">一个工业级的机器学习管道需要一个方法，在训练之后部署你的模型。这样，模型就可以服务于真实的企业。目前，Pipcook提供了以下部署解决方案，可以使用model deploy插件来实现。</p><ul class=""><li id="6cba" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated"><strong class="jw ir">快速验证:</strong>您可能希望用少量数据和几个历元快速测试您的数据和模型。在这个场景中，我们不需要在将模型部署到远程端之后执行验证。Pipcook嵌入了一个本地部署插件。模型训练完成后，Pipcook将在本地启动一个预测服务器来提供预测服务。</li><li id="c655" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><strong class="jw ir"> Docker图片</strong> : Pipcook提供官方图片，包含训练和预测所需的环境。您可以将映像部署到您的部署主机，或者使用Kubernetes集群或其他解决方案来管理Docker映像。</li><li id="7234" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated"><strong class="jw ir">云服务整合:</strong> Pipcook将整合不同云服务提供商提供的机器学习部署服务。在当前阶段，谷歌云已经将TensorFlow.js与自动机器学习(AutoML)集成在一起。Pipcook将在未来支持阿里云、AWS和其他服务。</li></ul><h1 id="947b" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">与TFX的比较</h1><p id="1cbc" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">我们的最终目标是一个成熟的工业级机器学习管道，可以将优秀的模型应用到生产环境中。为了实现同样的目标，谷歌发布了基于其实践的开源产品TensorFlow Extended (TFX)。你可能想知道皮普克和TFX有什么不同。Pipcook并不是为了取代任何其他框架而设计的，尤其是基于Python生态系统的产品。Pipcook旨在推动智能前端开发。因此，Pipcook使用面向前端的技术栈和基于产品的方法。</p><ul class=""><li id="942e" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">TFX使用有向无环图(DAG)方法，因为它涉及多个操作，如数据生成、统计分析、数据验证和数据转换。这些操作可以自由组合。然而，大多数前端场景不涉及复杂的组合操作。因此，Pipcook使用管道方法将数据操作抽象为管道中的简单插件，降低了对前端工程师的要求。</li><li id="2326" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">TFX使用Apache Airflow进行调度，而Pipcook使用前端技术栈进行此类操作。例如，我们使用响应式框架，如Rxjs，以串行方式响应和连接不同的插件，便于前端人员理解和贡献代码。</li><li id="c088" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">此外，Pipcook提供基于JS的API，帮助前端人员降低学习和使用成本。</li></ul><p id="4974" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">基于前面的设计，我们试图建立一个前端友好的机器学习环境，以满足我们的期望和目标。</p><h1 id="6f50" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">观点</h1><p id="1cf5" class="pw-post-body-paragraph ju jv iq jw b jx mg jz ka kb mh kd ke kf mi kh ki kj mj kl km kn mk kp kq kr ij bi translated">Pipcook已经开源一个月左右了。在此期间，我们收到了一些用户反馈。我们希望利用开源社区的能力来优化Pipcook，以便它能够促进智能前端开发。为了进一步发展Pipcook，我们计划:</p><ul class=""><li id="10ec" class="kt ku iq jw b jx jy kb kc kf kv kj kw kn kx kr ky kz la lb bi translated">与云服务提供商合作，如阿里云、AWS、谷歌云，在Pipcook和不同云服务之间建立机器学习链接</li><li id="d241" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">优化生态系统，提供Pipcook试用版，让用户更容易上手</li><li id="717d" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">支持分布式培训</li><li id="8ddd" class="kt ku iq jw b jx lc kb ld kf le kj lf kn lg kr ky kz la lb bi translated">提供多样化插件，优化模型，支持更多管道。</li></ul><p id="aa5b" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated">在未来，我们希望结合阿里巴巴智能前端团队和整个开源社区的力量，不断优化Pipcook及其所代表的智能前端功能。这样可以为智能前端能力提供包容性的技术解决方案，积累更多有竞争力的样本和模型，提供更高准确率和可用性的智能代码生成服务，提高前端R &amp; D效率。此外，前端工程师将不再需要做简单重复的工作，让他们有更多的时间专注于具有挑战性的工作。</p><h1 id="dd89" class="li lj iq bd lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf bi translated">原始来源:</h1><div class="mv mw gp gr mx my"><a href="https://www.alibabacloud.com/blog/building-a-high-level-frontend-machine-learning-framework-based-on-the-tfjs-node_596990" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">基于tfjs-node构建高级前端机器学习框架</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">本文描述了Pipcook如何与TensorFlow集成，以及tfjs-node的底层模型如何用于…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">www.alibabacloud.com</p></div></div><div class="nh l"><div class="ni l nj nk nl nh nm js my"/></div></div></a></div><div class="mv mw gp gr mx my"><a href="https://www.datadriveninvestor.com/2020/11/19/how-machine-learning-and-artificial-intelligence-changing-the-face-of-ecommerce/" rel="noopener  ugc nofollow" target="_blank"><div class="mz ab fo"><div class="na ab nb cl cj nc"><h2 class="bd ir gy z fp nd fr fs ne fu fw ip bi translated">机器学习和人工智能如何改变电子商务的面貌？|数据驱动…</h2><div class="nf l"><h3 class="bd b gy z fp nd fr fs ne fu fw dk translated">电子商务开发公司，现在，整合先进的客户体验到一个新的水平…</h3></div><div class="ng l"><p class="bd b dl z fp nd fr fs ne fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="nh l"><div class="nn l nj nk nl nh nm js my"/></div></div></a></div><p id="3076" class="pw-post-body-paragraph ju jv iq jw b jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ij bi translated"><strong class="jw ir">访问专家视图— </strong> <a class="ae lh" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="jw ir">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>