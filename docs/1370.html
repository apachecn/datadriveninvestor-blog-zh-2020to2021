<html>
<head>
<title>Making an Advice Button with JS</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用JS制作一个建议按钮</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/making-an-advice-button-with-js-5a1ed3b500fa?source=collection_archive---------20-----------------------#2020-03-14">https://medium.datadriveninvestor.com/making-an-advice-button-with-js-5a1ed3b500fa?source=collection_archive---------20-----------------------#2020-03-14</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><h1 id="7e33" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">我们将构建什么:</h1><p id="473e" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">在这个项目中，我们将制作这个超级酷、超级有用的建议页面(点击图片查看<a class="ae lj" href="https://codepen.io/LKRR/pen/WNvMXyy" rel="noopener ugc nofollow" target="_blank"> Codepen </a>):</p><figure class="ll lm ln lo gt lp gh gi paragraph-image"><a href="https://codepen.io/LKRR/pen/WNvMXyy"><div class="gh gi lk"><img src="../Images/c515a82dbd90b0740770fd58fa3a66fa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1396/format:webp/1*Sb2m_CYdYadc7o_vb1oe5g.png"/></div></a></figure><p id="a916" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated"><strong class="kn ir"> <em class="lx">免责声明</em> : </strong> <em class="lx">这是一篇初学JS的文章，并不是为了给出重要的生活建议。这只是为了展示JS的一点能力。所以不要以此为基础做人生决定。</em></p><p id="0c04" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">现在，这是一种方式，让我们进入它…</p><h1 id="0657" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">第一步:设置。</h1><p id="fc21" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这个项目需要一个带有CSS样式表的HTML文件和一个单独的JS文件。如果你不想手工编码，你可以使用HTML Shell或者从我的Github repo下载一个模板。</p><h1 id="e755" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">第二步:HMTL</h1><p id="a20a" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">我们这个应用程序本身的HTML非常简单。我们需要两样东西:</p><ul class=""><li id="87aa" class="ly lz iq kn b ko ls ks lt kw ma la mb le mc li md me mf mg bi translated">一个带有一些最终会显示建议的填充文本的<code class="fe mh mi mj mk b">paragraph</code>。</li><li id="c2be" class="ly lz iq kn b ko ml ks mm kw mn la mo le mp li md me mf mg bi translated">一个启动<code class="fe mh mi mj mk b">giveAdvice()</code>函数的按钮——我们稍后将构建这个函数。</li></ul><p id="1983" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">这些应该被包在一个<code class="fe mh mi mj mk b">&lt;div&gt;</code>中，以帮助以后的造型。我们的HTML看起来像这样:</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="f95b" class="mu jo iq mk b gy mv mw l mx my">&lt;body&gt;<br/>  &lt;div class="app"&gt;<br/>   &lt;p id="advice"&gt;Advice will appear here.&lt;/p&gt;<br/>   &lt;button onclick="displayAdvice()"&gt;Advise Me!&lt;/button&gt;<br/>  &lt;/div&gt;<br/>  &lt;script src="advice.js"&gt;&lt;/script&gt;<br/> &lt;/body&gt;</span></pre><p id="8eaf" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">稍后我们将关注下拉菜单来选择我们的风格模式。</p><h1 id="7614" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">第三步:变量</h1><p id="3048" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这个项目中的数据存储在两个变量中。首先，我们需要一个包含我们建议的对象。你可以尽可能多的采纳建议，但是我推荐至少10条(毕竟，没有人喜欢重复的建议。)</p><p id="ec37" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated"><strong class="kn ir">注意:</strong>由于JS对象是零索引的，所以将第一条建议编号为0是有意义的，而不是1。这也将有助于以后构建我们的函数。</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="1739" class="mu jo iq mk b gy mv mw l mx my">const advice = {<br/> 0: "Follow your heart",<br/> 1: "Advice is what you ask for when you already know the answer but wish you didn't.",<br/> 2: "You know the answer to that.",<br/> 3: "Don't repeat past mistakes.",<br/> 4: "The only true mistake is a lesson not learned.",<br/> 5: "If you're hiding, don't light a fire.",<br/> 6: "Keep an open mind.",<br/> 7: "Seize the day.",<br/> 8: "Don't pray for an easy life. Pray for the strength to endure a difficult one.",<br/> 9: "A stitch in time saves nine."<br/>};</span></pre><p id="6564" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">接下来，我们需要一个名为<code class="fe mh mi mj mk b">num</code>的变量，在这个变量中，我们使用<code class="fe mh mi mj mk b">math.floor().</code>生成一个随机数，以确保所有的建议都被使用，将<code class="fe mh mi mj mk b">math.floor()</code>的结果乘以建议的数量。<code class="fe mh mi mj mk b">math.floor()</code>可以产生0，因此第一条建议需要编号为0而不是1。</p><p id="c7aa" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated"><code class="fe mh mi mj mk b">let num = Math.floor(Math.random() * 10);</code></p><h1 id="dd5c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">步骤4:交换HTML</h1><p id="f3b7" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">接下来，我们希望我们的段落显示与我们生成的随机数相对应的建议。我们用一行简单的代码做到了这一点:</p><p id="3074" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated"><code class="fe mh mi mj mk b">document.getElementById(“advice”).innerHTML = advice[num];</code></p><h1 id="ea3e" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">第五步:功能</h1><p id="630d" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">这一切都很好，但迄今为止，我们的建议只在页面负载上有所改变。为了在点击按钮时获得新的建议，我们需要创建一个函数(<code class="fe mh mi mj mk b">displayAdvice()</code>)，然后在按钮的<code class="fe mh mi mj mk b">onclick</code>上运行它。</p><p id="d065" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">我们通过移动随机数变量(<code class="fe mh mi mj mk b">num</code>)和JS来实现这一点，JS将我们的HTML换成一个函数声明:</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="bb6a" class="mu jo iq mk b gy mv mw l mx my"><strong class="mk ir">function displayAdvice() {</strong><br/> let num = Math.floor(Math.random() * 10);</span><span id="89d8" class="mu jo iq mk b gy mz mw l mx my"> document.getElementById("advice").innerHTML = advice[num];<br/><strong class="mk ir">}</strong></span></pre><p id="4f59" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">按钮的HMTL应该是这样的:</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="440f" class="mu jo iq mk b gy mv mw l mx my">&lt;button onclick="displayAdvice()"&gt;Advise Me!&lt;/button&gt;</span></pre><h1 id="a8a3" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">造型——概述:</h1><p id="9a98" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在是有趣的部分，或者如果你讨厌CSS，是糟糕的部分。建议有多种形式；一个普通的音符，写在星星上，或者出现在云里。为了显示这些不同的建议风格，我们将使用单独的CSS类，或“模式”。</p><p id="0129" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">在添加我们的模式之前，我们将添加一些在所有情况下都适用于应用程序的通用CSS规则。</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="a59d" class="mu jo iq mk b gy mv mw l mx my">.app {<br/> height: 200px;<br/> width: 900px;<br/> margin: 0 auto;<br/> text-align: center;<br/>}</span><span id="619c" class="mu jo iq mk b gy mz mw l mx my">p {<br/> font-size: 50px;<br/>}</span><span id="a908" class="mu jo iq mk b gy mz mw l mx my">button {<br/> font-size: 20px;<br/> border-radius: 10px;<br/> cursor: pointer;<br/>}</span><span id="7383" class="mu jo iq mk b gy mz mw l mx my">label {<br/> font-size: 30px;<br/>}</span><span id="0832" class="mu jo iq mk b gy mz mw l mx my">.mode-select {<br/> display: block;<br/> padding-top: 30px;<br/>}</span><span id="fca7" class="mu jo iq mk b gy mz mw l mx my">select {<br/> font-size: 20px;<br/>}</span></pre><h1 id="037c" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">样式—模式</h1><p id="35b8" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">现在来玩玩模式。我已经尝试了三种模式(普通、云和星星)，但是你可以随意添加。</p><figure class="ll lm ln lo gt lp"><div class="bz fp l di"><div class="na nb l"/></div></figure><p id="878a" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">我们将通过让用户使用<code class="fe mh mi mj mk b">onchange</code>从我们的应用程序的下拉列表中选择来切换模式。我们将它添加到HTML中:</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="c01b" class="mu jo iq mk b gy mv mw l mx my">&lt;div class="mode-select"&gt;<br/>  &lt;label for="modes"&gt;Choose a mode: &lt;/label&gt;<br/>  &lt;select id="modes" <strong class="mk ir">onchange="showMode()"</strong>&gt;<br/>     &lt;option value="plain"&gt;Plain&lt;/option&gt;<br/>     &lt;option value="clouds"&gt;Clouds&lt;/option&gt;<br/>     &lt;option value="stars"&gt;Stars&lt;/option&gt;<br/>  &lt;/select&gt;<br/> &lt;/div&gt;</span></pre><p id="46c7" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">我们的模式的CSS如下(注意字体是从Google fonts作为CSS文件的顶部导入的):</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="6e48" class="mu jo iq mk b gy mv mw l mx my">.clouds {<br/> background-color: lightcyan;<br/> color: white;<br/> text-shadow: -1px 0 black, 0 1px black, 1px 0 black, 0 -1px black;<br/> font-family: "Fredoka One", Helvetica, sans-serif;<br/>}</span><span id="9be2" class="mu jo iq mk b gy mz mw l mx my">.stars {<br/> background-color: black;<br/> color: lightgrey;<br/> font-family: "Monoton", Helvetica, sans-serif;<br/>}</span></pre><p id="f0d3" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">你可能已经注意到<code class="fe mh mi mj mk b">plain</code>模式没有单独的类。这是因为<code class="fe mh mi mj mk b">plain</code>是页面加载上显示的默认值。要显示它，我们只需将其添加到<code class="fe mh mi mj mk b">body</code>标签上的样式中:</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="9068" class="mu jo iq mk b gy mv mw l mx my">body {<br/> background-color: white;<br/> color: black;<br/> font-family: "Special Elite";<br/>}</span></pre><p id="bd55" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">现在，在我们的JS中，我们构建了一个函数<code class="fe mh mi mj mk b">showMode()</code>，当用户选择它时，它显示相关的模式。<strong class="kn ir">注意:</strong>每个模式还必须移除任何先前的模式，以确保模式正确显示。<code class="fe mh mi mj mk b">else</code>子句删除所有先前使用的模式，并将样式设置回pageload上显示的<code class="fe mh mi mj mk b">plain</code>模式。</p><pre class="ll lm ln lo gt mq mk mr ms aw mt bi"><span id="c251" class="mu jo iq mk b gy mv mw l mx my">function showMode() {<br/> let mode = document.getElementById("modes").value;</span><span id="00e7" class="mu jo iq mk b gy mz mw l mx my">if (mode == "clouds") {<br/>  let element = document.body;<br/>  element.classList.remove("plain");<br/>  element.classList.remove("stars");<br/>  element.classList.add("clouds");<br/> } else if (mode == "stars") {<br/>  let element = document.body;<br/>  element.classList.remove("plain");<br/>  element.classList.remove("clouds");<br/>  element.classList.add("stars");<br/> } else {<br/>  let element = document.body;<br/>  element.classList.remove("clouds");<br/>  element.classList.remove("stars");<br/> }<br/>}</span></pre><p id="162f" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">现在我们已经完成了，我们的建议按钮也完成了！随便你问它什么！</p><h1 id="6692" class="jn jo iq bd jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk bi translated">挑战挑战:</h1><p id="8f92" class="pw-post-body-paragraph kl km iq kn b ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li ij bi translated">如果你想测试你的编码技能，这里有一些更棘手的挑战。代码世界是你的牡蛎！</p><ul class=""><li id="03a3" class="ly lz iq kn b ko ls ks lt kw ma la mb le mc li md me mf mg bi translated">想办法确保同一条建议不会连续重复两次。</li><li id="5cc9" class="ly lz iq kn b ko ml ks mm kw mn la mo le mp li md me mf mg bi translated">再添加几个模式样式</li><li id="34c5" class="ly lz iq kn b ko ml ks mm kw mn la mo le mp li md me mf mg bi translated">生成一个“随机”模式，随机显示现有模式之一。</li></ul><p id="5bbe" class="pw-post-body-paragraph kl km iq kn b ko ls kq kr ks lt ku kv kw lu ky kz la lv lc ld le lw lg lh li ij bi translated">编码快乐！:)</p></div></div>    
</body>
</html>