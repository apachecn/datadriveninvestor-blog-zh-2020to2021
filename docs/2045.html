<html>
<head>
<title>HR Analytics with Data Science</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">数据科学下的人力资源分析</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/hr-analytics-with-data-science-adc1649f4596?source=collection_archive---------0-----------------------#2020-04-11">https://medium.datadriveninvestor.com/hr-analytics-with-data-science-adc1649f4596?source=collection_archive---------0-----------------------#2020-04-11</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="8409" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">预测员工流失</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/a310e0ef892e6f91e45e63807de42ac9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*7Jo1QA-7pzC7TR7zcby9Tw.jpeg"/></div></div></figure><p id="e46c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">员工流失率是指一个组织中现有员工离职和新员工入职时的整体人员流动率。T2的离职率通常计算为特定时期内员工离开公司的百分比。尽管一些员工的流动是不可避免的，但是T4的高流失率是很昂贵的。</p><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ko"><img src="../Images/fac746b97aed7cbcb6c45587f9109ce3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*PcyfLpXM5B9bwKuFB8WVvg.png"/></div></div></figure><p id="07d2" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个项目旨在给出一个完整的过程描述，用来预测一个公司中可能的员工流失。对一些公司来说，员工流失可能是一个上千万美元的问题。使用数据科学程序，公司可以预测可能离职的员工，还可以使用探索性数据分析来发现模式，这些模式可以告知员工可能决定离职的原因。这个项目的数据集可以在这里找到<a class="ae la" href="https://github.com/simmieyungie/HR-Analytics/tree/master" rel="noopener ugc nofollow" target="_blank"/>:为了给这个项目一点混合，R用于EDA程序，Python用于机器学习项目。这两个脚本都可以在数据集旁边的链接中找到。</p><p id="6d04" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">要启动此过程，请加载数据集并执行以下操作:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="7401" class="lg lh it lc b gy li lj l lk ll">#Read newly saved file<br/>attrition &lt;- read.csv("attrition.csv", stringsAsFactors = T)</span><span id="07e4" class="lg lh it lc b gy lm lj l lk ll">#Examine data structures<br/>str(attrition)</span><span id="e379" class="lg lh it lc b gy lm lj l lk ll">#Lets start with some correlation relationships<br/>library(polycor)<br/>attrition_corr &lt;- hetcor(attrition)<br/>attrition_corr$correlations %&gt;% <br/>  melt() %&gt;% <br/>  ggplot(., aes(Var1, Var2, fill = value)) +<br/>  geom_tile() +<br/>  scale_fill_gradient(low = "grey", high = "darkred") +<br/>  geom_text(aes(Var1, Var2, label = round(value,2)), size = 2)+<br/>  labs(title = "Correlation Matrix", x = "Numeric column", y = "Numeric Column",<br/>       fill = "Coefficient Range") +<br/>  theme(axis.text.x = element_text(vjust = 0.5, angle = 45),<br/>        plot.title = element_text(face = "bold", hjust = 0.5))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi ln"><img src="../Images/7be6c8b5fac98e7ae533874316c0b7f7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tyNIxmOpBAu0vxczmQrh3Q.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">The Correlation Matrix</figcaption></figure><p id="72ec" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">如上所述，这是一种相关性分析，用于检查数据集中变量之间的关系。</p><div class="ls lt gp gr lu lv"><a href="https://www.datadriveninvestor.com/2019/01/23/which-is-more-promising-data-science-or-software-engineering/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd iu gy z fp ma fr fs mb fu fw is bi translated">数据科学和软件工程哪个更有前途？数据驱动的投资者</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">大约一个月前，当我坐在咖啡馆里为一个客户开发网站时，我发现了这个女人…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj ky lv"/></div></div></a></div><p id="2c12" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们来看看现有员工与离职员工的比例:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="f129" class="lg lh it lc b gy li lj l lk ll">#Lets examine the class <br/>attrition %&gt;% <br/>  count(status) %&gt;% <br/>  ggplot(., aes(status, n, fill = status)) +<br/>  geom_bar(stat = "identity") +<br/>  ggtitle("Existing staffs vs Exits")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mk"><img src="../Images/3ca7e2f197667067c464563afdadebd2.png" data-original-src="https://miro.medium.com/v2/resize:fit:1156/format:webp/1*F6k_7yZY4LXoNSteYR6vAw.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Existing Staffs vs Exits</figcaption></figure><p id="2375" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">接下来，我们检查员工人数最多的部门:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="f6a7" class="lg lh it lc b gy li lj l lk ll">#Department with highest mumber of employess<br/>attrition %&gt;% <br/>  count(dept) %&gt;% <br/>  ggplot(., aes(reorder(dept, n), n, fill = n)) +<br/>  geom_bar(stat = "identity") +<br/>  coord_flip() +<br/>  labs(title = "Deparment staff counts",<br/>       x = "Department")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ml"><img src="../Images/4ccaa149eb6927260c146943a370a99b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1292/format:webp/1*y_F2MAklTSw7vuuzg5Kw0w.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Staff Counts by Department</figcaption></figure><p id="c136" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">销售部门显然拥有最多的员工，管理部门拥有最少的员工。有了这些信息，我们可以尝试查看人员流动率最高的部门:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="af6b" class="lg lh it lc b gy li lj l lk ll">#Lets examine the department who has more people who left<br/>attrition %&gt;% <br/>  count(status, dept) %&gt;% <br/>  filter(status == "left") %&gt;% <br/>  ggplot(., aes(reorder(dept,n), n, fill = n)) +<br/>  geom_bar(stat = "identity") +<br/>  coord_flip() +<br/>  ggtitle("Department with Largest Attrition Number") +<br/>  xlab("Department")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mm"><img src="../Images/68916270cc6dc8680ff4708fb2ffe1d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1186/format:webp/1*6vLHurBos1D62U2GHE-AMw.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Attrition count by Department</figcaption></figure><p id="4822" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">部门规模和该部门的减员数之间似乎存在关系。要检查这种关系:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="b05e" class="lg lh it lc b gy li lj l lk ll">#relationship between department size and the churn size<br/>cbind.data.frame(size = attrition %&gt;% <br/>                   count(dept) %&gt;% <br/>                   select(n),<br/>                 churn = attrition %&gt;% <br/>                   count(status, dept) %&gt;% <br/>                   filter(status == "left") %&gt;% <br/>                   select(n))<br/>#There is a relationship of 0.993</span></pre><p id="6e25" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们还会继续查看所有部门的平均工作时间:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="11d7" class="lg lh it lc b gy li lj l lk ll">#Examine the average working hrs of each dept<br/>attrition %&gt;% <br/>  group_by(dept) %&gt;% <br/>  summarise(n = mean(average_montly_hours)) %&gt;% <br/>  ggplot(., aes(reorder(dept,n), n, fill = n)) +<br/>  geom_bar(stat = "identity") +<br/>  coord_flip()</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mn"><img src="../Images/ccdaa18e3c6c60aa1874aad5b1638481.png" data-original-src="https://miro.medium.com/v2/resize:fit:1314/format:webp/1*SlfOZIY9duwvSlB30W4Ijw.png"/></div></figure><p id="4f18" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">所有部门的平均工作时间几乎相等。检查所有部门的薪资分布可能会让我们对数据集有更深入的了解:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="b94d" class="lg lh it lc b gy li lj l lk ll">#Dept with the lowest salary range<br/>attrition %&gt;% <br/>  group_by(dept) %&gt;% <br/>  count(salary, sort = T) %&gt;% <br/>  ggplot(., aes(reorder(dept, n), n, fill = salary)) +<br/>  geom_bar(stat = "identity") +<br/>  coord_flip() +<br/>  ggtitle("Salary range by department")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mo"><img src="../Images/22c7374497b6639097c2431af5dd1963.png" data-original-src="https://miro.medium.com/v2/resize:fit:1250/format:webp/1*KUsMdNeub6AY_xtByQ_5aw.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Salary Range Distribution across Departments</figcaption></figure><p id="2529" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">可以看出，所有部门的工资都比其他范围低，其次是中等。管理部门是唯一一个看起来处于中高工资区间的部门。为了更深入地了解每个部门的人员流动情况，重要的是要严格检查每个部门现有员工和离职员工的比例:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="bc93" class="lg lh it lc b gy li lj l lk ll">#ratio of people in a dept versus those who left<br/>attrition %&gt;% <br/>  group_by(dept) %&gt;% <br/>  count(status) %&gt;% <br/>  mutate(n2 = sum(n)) %&gt;% <br/>  mutate(n3 = n/n2) %&gt;% <br/>  ggplot(., aes(x = "", y = n3, fill = status)) +<br/>  geom_bar(stat = "identity", width = 2) +<br/>  coord_polar(theta = "y") +<br/>  facet_wrap(~dept) +<br/>  scale_fill_manual(values=c("#999999", "#E69F00"))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mp"><img src="../Images/1bdaf0df153ef847e696dbb61746dcb9.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*obXD-MPzxkYXKXuJiFP_HA.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">The Ratio of existing employees and those who left individually</figcaption></figure><p id="32c8" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">为什么是这种可视化？</p><p id="b41c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这种可视化可以帮助我们去除规模，仔细观察每个部门的流失率。例如，销售部门拥有最多的员工，但是与人力资源部门相比，它的流失率实际上要小一些，而人力资源部门的员工数量仅次于销售部门。继续检查每个部门的平均满意度:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="3192" class="lg lh it lc b gy li lj l lk ll">#Satisfaction level by department<br/>attrition %&gt;% <br/>  group_by(dept) %&gt;% <br/>  summarise(level = mean(satisfaction_level)) %&gt;% <br/>  ggplot(., aes(reorder(dept, level), level, fill = dept)) +<br/>  geom_bar(stat = "identity") +<br/>  coord_flip() +<br/>  ggtitle("Satisfaction Level by Department")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/25d2abb439d5242479d017aefbfb5136.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*Z4f0FvqfszxtHwqAbeajLw.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Satisfaction Level</figcaption></figure><p id="0835" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们可以看看离开或留下的人的比例以及执行的项目数量:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="4936" class="lg lh it lc b gy li lj l lk ll">#Ratio of people who left and are remaining by the number of projects they conducted<br/>attrition %&gt;% <br/>  group_by(number_project) %&gt;% <br/>  count(status) %&gt;% <br/>  ggplot(., aes(factor(number_project), n, fill = status)) +<br/>  geom_bar(stat = "identity")</span><span id="88ba" class="lg lh it lc b gy lm lj l lk ll">attrition %&gt;% <br/>  group_by(number_project) %&gt;% <br/>  count(status) %&gt;% <br/>  mutate(n2 = sum(n)) %&gt;% <br/>  ungroup() %&gt;% <br/>  mutate(n3 = n/n2) %&gt;% <br/>  ggplot(., aes(x = "", y = n3, fill = status)) +<br/>  geom_bar(stat = "identity", width = 2) +<br/>  coord_polar(theta = "y") +<br/>  facet_wrap(~number_project) +<br/>  scale_fill_manual(values=c("#999999", "#E69F00"))</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi mr"><img src="../Images/3748b36885e0374627ea29715811c1aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1298/format:webp/1*aETd0o_V0Jdi6lwIYJz2gw.png"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Number of Projects done across status levels</figcaption></figure><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div class="gh gi ms"><img src="../Images/7461b3dd849b96f6de39d0e5a8ae3ff6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1216/format:webp/1*nYsOY1AFrj2UcJmLYSqfPA.png"/></div></figure><p id="c2d0" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个画面提供了很多关于离开的人的事实。我们可以看到，拥有2、6、7个计数项目的人离职倾向更大。比如每个还剩7个项目的人。多么有见地！</p><p id="8d2e" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">更进一步，让我们看看现有员工和离职员工的平均工作时间:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="d122" class="lg lh it lc b gy li lj l lk ll">#People who left ap<br/>ggplot(attrition, aes(average_montly_hours, fill = status)) +<br/>  geom_density(alpha = 0.1) +<br/>  ggtitle("Average Working hours")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mt"><img src="../Images/9329ce84759fbf17c09b8d645918ad33.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*ZjL-56j0rt2z_yNQjdt_8Q.png"/></div></div></figure><p id="cbde" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">这个密度提供了很多信息。离职的人工作过度，大部分工作不足，而在职员工的分布相当稳定。可以有把握地推断，离开的人大多是那些工作不足和过度劳累的人。</p><p id="d457" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">最后，我们研究了在公司的时间和流失状态之间的关系:</p><pre class="kp kq kr ks gt lb lc ld le aw lf bi"><span id="f2ab" class="lg lh it lc b gy li lj l lk ll">#Lets examine the time spent in the company<br/>attrition %&gt;% <br/>  group_by(time_spend_company) %&gt;% <br/>  count(status) %&gt;% <br/>  mutate(n2 = sum(n)) %&gt;% <br/>  ungroup() %&gt;% <br/>  mutate(n3 = n/n2) %&gt;% <br/>  ggplot(., aes(x = "", y = n3, fill = status)) +<br/>  geom_bar(stat = "identity", width = 2) +<br/>  coord_polar(theta = "y") +<br/>  facet_wrap(~time_spend_company) +<br/>  scale_fill_manual(values=c("#999999", "#E69F00")) +<br/>  ggtitle("Time Spent in Company")</span></pre><figure class="kp kq kr ks gt kt gh gi paragraph-image"><div role="button" tabindex="0" class="ku kv di kw bf kx"><div class="gh gi mu"><img src="../Images/683a89959bfb9831ab0dbeef27b87b1a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*72HkdQPh8IwY7A2dnq0pLg.png"/></div></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Time spent in company by churn status</figcaption></figure><p id="f55d" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">饼图显示，可能离开的人也在公司工作了3-6年。有了所有这些信息，公司就能找到让工作对员工更有吸引力的方法。</p><h2 id="97cd" class="lg lh it bd mv mw mx dn my mz na dp nb kb nc nd ne kf nf ng nh kj ni nj nk nl bi translated">机器学习</h2><p id="c362" class="pw-post-body-paragraph jq jr it js b jt nm jv jw jx nn jz ka kb no kd ke kf np kh ki kj nq kl km kn im bi translated">可以执行机器学习脚本，并且使用随机森林模型在测试数据上的最终得分显示出大约99%的准确度。采用集合方法寻找最佳模型，RF性能更好，但计算时间稍长:</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nr ns l"/></div><figcaption class="lo lp gj gh gi lq lr bd b be z dk">Machine Learning Model in Python</figcaption></figure><h2 id="96e8" class="lg lh it bd mv mw mx dn my mz na dp nb kb nc nd ne kf nf ng nh kj ni nj nk nl bi translated">结论</h2><p id="f8e4" class="pw-post-body-paragraph jq jr it js b jt nm jv jw jx nn jz ka kb no kd ke kf np kh ki kj nq kl km kn im bi translated">该项目已经能够操作流失数据集，并为组织在员工流失方面可能面临的深层问题提供可操作的见解。非常重要的一点是，人力资源团队将分析团队的发现传达给利益相关者，并采取更好的措施来确保有效的保留文化。</p><figure class="kp kq kr ks gt kt"><div class="bz fp l di"><div class="nt ns l"/></div></figure></div></div>    
</body>
</html>