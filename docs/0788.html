<html>
<head>
<title>Using Python to Get Crypto Market Data</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">使用Python获取加密市场数据</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/using-python-to-get-crypto-market-data-ba173d93896b?source=collection_archive---------3-----------------------#2020-02-17">https://medium.datadriveninvestor.com/using-python-to-get-crypto-market-data-ba173d93896b?source=collection_archive---------3-----------------------#2020-02-17</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="e64b" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们看看用Python为加密市场下载历史价格和替代数据是多么容易。</p><p id="2017" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">当提到历史价格数据时，这是关于任何资产的开盘价、收盘价、最高价和最低价。您可以根据这些数据创建交易机器人或警报机器人。只需为此条件创建一个计划脚本:</p><pre class="kl km kn ko gt kp kq kr ks aw kt bi"><span id="554a" class="ku kv iq kq b gy kw kx l ky kz">If Close &gt; desired X: send_me_message(“Look at this!”)</span></pre><p id="9659" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">问题就在这里，我们开始解决吧。</p><figure class="kl km kn ko gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi la"><img src="../Images/78a2a5766adfd45004c37063f1555ca4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_HHnqQQzngQHQ7ZZDVDBUw.png"/></div></div></figure><p id="9df4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">替代数据很容易跳过，但真正看一看它是很重要的。对于石油股票，它是关于管道、钢铁价格的财务数据或来自物流公司的数据或任何可能影响石油股票的相关数据。此外，它还可以提供新闻和政府报告。</p><p id="2e50" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在加密领域，它是链上数据、社交数据、新闻等。</p><div class="li lj gp gr lk ll"><a href="https://www.datadriveninvestor.com/2019/03/04/be-afraid-be-very-afraid-why-fiat-is-right-to-fear-digital-currency/" rel="noopener  ugc nofollow" target="_blank"><div class="lm ab fo"><div class="ln ab lo cl cj lp"><h2 class="bd ir gy z fp lq fr fs lr fu fw ip bi translated">害怕，非常害怕...为什么菲亚特害怕数字货币是正确的|数据驱动的投资者</h2><div class="ls l"><h3 class="bd b gy z fp lq fr fs lr fu fw dk translated">本文的目的是为我们最近(以及即将到来的)欧盟H2020拨款中的一个部分提供额外的视角…</h3></div><div class="lt l"><p class="bd b dl z fp lq fr fs lr fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="lu l"><div class="lv l lw lx ly lu lz lg ll"/></div></div></a></div><p id="6b08" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">这对你来说是一个超级好消息，因为你可以从历史角度和在区块链上实时看到每一笔交易。但是获得这些数据有多容易呢？</p><p id="e3f9" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我将使用<a class="ae ma" href="https://santiment.net/?via=sun&amp;utm_campaign=yura" rel="noopener ugc nofollow" target="_blank"> Santiment </a> API，它提供了两种方法。简单地使用Python库和一个基于使用GraphQL。有一些替代方案(<a class="ae ma" href="https://coinmarketcap.com/api/pricing/" rel="noopener ugc nofollow" target="_blank">coimarketap</a>、<a class="ae ma" href="https://www.coingecko.com/en/api" rel="noopener ugc nofollow" target="_blank"> Coingecko </a>等)。)，但Santiment API拥有的不仅仅是财务数据。</p><p id="85e3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">第一种方法使用一个名为sanpy的库。让我们安装sanpy库。</p><pre class="kl km kn ko gt kp kq kr ks aw kt bi"><span id="37c0" class="ku kv iq kq b gy kw kx l ky kz">pip install sanpy</span></pre><p id="a95d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">下面是收集以太坊历史定价数据所需的基本代码:</p><pre class="kl km kn ko gt kp kq kr ks aw kt bi"><span id="73db" class="ku kv iq kq b gy kw kx l ky kz">import san</span><span id="cdd0" class="ku kv iq kq b gy mb kx l ky kz">ohlc_df = san.get(</span><span id="c792" class="ku kv iq kq b gy mb kx l ky kz">“ohlc/ethereum”,</span><span id="6687" class="ku kv iq kq b gy mb kx l ky kz">from_date=”2015–01–01",</span><span id="fd14" class="ku kv iq kq b gy mb kx l ky kz">to_date=”2020–02–10",</span><span id="2e32" class="ku kv iq kq b gy mb kx l ky kz">interval=”1w”</span><span id="d488" class="ku kv iq kq b gy mb kx l ky kz">)</span><span id="4845" class="ku kv iq kq b gy mb kx l ky kz">print(ohlc_df.tail())</span></pre><figure class="kl km kn ko gt lb gh gi paragraph-image"><div class="gh gi mc"><img src="../Images/3aa3448f1841f249498ae0df8b4741a0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1112/0*5Fh2wo9kvreBd8cP"/></div></figure><p id="e193" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">你可以看到，你的结果应该是一个熊猫数据帧，包含以太坊的每周历史OHLC数据。</p><p id="31f3" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">看san.get()函数的第一个参数。(“ohlc/以太坊”)ohlc是公制的名称，“以太坊”是鼻涕虫。<strong class="jp ir"> Slug </strong>是资产的唯一标识符。为您的资产定位slug的最佳方式是打开<a class="ae ma" href="https://app.santiment.net/?via=sun&amp;utm_campaign=yura" rel="noopener ugc nofollow" target="_blank">https://app.santiment.net</a>并使用搜索。</p><figure class="kl km kn ko gt lb gh gi paragraph-image"><div role="button" tabindex="0" class="lc ld di le bf lf"><div class="gh gi md"><img src="../Images/fbf9873d96b2bcf59a2283eb15f5dfed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lsw8K7fLxPT8GumiZBFZ9A.png"/></div></div></figure><p id="14c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您有任何问题，请查看此<a class="ae ma" href="https://santiment.net/?via=sun&amp;utm_campaign=yura" rel="noopener ugc nofollow" target="_blank">网站</a>。</p><p id="09c4" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好的。现在尝试获取以太坊的其他链上数据。对于我们的第一个例子，我们可以使用网络增长度量。网络增长显示了项目网络上每天创建的新地址数量。</p><pre class="kl km kn ko gt kp kq kr ks aw kt bi"><span id="f7df" class="ku kv iq kq b gy kw kx l ky kz">net_growth_df = san.get(</span><span id="14a8" class="ku kv iq kq b gy mb kx l ky kz">“network_growth/ethereum”,</span><span id="c1db" class="ku kv iq kq b gy mb kx l ky kz">from_date=”2019–02–05",</span><span id="bbb5" class="ku kv iq kq b gy mb kx l ky kz">to_date=”2020–02–05",</span><span id="e011" class="ku kv iq kq b gy mb kx l ky kz">interval=”1d”</span><span id="a0bb" class="ku kv iq kq b gy mb kx l ky kz">)</span><span id="7052" class="ku kv iq kq b gy mb kx l ky kz">import matplotlib.pyplot as plt</span><span id="1238" class="ku kv iq kq b gy mb kx l ky kz">net_growth_df.plot()</span><span id="f9c7" class="ku kv iq kq b gy mb kx l ky kz">plt.show()</span></pre><figure class="kl km kn ko gt lb gh gi paragraph-image"><div class="gh gi me"><img src="../Images/fc6f67e20a4049da2e7a717e5ce2bea6.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/0*7btVrzskV-1axPYL"/></div></figure><p id="47bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果您想了解使用这个库可以获得什么类型的替代数据和度量。可以多读读<a class="ae ma" href="https://github.com/santiment/sanpy" rel="noopener ugc nofollow" target="_blank">https://github.com/santiment/sanpy</a>或者<a class="ae ma" href="https://academy.santiment.net/for-developers/?via=sun&amp;utm_campaign=yura" rel="noopener ugc nofollow" target="_blank">https://academy.santiment.net/for-developers/</a></p><p id="ca52" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">许多加密公司使用开源作为他们业务的驱动力。基于项目的开源开发活动，我们能说些什么呢？LTC就是一个很好的例子。他们只是偶尔合并一些来自BTC的新员工，自己不做任何新的事情。</p><p id="1619" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">让我们证明这一点:</p><pre class="kl km kn ko gt kp kq kr ks aw kt bi"><span id="ce52" class="ku kv iq kq b gy kw kx l ky kz">dev_df = san.get(</span><span id="30b5" class="ku kv iq kq b gy mb kx l ky kz">“dev_activity/litecoin”,</span><span id="2ce5" class="ku kv iq kq b gy mb kx l ky kz">from_date=”2018–02–05",</span><span id="986d" class="ku kv iq kq b gy mb kx l ky kz">to_date=”2020–02–05",</span><span id="b41f" class="ku kv iq kq b gy mb kx l ky kz">interval=”1d”</span><span id="3131" class="ku kv iq kq b gy mb kx l ky kz">)</span><span id="ac66" class="ku kv iq kq b gy mb kx l ky kz">dev_btc_df = san.get(</span><span id="abc5" class="ku kv iq kq b gy mb kx l ky kz">“dev_activity/bitcoin”,</span><span id="54f3" class="ku kv iq kq b gy mb kx l ky kz">from_date=”2018–02–05",</span><span id="b83a" class="ku kv iq kq b gy mb kx l ky kz">to_date=”2020–02–05",</span><span id="eed0" class="ku kv iq kq b gy mb kx l ky kz">interval=”1d”</span><span id="8701" class="ku kv iq kq b gy mb kx l ky kz">)</span><span id="d767" class="ku kv iq kq b gy mb kx l ky kz">dev_df.plot()</span><span id="4f2a" class="ku kv iq kq b gy mb kx l ky kz">dev_btc_df.plot()</span><span id="f64f" class="ku kv iq kq b gy mb kx l ky kz">plt.show()</span></pre><figure class="kl km kn ko gt lb gh gi paragraph-image"><div class="gh gi mf"><img src="../Images/2ee751da5690ff431c1a2d3e2f91f5cb.png" data-original-src="https://miro.medium.com/v2/resize:fit:770/0*gfpGXlZWMs9Iio87"/></div></figure><p id="0eb7" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">好的。当然，你可以从on-chain或GitHub收集所有这些数据，但如果你想制作一个简单的警报机器人，这是一项复杂的工程任务。<br/>还有最后一个例子。让我们试着获得比特币的社交量</p><pre class="kl km kn ko gt kp kq kr ks aw kt bi"><span id="67bb" class="ku kv iq kq b gy kw kx l ky kz">soc_df = san.get(</span><span id="ae80" class="ku kv iq kq b gy mb kx l ky kz">“social_volume/bitcoin”,</span><span id="4b12" class="ku kv iq kq b gy mb kx l ky kz">interval=”1d”,</span><span id="0a93" class="ku kv iq kq b gy mb kx l ky kz">from_date=”2018–02–02T10:02:19Z”,</span><span id="4ae7" class="ku kv iq kq b gy mb kx l ky kz">to_date=”2020–02–02T10:02:19Z”,</span><span id="adf0" class="ku kv iq kq b gy mb kx l ky kz">social_volume_type=”TELEGRAM_CHATS_OVERVIEW”</span><span id="4446" class="ku kv iq kq b gy mb kx l ky kz">)</span><span id="fc06" class="ku kv iq kq b gy mb kx l ky kz">soc_df.plot()</span><span id="c0e3" class="ku kv iq kq b gy mb kx l ky kz">plt.show()</span></pre><figure class="kl km kn ko gt lb gh gi paragraph-image"><div class="gh gi me"><img src="../Images/6dc0dc22e88fa9e8e93c0585f5fc4552.png" data-original-src="https://miro.medium.com/v2/resize:fit:818/0*h0OjRCQRR5b17hWJ"/></div></figure></div><div class="ab cl mg mh hu mi" role="separator"><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml mm"/><span class="mj bw bk mk ml"/></div><div class="ij ik il im in"><p id="4847" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">感谢阅读。希望这能帮助你开始你的加密资产分析。</p><p id="3688" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">如果你们有任何问题，别忘了在LinkedIn上联系我。</p><figure class="kl km kn ko gt lb"><div class="bz fp l di"><div class="mn mo l"/></div></figure></div></div>    
</body>
</html>