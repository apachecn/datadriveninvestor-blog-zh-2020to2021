# 蒙蒂霍尔遇上蒙特卡洛遇上(蒙蒂)蟒蛇

> 原文：<https://medium.datadriveninvestor.com/monty-hall-meets-monte-carlo-meets-monty-python-a9b3c8883506?source=collection_archive---------3----------------------->

![](img/939ca2d029bcf2576bd5d0123bc6256e.png)

结合统计和编程…你可能会说是光猪六壮士。

我最喜欢的统计难题之一是蒙蒂霍尔问题。蒙蒂霍尔问题是一个脑筋急转弯，大致基于美国电视游戏节目“*让我们做个交易*”。它是以它的原主人蒙蒂·霍尔命名的。

问题的基础很简单。让我们假设你在一个游戏节目中，你有三扇门可以选择。一扇门后是一辆汽车，另外两扇门后是山羊(我不是很确定为什么这个问题的所有例子都用山羊…也许在 1975 年它们可以免费在游戏节目中客串)。所以你选了一扇门，比如说你选了第一扇门。游戏节目主持人可以看到你在考虑拥有一只山羊的后果时，额头上冒出了大量的汗水，并给了你一个受欢迎的缓刑。作为一个如此善良的游戏节目主持人，他帮助了你，打开了一扇你没有选择的门，让你看到了一只山羊。假设那扇门是三号门。他转向你说，“你想把你的选择换成二号门还是坚持你最初选择的一号门？”你的世界已经陷入混乱…为什么他给你这个，肯定一点都不重要？你要怎么办？

## 答案很简单，你切换！你每次都换！

在找出原因之前，我先介绍另外两个话题。我已经分享了我最喜欢的统计问题，现在让我介绍我最喜欢的统计方法之一，“*蒙特卡洛模拟*”，很恰当地以摩纳哥流行的赌博目的地命名。这种方法需要使用随机生成的变量和重复抽样来预测赔率。随机变量可以遵循不同的分布，你可以重复实验多次。

为了测试你是否应该转换，我们将对 Monty Hall 问题进行蒙特卡罗模拟。我们将每次随机选择汽车的一个门，也随机选择我们将选择的门(这些将遵循均匀分布，这意味着每个结果都有相等的机会)。然后，我们将重复这个实验，包括有开关和没有开关的情况。一旦我们把这个实验重复几次，我们就能理解为什么你应该转换。

然后，我将用 Python 代码尽可能简单地演示随机实验，我们将每个实验运行 10，0 00 次(我们可以做得更多，但我认为 10，0 00 次足以让我明白我的观点)。我决定使用 Python 作为编程语言来演示这一点，因为 Python 的创造者吉多·范·罗苏姆决定以“*蒙蒂 Python 的飞行马戏团*”命名，这是一部来自 20 世纪 70 年代的 BBC 喜剧系列片。引用官方的 Python 文档，“ *Van Rossum 认为他需要一个简短、独特且略带神秘的名字，所以他决定将这种语言称为 Python* ”。我喜欢它，主要是因为它是我为这篇文章创建一个吸引人的名字所需要的第三个月。

我们开始玩这个游戏，假设脱口秀主持人没有狡猾地给参赛者改变主意的机会。让我们首先运行一个快速控制来考虑有多少次参赛者最终会带着一辆闪亮的新车回家，而不是那只可怕的被遗弃的山羊(我个人并不反对山羊)。我定义了一个简单的函数，它随机生成一个数字 1、2 或 3，代表游戏节目中的三扇门。撬开任何一扇门的几率是相等的，大约是 33%或三分之一。我使用该函数随机决定汽车在哪个门后面，我再次使用它来随机选择参赛者可能选择哪个门。如果门匹配，这是一个成功的实验，快乐的参赛者开着一辆可爱的车回家。如果门不匹配，这是一个失败的实验，他们可以带着山羊回家(这让我想知道世界上是否有山羊主人，他们是否带着他们的山羊散步)。我将这个实验运行了 10 000 次，正如预期的那样，我们在 33%的时候成功地选择了车门。如果您愿意的话，您可以随意运行代码并添加更多的试验。

现在让我们再做一次同样的实验，这次我们给参与者一个选择，但是他们决定他们对自己的选择感到满意，并决定不改变。令人震惊的是，如果你不切换，实验仍然完全一样！主人展示了一只山羊的事实对概率没有影响。当参赛者做出最初的决定时，他们展示汽车的机会是三分之一，现在他们坚持最初的选择，机会仍然只有三分之一。我在下面的代码中说明了这个新的选择，但是正如你所看到的，这个新的选择本质上和参赛者的第一个选择是一样的，因此概率一点也没有改变。

这就是有趣的地方。让我们看看当你转换时会发生什么。这里的逻辑有点复杂，但请听我说。让我来定义一下现在会发生什么。

游戏节目主持人打开的门必须是山羊门，这意味着现在还有一个山羊门和车门。如果参赛者最初选择了车门，游戏节目主持人现在可以选择打开两个车门中的一个，但是如果他们选择了山羊车门，游戏节目主持人现在只能选择打开一个车门。如果我们宣布游戏节目主持人可以打开可用的门，它可以是两扇门或一扇门，这取决于参赛者最初的猜测有多好。如果是两扇门，我们假设他可以随机打开其中一扇门。参赛者只有一个可用的选项来切换，这是他们没有首先选择的选项，也是游戏节目主持人没有打开的门。

我重复了上面的实验，你瞧，大约 67%或者三分之二的情况下，如果他们换车，参赛者会得到车门！很神奇吧？这有很多统计上的原因，但基本上可以归结为这样一个事实，即通过打开一扇门，游戏节目主持人基本上挤压了参赛者可以选择切换到门后的三分之二的可能性。

你还不相信吗？现在让我们用 100 扇门来重现这个实验，这次唯一的问题是游戏节目主持人打开了 98 扇门。你现在愿意换吗？我们看到，在没有切换的情况下，参赛者只有 1%的机会选择正确的门。

这就是神奇的地方，当参赛者在这个 100 门游戏中切换时，他们有 99%的机会获胜！这是因为游戏节目主持人通过打开 98 扇门，实质上给了他们选择切换到 99%概率的机会。你更支持哪种可能性，在门口你猜对了 1/100 的几率还是你一开始没猜对？

所有实验的代码都可以在我的 GitHub 上找到。

[](https://github.com/MikeyCam/MontyHallMeetsMonteCarlo) [## MikeyCam/montyhallmeets Monte Carlo

### 在 GitHub 上创建一个帐户，为 MikeyCam/montyhallmeetsmontecallo 开发做贡献。

github.com](https://github.com/MikeyCam/MontyHallMeetsMonteCarlo) 

我希望你像我喜欢写这篇文章一样喜欢它。让我们再次让统计变得伟大😉