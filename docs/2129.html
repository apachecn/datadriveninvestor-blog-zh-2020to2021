<html>
<head>
<title>Databases on Docker</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">Docker上的数据库</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/databases-on-docker-d94e1df3903?source=collection_archive---------15-----------------------#2020-04-15">https://medium.datadriveninvestor.com/databases-on-docker-d94e1df3903?source=collection_archive---------15-----------------------#2020-04-15</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><figure class="ip iq gp gr ir is gh gi paragraph-image"><div role="button" tabindex="0" class="it iu di iv bf iw"><div class="gh gi io"><img src="../Images/24b1661d02c6e570df55360751e70728.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*0X_l58aLVBdrJMkM"/></div></div><figcaption class="iz ja gj gh gi jb jc bd b be z dk">Photo by <a class="ae jd" href="https://unsplash.com/@fabioha?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">fabio</a> on <a class="ae jd" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><div class=""/><p id="172c" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在本文中，我将介绍Docker在Redhat 8.1上的安装过程。然后我将向您展示如何在我们的Docker环境上部署不同的数据库(Oracle、IBM DB2、MySQL、PostGres、MongoDB)。</p><h2 id="987b" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">安装Docker</h2><p id="9ef4" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">在启动之前设置您的yum存储库，并确保您的servert连接到internet。</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="51b7" class="lb lc jg me b gy mi mj l mk ml"># mkdir /tmp/docker<br/># cd /tmp/docker<br/># wget <a class="ae jd" href="https://raw.githubusercontent.com/sbaiidrissiyoussef/Docker/master/install_docker.sh" rel="noopener ugc nofollow" target="_blank">-k https://raw.githubusercontent.com/sbaiidrissiyoussef/Docker/master/install_docker.sh</a><br/># chmod u+x /tmp/docker/install_docker.sh<br/># /tmp/docker/install_docker.sh</span></pre><p id="9144" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">安装完成后，通过运行hello-world映像来验证您的Docker版本和完整性环境</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="2f66" class="lb lc jg me b gy mi mj l mk ml"># <!-- -->docker --version<br/># docker run hello-world</span></pre><p id="a079" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，在正确设置docker环境之后，我们将在其中部署不同的数据库。</p><p id="034d" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在开始之前，确保你在<a class="ae jd" href="https://hub.docker.com/" rel="noopener ugc nofollow" target="_blank">https://hub.docker.com/</a>有一个码头工人账户</p><div class="ip iq gp gr ir mm"><a href="https://www.datadriveninvestor.com/2019/02/25/6-alternatives-to-the-yahoo-finance-api/" rel="noopener  ugc nofollow" target="_blank"><div class="mn ab fo"><div class="mo ab mp cl cj mq"><h2 class="bd jh gy z fp mr fr fs ms fu fw jf bi translated">雅虎财经API |数据驱动投资者的6种替代方案</h2><div class="mt l"><h3 class="bd b gy z fp mr fr fs ms fu fw dk translated">长期以来，雅虎金融API一直是许多数据驱动型投资者的可靠工具。许多人依赖于他们的…</h3></div><div class="mu l"><p class="bd b dl z fp mr fr fs ms fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="mv l"><div class="mw l mx my mz mv na ix mm"/></div></div></a></div><h2 id="e354" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Docker上的Oracle数据库</h2><p id="2a41" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">下面的步骤描述了在我们的docker环境中部署Oracle数据库12.0.0.1</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="992b" class="lb lc jg me b gy mi mj l mk ml"># <!-- -->docker login</span><span id="a063" class="lb lc jg me b gy nb mj l mk ml">###### Setup Environment Variables</span><span id="4403" class="lb lc jg me b gy nb mj l mk ml"># DB_NAME=ODB1<br/># DB_PORT=1521<br/># DB_HOME=/home/oracle/oradata</span><span id="ecf0" class="lb lc jg me b gy nb mj l mk ml">###### Deploy your Database Image</span><span id="6c9f" class="lb lc jg me b gy nb mj l mk ml"># docker run -d -it --name $DB_NAME -p $DB_PORT:$DB_PORT -v $DB_HOME:$DB_HOME store/oracle/database-enterprise:12.2.0.1</span></pre><p id="e298" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">部署数据库容器后，您可以使用以下命令访问您的shell</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="31d9" class="lb lc jg me b gy mi mj l mk ml"># <!-- -->docker exec -it <!-- -->$DB_NAME <!-- -->/bin/bash</span></pre><h2 id="8c5e" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Docker上的IBM DB2</h2><p id="5578" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">下面的步骤描述了IBM DB2数据库的部署</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="b145" class="lb lc jg me b gy mi mj l mk ml">###### Setup Environment </span><span id="c4d3" class="lb lc jg me b gy nb mj l mk ml"># mkdir /tmp/Docker<br/># cd /tmp/Docker<br/># docker login<br/># docker pull ibmcom/db2<br/># touch .env_list</span><span id="345a" class="lb lc jg me b gy nb mj l mk ml">###### <!-- -->Create an Env File using the following command :</span><span id="7eba" class="lb lc jg me b gy nb mj l mk ml">echo -e 'LICENSE=accept<br/>DB2INSTANCE=db2inst1<br/>DB2INST1_PASSWORD=password<br/>DBNAME=testdb<br/>BLU=false<br/>ENABLE_ORACLE_COMPATIBILITY=false<br/>UPDATEAVAIL=NO<br/>TO_CREATE_SAMPLEDB=false<br/>REPODB=false<br/>IS_OSXFS=false<br/>PERSISTENT_HOME=false<br/>HADR_ENABLED=false<br/>ETCD_ENDPOINT=<br/>ETCD_USERNAME=<br/>ETCD_PASSWORD=' &gt;&gt; .env_list</span><span id="80c7" class="lb lc jg me b gy nb mj l mk ml">###### Deploy your Database Image</span><span id="1b7b" class="lb lc jg me b gy nb mj l mk ml"># docker run -h db2server --name db2server --restart=always --detach --privileged=true -p 50000:50000 --env-file .env_list -v /Docker:/database ibmcom/db2<br/># docker exec -ti db2server bash -c "su – db2inst1"</span></pre><h2 id="40bd" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Docker上的PostgreSQL</h2><p id="102a" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这些步骤描述了如何在docker环境中部署PostgreSQL数据库</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="dd16" class="lb lc jg me b gy mi mj l mk ml">###### Setup Environment Variables</span><span id="fdfa" class="lb lc jg me b gy nb mj l mk ml"># DB_NAME=postgres-test<br/># DB_PASSWORD=mysecretpassword<br/># DB_PORT=5432</span><span id="7ada" class="lb lc jg me b gy nb mj l mk ml">###### Deploy your Database Image<!-- --> </span><span id="a32e" class="lb lc jg me b gy nb mj l mk ml"># docker run --name $DB_NAME -e POSTGRES_PASSWORD=$DB_PASSWORD -d -p $DB_PORT:$DB_PORT -v $HOME/docker/volumes/postgres:/var/lib/postgresql/data  postgres</span></pre><h2 id="a81a" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Docker上的MySQL</h2><p id="45bb" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这些步骤描述了如何在docker环境中部署MySQL数据库</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="3d5b" class="lb lc jg me b gy mi mj l mk ml">###### Setup Environment Variables</span><span id="598b" class="lb lc jg me b gy nb mj l mk ml"># DB_NAME=mysql01</span><span id="7e6f" class="lb lc jg me b gy nb mj l mk ml">###### Deploy your Database Image<!-- --> </span><span id="f42e" class="lb lc jg me b gy nb mj l mk ml"># docker pull mysql/mysql-server:latest<br/># docker run --name=$DB_NAME -d mysql/mysql-server:latest<br/># docker logs $DB_NAME                     ## Get password<br/># docker exec -it $DB_NAME mysql -uroot -p ## Login to your db</span></pre><h2 id="7e57" class="lb lc jg bd ld le lf dn lg lh li dp lj ko lk ll lm ks ln lo lp kw lq lr ls lt bi translated">Docker上的MongoDB</h2><p id="5405" class="pw-post-body-paragraph kd ke jg kf b kg lu ki kj kk lv km kn ko lw kq kr ks lx ku kv kw ly ky kz la ij bi translated">这些步骤描述了如何在docker环境中部署MongoDB数据库</p><pre class="lz ma mb mc gt md me mf mg aw mh bi"><span id="6d3b" class="lb lc jg me b gy mi mj l mk ml">###### Setup Environment Variables</span><span id="3e66" class="lb lc jg me b gy nb mj l mk ml"># DB_NAME=mongodb</span><span id="1509" class="lb lc jg me b gy nb mj l mk ml">###### Deploy your Database Image</span><span id="eb78" class="lb lc jg me b gy nb mj l mk ml"># docker pull mongo<br/># docker run -d -p 27017-27019:27017-27019 --name $DB_NAME mongo:latest<br/># docker exec -it mongodb bash</span></pre><p id="0bdd" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在Docker上部署数据库是构建概念验证甚至开发环境的最佳解决方案，它可以快速部署并易于维护，而我们在设置内部安装时面临的所有问题根本不存在。</p><p id="9803" class="pw-post-body-paragraph kd ke jg kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">~优素福·斯拜·伊德里西，2020</p><figure class="lz ma mb mc gt is"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div></div>    
</body>
</html>