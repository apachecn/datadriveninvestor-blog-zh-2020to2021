<html>
<head>
<title>Create your own Machine Learning App with Anvil (Basic)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用Anvil (Basic)创建自己的机器学习应用程序</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/create-your-own-machine-learning-app-with-anvil-basic-6bf3503e80f1?source=collection_archive---------0-----------------------#2020-04-15">https://medium.datadriveninvestor.com/create-your-own-machine-learning-app-with-anvil-basic-6bf3503e80f1?source=collection_archive---------0-----------------------#2020-04-15</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/07ef8dccc0a910f1c293a3ce2e66e2f3.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*uxtKck3PSpVimyfR"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Photo by <a class="ae kf" href="https://unsplash.com/@austindistel?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Austin Distel</a> on <a class="ae kf" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="ed82" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗨，大家好，再次回到我身边，和这些疫情一起，让我们为每一个战斗过的人祈祷，希望他们能尽快好起来。现在，我再次想创建一个应用程序，但只使用Python，和以前一样，当我使用Streamlit创建房价预测应用程序时，如果你不知道或为了复习，看看这个<a class="ae kf" href="https://medium.com/datadriveninvestor/create-your-own-machine-learning-app-with-streamlit-basic-71ae1493d2d" rel="noopener"> <strong class="ki iu">链接</strong> </a>。</p><p id="1491" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">为什么是铁砧？事实上，当我的客户寻找另一个可以使用Python运行应用程序的平台时，他给了我Anvil。它很像Streamlit，所以基本上它是一个使用Python的web应用程序，但更易于使用。他们的网是这样写的。查看自己网页上<a class="ae kf" href="https://anvil.works/" rel="noopener ugc nofollow" target="_blank">的<em class="le">这个链接</em>的</a>。</p><blockquote class="lf lg lh"><p id="8067" class="kg kh le ki b kj kk kl km kn ko kp kq li ks kt ku lj kw kx ky lk la lb lc ld im bi translated">只有Python的全栈web应用</p></blockquote><p id="2e86" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嗯，对我来说似乎很有趣，因为当他们这么说的时候，当然这对Python用户来说是个好消息，当你查看它时，会有教程帮助你熟悉Anvil。它们是如何工作的，然后我们应该做些什么来创建一个应用程序。</p><h1 id="6169" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">循序渐进</h1><h1 id="7005" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">创建帐户</h1><p id="54c3" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">首先，你应该在Anvil web注册创建一个应用程序，然后你可以看到这样的界面，你可以创建你的scratch应用程序，或者因为我们是新来的，让我们检查一下教程。我强烈建议你检查一下这个，因为它会帮助你熟悉Anvil是如何工作的。</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mo"><img src="../Images/2203b0261067c0271d6be35a104dc7cd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_exlTr_15cBFrmIPfq5l4Q.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Anvil web apps</figcaption></figure><h1 id="4bd7" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">创建应用程序</h1><p id="df92" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">在稍微熟悉了界面之后，让我们创建一个应用程序。在这个阶段，我会为界面新的空白应用程序。您将看到使用Anvil的一个优点是GUI。你甚至可以通过拖放来创建一个应用程序。但是当然使用Anvil意味着你应该了解Python，因为要用Python来连接它们中的每一项，那么怎么做呢？</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi mt"><img src="../Images/753bde652613cb4be5d569c1fc6ba1ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*dpQJRK0ZlmNsih610_p7Fg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">User interface of Anvil</figcaption></figure><h1 id="a0d8" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">用Jupyter笔记本连接</h1><p id="bcbb" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">是的，你可以把Jupyter和Anvil连接起来，所以Jupyter可能有局限性，完全不懂代码的人总是搞不清楚我们的项目在谈论什么。有了Anvil，人们只需看一眼你的应用程序，你就可以关心你的代码，这是双赢的解决方案，对吗？</p><div class="mu mv gp gr mw mx"><a href="https://www.datadriveninvestor.com/2020/02/19/cognitive-computing-a-skill-set-widely-considered-to-be-the-most-vital-manifestation-of-artificial-intelligence/" rel="noopener  ugc nofollow" target="_blank"><div class="my ab fo"><div class="mz ab na cl cj nb"><h2 class="bd iu gy z fp nc fr fs nd fu fw is bi translated">认知计算——一套被广泛认为是……</h2><div class="ne l"><h3 class="bd b gy z fp nc fr fs nd fu fw dk translated">作为它的用户，我们已经习惯了科技。这些天几乎没有什么是司空见惯的…</h3></div><div class="nf l"><p class="bd b dl z fp nc fr fs nd fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="ng l"><div class="nh l ni nj nk ng nl jz mx"/></div></div></a></div><p id="653b" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">那么如何连接呢？首先点击左侧区域的设置图标，然后点击上传，这样你就可以选择添加一些密钥，点击启用密钥，然后密钥就会为你的项目生成。用这个做你的Jupyter笔记本。但是在安装anivl-uplink之前，要先用pip安装anvil-uplink来添加anvil的包。</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nm"><img src="../Images/f52d94d2609b67cb8ef3a29999c2232d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*bbpu6x2CkWyqrDdiOe3rEg.gif"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">How to get Key for Jupyter Notebook</figcaption></figure><p id="d0e6" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">拿到密钥后，将这段代码添加到您的Jupyter笔记本中，因为我们之前有文章的模型，所以我们只是添加到项目的最后一个单元格，在我的项目中使用Shopee.ipynb，<a class="ae kf" href="https://github.com/rizkysifaul/Workshop_Shopee" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> <em class="le">项目链接</em> </strong> </a>。</p><pre class="mp mq mr ms gt nn no np nq aw nr bi"><span id="9fb5" class="ns lm it no b gy nt nu l nv nw">import anvil.server</span><span id="0769" class="ns lm it no b gy nx nu l nv nw">anvil.server.connect("INSERT_YOUR_KEY")</span></pre><p id="184d" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">基本上这段代码是关于通过与Anvil应用程序连接来调用你的Jupyter笔记本，所以你不需要在Anvil上划痕。只是用你的笔记本。</p><h1 id="4f23" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">在Jupyter笔记本上创建功能</h1><p id="9ef8" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">因为我们想让我们的项目可以被调用到Anvil App中，当然我们应该创建一些适当的函数来调用。在这个应用程序中，我想添加一个名为<em class="le"> predict_model() </em>的函数，带有几个参数。</p><pre class="mp mq mr ms gt nn no np nq aw nr bi"><span id="3faf" class="ns lm it no b gy nt nu l nv nw">import pickle<br/>import anvil.server<br/>#saving model<br/>pickle.dump(model, open('model_new.pickle', 'wb'))</span><span id="b3a7" class="ns lm it no b gy nx nu l nv nw"><a class="ae kf" href="http://twitter.com/anvil" rel="noopener ugc nofollow" target="_blank">@anvil</a>.server.callable<br/>def predict_model(sqft_liv,bath,bed,floor):<br/>    model_linear = pickle.load(open('model_new.pickle', 'rb'))<br/>    predictions=model_linear.predict([[sqft_liv,bath,bed,floor]])[0]<br/>    return(predictions)</span></pre><p id="9249" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">基本上你应该需要添加<em class="le"> anvil.server.callable </em>来确保你已经创建的函数将与Anvil App连接。为什么应该是四个论点呢？因为我们对模型的输入和上一篇文章一样是四个。除了加载模型，其余的都是一样的，我使用pickle来保存和加载模型。</p><h1 id="0ace" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">设计你的应用</h1><p id="b9e4" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">最后，是时候设计你的应用了。不要担心，因为它真的很简单，只需拖放你需要的，如标签或按钮点击。这是由你来检查哪些组件是好的。对于我的例子，设计应该是这样的。</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ny"><img src="../Images/dfde8026531783c3cf7bc73f7858498d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*1kPhtMHGQMy1wec3lkEE-w.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">My Design</figcaption></figure><p id="4886" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">特别对于文本框，别忘了把它改成数字类型，因为我们要创建机器学习应用。</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nz"><img src="../Images/73bdb845c2341b4c736174b6209dd15a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ux-HzRc6wGOPhMicdTYKsg.png"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Special case for TextBox</figcaption></figure><p id="0bd2" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你所想象的，因为我们想要创建一个应用程序，我们可以随心所欲地设计，比如添加一个图标，或者调整标签大小等等，你可以做任何你想做的事情。完成这个设计后，现在是时候把你的Jupyter笔记本和Anvil应用程序连接起来了。</p><h1 id="89d1" class="ll lm it bd ln lo lp lq lr ls lt lu lv lw lx ly lz ma mb mc md me mf mg mh mi bi translated">用铁砧连接</h1><p id="42c2" class="pw-post-body-paragraph kg kh it ki b kj mj kl km kn mk kp kq kr ml kt ku kv mm kx ky kz mn lb lc ld im bi translated">对于连接，因为我们只有一个按钮，只需点击按钮设计两次，然后界面将变成代码编辑器。然后你会看到另一个函数，这个函数对于把我们的Python连接到Anvil是很重要的。像这样添加一些代码行。</p><pre class="mp mq mr ms gt nn no np nq aw nr bi"><span id="6be6" class="ns lm it no b gy nt nu l nv nw">def button_1_click(self, **event_args):<br/>    """This method is called when the button is clicked"""<br/>    results=anvil.server.call("predict_model",self.text_box_1.text, <br/>                                self.text_box_2.text, <br/>                                self.text_box_3.text, <br/>                                self.text_box_4.text)   <br/>    self.result.text = results<br/>    pass</span></pre><p id="e859" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">正如你所看到的，这个方法只有在你点击按钮时才会运行，为了调用这个函数，我们应该使用<em class="le"> anvil.server.call </em>，因为现在我们的Jupyter笔记本将是服务器，而应用本身将是客户端。所以不需要在Anvil上添加你的模型代码，直接调用就可以了。那么<em class="le"> predict_model </em>就是我们目前在Jupyter的函数。<em class="le"> Self.text_box_1.text </em>等是我们的<strong class="ki iu">输入</strong>，所以当我们有四个输入时，我们应该使用Anvil调用所有四个输入。而<em class="le"> self.result.text </em>是我们想要显示的结果，所以我们使用<strong class="ki iu">标签</strong>，名称<em class="le">结果</em>。我希望它是清楚的，因为我知道这可能有点难做到。之后，您可以使用Anvil应用程序上方的<strong class="ki iu">运行</strong>图标运行。</p><figure class="mp mq mr ms gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi oa"><img src="../Images/27de7effd86c363c1bbc2908df8ea38a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*44oLVRKTyZsOajO0Kwo46w.gif"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">Your app</figcaption></figure><p id="6141" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">瞧，你已经使用Jupyter笔记本和Anvil创建了一个应用程序。如果你有兴趣，你可以发布你的应用程序并定制域，就像这个<a class="ae kf" href="https://ml-simple-app.anvil.app" rel="noopener ugc nofollow" target="_blank">链接</a>如果我正在运行这个项目，这是非常感兴趣的一面，但有一点你应该注意到，因为你的Jupyter笔记本是你的服务器，所以当你不激活Jupyter笔记本时，链接不起作用。因此，请确保您已经运行了您的项目。</p><p id="206e" class="pw-post-body-paragraph kg kh it ki b kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">就是这样。非常感谢你阅读这篇文章，我希望它对你有所帮助，也许你没有网络技能，但想创建一个应用程序。这个项目可以在我的<strong class="ki iu">Github</strong><a class="ae kf" href="https://github.com/rizkysifaul/Workshop_Shopee" rel="noopener ugc nofollow" target="_blank">T5【这里 </a>下载。之后，添加一个像我的文章一样的代码，你就可以开始了。关注我的<strong class="ki iu">中</strong>和<strong class="ki iu"> Linkedin </strong> <a class="ae kf" href="https://www.linkedin.com/in/muhammad-sifa-ul-rizky-63525795/" rel="noopener ugc nofollow" target="_blank"> <em class="le">这里</em> </a>看到很有帮助就分享一下。欢迎在<strong class="ki iu"> Linkedin </strong>或我的邮箱<a class="ae kf" href="http://msifaulkiki@gmail.com" rel="noopener ugc nofollow" target="_blank"> <strong class="ki iu"> <em class="le">这里</em> </strong> </a>问我，另一篇文章再见。继续学习！</p><figure class="mp mq mr ms gt ju"><div class="bz fp l di"><div class="ob oc l"/></div></figure></div></div>    
</body>
</html>