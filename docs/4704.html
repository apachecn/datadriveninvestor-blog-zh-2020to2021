<html>
<head>
<title>Can you Predict Customer’s Loan Default using Machine Learning?</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">你能用机器学习预测客户的贷款违约吗？</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/can-you-predict-customers-loan-default-using-machine-learning-be774489b8f5?source=collection_archive---------0-----------------------#2020-08-20">https://medium.datadriveninvestor.com/can-you-predict-customers-loan-default-using-machine-learning-be774489b8f5?source=collection_archive---------0-----------------------#2020-08-20</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="ca79" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">机器学习算法根据客户的财务信息和历史数据预测哪些客户将会拖欠贷款</h2></div><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ki"><img src="../Images/d7d75e6349b8a9f77aa8306420119007.png" data-original-src="https://miro.medium.com/v2/resize:fit:1280/format:webp/1*UC0sy0bENl-DLPy3jmXNag.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Image from Medical Tourism Corporation</figcaption></figure><p id="5f8c" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">贷款已经成为组织和个人日常生活的重要组成部分。随着金融界竞争的日益加剧，由于大量的财务限制，贷款活动或多或少已变得不可避免。世界各地的个人依赖于贷款活动的原因，如克服他们的财务限制，以实现他们的一些个人目标。同样，银行，无论是小型企业还是大型企业，都依赖贷款活动来实现管理自身事务的基本目的，并在金融紧缩时期顺利运作。</p><p id="5934" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">尽管这对借贷双方都是有利可图的。然而，它带有很大的风险，这在贷款领域被称为贷款风险。世界各地的行业专家和研究人员给个人分配被称为信用分数的数字分数，以衡量风险和他们的信誉。</p><p id="c560" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">多年来，机器学习算法一直被用于通过评估个人的历史数据来计算和预测信用风险。这项研究回顾了目前使用机器学习算法预测风险评估模型的文献。</p><p id="aa42" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">从字面上看，这可以通过以下措施进行局部控制；</p><ul class=""><li id="29e6" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">应对潜在借款人进行信用分析，以判断与借款人相关的信用风险，并做出贷款决定。</li></ul><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi lz"><img src="../Images/805097c4e4ee405f9eef8fffd5fe2ed6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1350/format:webp/1*dZW9kJ33XGFf-FN1aviueQ.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Image from Ringgitplus</figcaption></figure><ul class=""><li id="ee61" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">应监控贷款偿还情况，一旦客户违约，应采取措施。因此，银行应该避免贷款给有风险的客户，监控贷款偿还情况，并在客户陷入困境时重新协商贷款。</li><li id="1de7" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">不良贷款可以通过确保贷款只发放给有能力偿还且不太可能破产的借款人来限制。</li></ul><p id="072a" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">对于这项任务，银行希望根据客户的财务信息预测哪些客户会拖欠贷款。</p><h2 id="5df5" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">我是这样做的</h2><p id="0592" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated"><strong class="kw iu">数据来源</strong>:根据提供的数据(Zindi上的贷款违约预测)，训练和测试数据各有3个不同的数据集；</p><blockquote class="nd"><p id="c562" class="ne nf it bd ng nh ni nj nk nl nm lp dk translated">人口统计数据，</p><p id="ad3a" class="ne nf it bd ng nh ni nj nk nl nm lp dk translated">性能数据</p><p id="9896" class="ne nf it bd ng nh ni nj nk nl nm lp dk translated">以前的贷款数据。</p></blockquote><p id="a772" class="pw-post-body-paragraph ku kv it kw b kx nn ju kz la no jx lc ld np lf lg lh nq lj lk ll nr ln lo lp im bi translated">在这个目录下，有客户的信息，如银行帐户类型、教育程度客户、就业状况客户、出生日期、贷款金额、总到期日、创建日期、批准日期、期限、总到期日、首次到期日、贷款号码、经度gps、纬度gps、好的坏的标志等等。</p><p id="c87e" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">数据清理:我们必须合并三个数据集中的重要特征。清理是通过使用集中趋势的属性填充丢失的值，导入<strong class="kw iu">日期时间</strong>以便处理日期相关的变量，日期时间的<strong class="kw iu">时间戳</strong>将日期特征转换为以秒为单位的时间，将分类列转换为数字列，将数据转换为机器学习算法可以处理的形式。</p><p id="7cc8" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">你知道吗？</p><p id="7500" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">只有少数客户违约(Good_bad_flag)。</strong></p><p id="96ea" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">(好=按时结清贷款；坏账=没有按时结清贷款)-这是我们需要预测的目标变量。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/2710a153d8da64653897b7af549e3ff1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*QFooUS8CsYDwR2lvZ2IbMA.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Good bad flag visualization</figcaption></figure><p id="2e90" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">见解/探索性数据分析(EDA) </strong></p><ul class=""><li id="90cf" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">78.3%的客户没有违约，而21.7%的客户违约。</li></ul><p id="78e0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">大部分违约者拥有储蓄账户(银行_账户_类型)。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/2f88986a4d85ba7717364673770f25b6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*ObtPfGEa2DQGUS33krYT-Q.jpeg"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/ef82521cf7b62f2df86bbc04d2008591.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*R6-WYbAxdp_J12c2Fy4RsA.jpeg"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Bank account type visualization</figcaption></figure><p id="aea3" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">洞察/EDA </strong></p><ul class=""><li id="c21f" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">更多的违约者有储蓄账户。经常账户持有人几乎不会违约。</li><li id="f2f7" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">申请贷款的储蓄账户持有者中，78%没有违约，而21%违约。</li><li id="6e4a" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">85.7%申请贷款的经常账户持有人没有违约，而14%的人违约。</li></ul><p id="9cf0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">违约者多为毕业生(学历_客户)。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/338c44ca6912e7bd3dcbcb6fc4499f40.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*9KK62Ne74yIFiGWVfAuGoQ.jpeg"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/420905a0c675db40708e5b7f925110ec.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*hYQ0kojplJN2FbVmZDk13w.jpeg"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Level of education clients visualization</figcaption></figure><p id="e9d4" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">洞察/EDA </strong></p><ul class=""><li id="352d" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">申请贷款的毕业生中，80%没有违约，20%违约。</li><li id="89d6" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">85%的中学生没有违约，而15%的学生违约。</li><li id="3e52" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">86%的研究生偿还了贷款，而13%的人违约。</li><li id="e4e9" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">所有申请贷款的小学生都没有违约。</li></ul><p id="3202" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">失业人员违约最多(就业_状态_客户)。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/f01e6a0ca2ffb3080ba54a41535bcfaf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*pKyylh4r64tcdkT1TJMihw.jpeg"/></div></figure><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/dee7dcdf12c5257a6a073c2b99a3a91b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*jP2tascsnhiHqnZfae7a_g.jpeg"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Employment status client visualization</figcaption></figure><p id="1b80" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated"><strong class="kw iu">见解/EDA </strong></p><ul class=""><li id="6677" class="lq lr it kw b kx ky la lb ld ls lh lt ll lu lp lv lw lx ly bi translated">申请贷款的永久工人中，78%没有违约，而21%违约。</li><li id="b40c" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">80%申请贷款的学生没有违约，而19%的学生违约。</li><li id="f96f" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">申请贷款的失业者中，73%没有违约，而26%违约。</li><li id="0555" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">申请贷款的个体户中，78%没有违约，20%违约。</li><li id="c3c1" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">所有合同和退休客户都成功偿还了贷款。</li></ul><h2 id="773d" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">酷，现在怎么办？</h2><p id="edae" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">如果你想预测可能违约的客户，这些变量有多重要</p><p id="3507" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是我们接触机器学习的地方，我们将训练模型来预测一个新客户，如果根据历史数据发放贷款，他可能会违约。</p><p id="15f0" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们使用<strong class="kw iu">RandomForestClassifier(RF)</strong>、<strong class="kw iu"> AdaBoostClassifier(Ab) </strong>、<strong class="kw iu">GradientBoostingClassifier(GBR)</strong>来确定我们的模型有多精确。然而，RF被认为具有0.795的精度，Ab具有0.802以及GBR。看起来Ab和GBR的准确性击败了其他机器学习算法。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/5e38033732aed028e0f25955b74083a8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*2Xu-3vQ6LtK7S051tOY_-g.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Models accuracy</figcaption></figure><p id="980f" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">随机森林是最流行的机器学习方法之一，因为它具有相对较好的准确性、鲁棒性和易用性。它还提供了两种简单的特征选择方法:平均减少杂质和平均减少精度。让我们看看Rf认为哪些变量在预测贷款违约方面最重要。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div role="button" tabindex="0" class="nt nu di nv bf nw"><div class="gh gi ns"><img src="../Images/d8b9ac8edb1be94d6629e835c97d04e7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*n_h-qTLXKpovUE-SMNRbVA.jpeg"/></div></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Rf feature importance</figcaption></figure><p id="96b9" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">我们看到，非常简单和无聊。相对重要性在0.06 (60%)以上的变量相当多；客户的出生日期、经度和纬度GPS、贷款批准日期、创建日期、偿还日期、到期日期、关闭日期等等。</p><p id="2fa1" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">既然经度和纬度具有相当高的重要性，那么它们能告诉我们关于贷款违约的什么信息？</p><p id="ca4d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">纬度和经度是地理坐标系统中表示坐标的单位，您只需进行搜索，使用地点、城市、州、地址的名称来检测或跟踪每个客户的位置。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/c445149aa61afb9a82978a51688ac5a6.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*ET5WEHvnUfWwjTexg9uaDw.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Rf Confusion Matrix</figcaption></figure><p id="aa5d" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">根据随机森林混淆矩阵，1.5% (13/870)的客户没有偿还贷款，但预计不会违约，即<strong class="kw iu">假</strong>正<strong class="kw iu">。</strong></p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi ns"><img src="../Images/a0dc009ac3a8a8f0421c7dab834fd5b7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1366/format:webp/1*MDF56AiwUANmdgxGRj1NTw.jpeg"/></div><figcaption class="kq kr gj gh gi ks kt bd b be z dk">Ab Confusion Matrix</figcaption></figure><p id="706b" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">哎呀，有了AdaBoost，我们使假阳性的数量从13下降到0，这看起来像一个欣欣向荣的预测。</p><figure class="kj kk kl km gt kn gh gi paragraph-image"><div class="gh gi nx"><img src="../Images/5ad64a8beee11e476082da430f0096aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1154/format:webp/1*rZVvNv_ybV-bslSlxery9A.jpeg"/></div></figure><p id="ed20" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">在<a class="ae ny" href="https://zindi.africa/competitions/data-science-nigeria-challenge-1-loan-default-prediction/leaderboard?page=2" rel="noopener ugc nofollow" target="_blank"> Zindi </a>上提交后，排行榜上的分数(0.2220)从85到151不等。</p><p id="8625" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">这是一个相当不错的预测！</p><h2 id="e4f1" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">注意事项</h2><ul class=""><li id="7936" class="lq lr it kw b kx my la mz ld nz lh oa ll ob lp lv lw lx ly bi translated">数据中有一些差异。数据差异是很常见的，误解会导致错误的结论。这意味着我在本质上被方法、估计和误差所束缚。例如，数据显示所有申请贷款的小学生都没有违约。我宁死也不相信那是真的。</li><li id="cc9d" class="lq lr it kw b kx ma la mb ld mc lh md ll me lp lv lw lx ly bi translated">没有一种方法可以确定客户是否会停止还款，即使有方法，也很难准确预测。然而，一些因素可能有助于客户的还款潜力。</li></ul><p id="da42" class="pw-post-body-paragraph ku kv it kw b kx ky ju kz la lb jx lc ld le lf lg lh li lj lk ll lm ln lo lp im bi translated">点击<a class="ae ny" href="https://github.com/Precillieo/SCA-mp-C2-Assignments/blob/master/Last%20Project/Loan%20CrPd.ipynb" rel="noopener ugc nofollow" target="_blank"> <strong class="kw iu">此处</strong> </a>查看Github上的所有代码。</p><h2 id="41ac" class="mf mg it bd mh mi mj dn mk ml mm dp mn ld mo mp mq lh mr ms mt ll mu mv mw mx bi translated">感谢</h2><p id="d3b0" class="pw-post-body-paragraph ku kv it kw b kx my ju kz la mz jx lc ld na lf lg lh nb lj lk ll nc ln lo lp im bi translated">这描述了我作为She Code Africa的学员在数据科学领域的最后一个项目。非常感谢我的导师阿米努·伊斯雷尔为这次成功所付出的不懈努力和鼓励。</p></div></div>    
</body>
</html>