<html>
<head>
<title>Cheatbook for Spacy | Getting started with Spacy</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">空间指南|空间入门</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/cheat-book-for-spacy-688bf7709e8a?source=collection_archive---------5-----------------------#2020-06-12">https://medium.datadriveninvestor.com/cheat-book-for-spacy-688bf7709e8a?source=collection_archive---------5-----------------------#2020-06-12</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><div class=""><h2 id="69f3" class="pw-subtitle-paragraph jq is it bd b jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh dk translated">NLP开源工具</h2></div><p id="9fda" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">嘿，我之前的故事《熊猫秘籍》得到了很好的反响。所以我想到为使用最广泛的NLP库<strong class="kk iu"> Spacy </strong>写一个故事。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi lf"><img src="../Images/d98cf35d36b8b29ba61644938690b410.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*AadduQ3filxzra8yeEY5Jg.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk"><a class="ae le" href="https://nlpforhackers.io/complete-guide-to-spacy/" rel="noopener ugc nofollow" target="_blank">Source</a></figcaption></figure><p id="9569" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">没有给出任何进一步的介绍和解释，我们开始。</p><p id="2ca1" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu"> Spacy </strong>是领先的NLP库，被广泛使用。它推出了<strong class="kk iu">语言专用</strong>和<strong class="kk iu">不同尺寸的型号。</strong></p><div class="lv lw gp gr lx ly"><a href="https://www.datadriveninvestor.com/2020/03/24/encoder-decoder-sequences-how-long-is-too-long/" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">编码器解码器序列:多长是太长？数据驱动的投资者</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">在机器学习中，很多时候我们处理的输入是序列，输出也是序列。我们称这样的一个…</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="mh l"><div class="mi l mj mk ml mh mm lp ly"/></div></div></a></div><p id="a40c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">为其安装</strong>空间和语言库。</p><pre class="lg lh li lj gt mn mo mp mq aw mr bi"><span id="4352" class="ms mt it mo b gy mu mv l mw mx">pip install -U spacy<br/>#If you want small<br/>python -m spacy download en_core_web_sm<br/>#medium<br/>python -m spacy download en_core_web_md<br/>#large<br/>python -m spacy download en_core_web_lg</span></pre><p id="2c86" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">导入</strong>空间并加载语言模型。</p><pre class="lg lh li lj gt mn mo mp mq aw mr bi"><span id="d29c" class="ms mt it mo b gy mu mv l mw mx">import spacy<br/>nlp = spacy.load('en_core_web_sm')</span></pre><p id="1d57" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">处理</strong>带有空格的文本</p><pre class="lg lh li lj gt mn mo mp mq aw mr bi"><span id="3e29" class="ms mt it mo b gy mu mv l mw mx">doc = nlp("Hi I am Spacy. Use me for your NLP tasks")</span></pre><p id="792b" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">你可以用doc尝试很多事情。</p><p id="86b6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">标记化</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi my"><img src="../Images/7a4b04c9eaa50d26a38336ebf2790749.png" data-original-src="https://miro.medium.com/v2/resize:fit:722/format:webp/1*zAbepHCnMA6s8YlCEKZNWQ.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="98d6" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">预处理</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi mz"><img src="../Images/1b63354889874d9ae001b25796b26f99.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*17B_FIJirp8Fhc5LBMC5QQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="1b38" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">语义标记化</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi na"><img src="../Images/0b61a26b4b451710b3035caa651c5bac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*LdbP54ulTl47TecDUjaKyQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="8c07" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">形状</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nb"><img src="../Images/437dd9c6701cb6f85a9f10a12befc60c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1092/format:webp/1*F9Zxq-kq3IEuus-lNvzvgw.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="7dfd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">词性标注</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nc"><img src="../Images/88007ef5507633713a72394bfbb6d693.png" data-original-src="https://miro.medium.com/v2/resize:fit:780/format:webp/1*FyDaZKnj6WNuL-hAIllkiQ.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="f50e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">空间解释</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nd"><img src="../Images/ef3bdabde628a211238f74b50afda50d.png" data-original-src="https://miro.medium.com/v2/resize:fit:432/format:webp/1*kPJHg61cFbdxxjjMougnrw.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="698d" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">依存解析</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ne"><img src="../Images/5046fb809c27f2efa7beedf57b97c02f.png" data-original-src="https://miro.medium.com/v2/resize:fit:616/format:webp/1*gcglnS03uAVZ3TWqph4-DA.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="ea50" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">命名实体识别</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nf"><img src="../Images/5bf827c96886c6ff9385450c64042b94.png" data-original-src="https://miro.medium.com/v2/resize:fit:808/format:webp/1*GPBMmBIDmhz24ixRbNnYMA.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="6cf3" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">相似度</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi ng"><img src="../Images/46b5260c12b1465dbf757428cc4bdb8b.png" data-original-src="https://miro.medium.com/v2/resize:fit:538/format:webp/1*Aqy1GuuJbRjUV-asGW3Y9A.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="69bd" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">创建名词块</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/79e8c8c5fb0617ad8bdf6fb76f327bea.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*eTpyLLKc-XrSr-xiapmV9g.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="bb03" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">还有，</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi ni"><img src="../Images/6c344f8a5725786e7c16d8327bef480d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*tRa1iQhRMsVdlkC8eNDkvQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="6a82" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">模式匹配</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div role="button" tabindex="0" class="ll lm di ln bf lo"><div class="gh gi nj"><img src="../Images/417e47e21d16041a1e1065202db44250.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QVtOvvNFn0mlQezF4GKZQQ.png"/></div></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="fa5c" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">文本分类器</strong>空间管道</p><p id="787e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这是一个简单的空间管道，有助于单词袋的转换，也有助于创建一个简单的线性模型。</p><p id="6026" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">在Spacy中，我们可以创建和删除管道。在上述案例中，Spacy-doc提供了所有管道。因此，在这里，我们将创建一个空的空间模型，并添加文本分类管道。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nk"><img src="../Images/74419820258da7491c5090acba8cd570.png" data-original-src="https://miro.medium.com/v2/resize:fit:1012/format:webp/1*l_MTLiF-r5FAlWmdHqLCBw.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated By Author</figcaption></figure><p id="7503" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">现在我们需要给管道添加标签。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nl"><img src="../Images/748f8cdff7d4ce03be148d95dc907601.png" data-original-src="https://miro.medium.com/v2/resize:fit:704/format:webp/1*xDIHylJNfgki9-ZaJaHgzA.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated By Author</figcaption></figure><p id="2715" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">让我们看看我们将要使用的数据集。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nh"><img src="../Images/ca29b618b4fae23ee9dafc0f7d5bfdff.png" data-original-src="https://miro.medium.com/v2/resize:fit:836/format:webp/1*zL5x39xOS0c8n6RIaKUMRw.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Source: Kaggle</figcaption></figure><p id="5774" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">创建培训文本和标签。</p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nm"><img src="../Images/e606dbfc8201737dc6cd67aeb94d370e.png" data-original-src="https://miro.medium.com/v2/resize:fit:902/format:webp/1*na1Mc1HV5y-ksHDv9J-Qvg.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="8f64" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出:</p><pre class="lg lh li lj gt mn mo mp mq aw mr bi"><span id="d069" class="ms mt it mo b gy mu mv l mw mx">[('Go until jurong point, crazy.. Available only in bugis n great world la e buffet... Cine there got amore wat...',<br/>  {'cats': {'ham': True, 'spam': False}}),<br/> ('Ok lar... Joking wif u oni...', {'cats': {'ham': True, 'spam': False}}),<br/> ("Free entry in 2 a wkly comp to win FA Cup final tkts 21st May 2005. Text FA to 87121 to receive entry question(std txt rate)T&amp;C's apply 08452810075over18's",<br/>  {'cats': {'ham': False, 'spam': True}})]</span></pre><p id="0218" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">训练数据</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi nn"><img src="../Images/3fbe9a718865e033f11680dacd32d4bf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1050/format:webp/1*xI_bTVAx5R36-zgFztgs5w.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Source : Kaggle</figcaption></figure><p id="a53e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">这里我们运行了10个时期的代码。分批训练通常更好。所以我们使用了名为<strong class="kk iu">的8尺寸迷你批次</strong>的spacy函数。我们首先用<strong class="kk iu"> nlp.begin_training() </strong>创建一个优化器。现在，每一批都得到预测，损失被计算，然后使用<strong class="kk iu"> nlp.update() </strong>更新模型参数。从而提高性能并拟合数据。</p><p id="d2b7" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出:</p><pre class="lg lh li lj gt mn mo mp mq aw mr bi"><span id="e0ee" class="ms mt it mo b gy mu mv l mw mx">{'textcat': 0.4334991069604257}<br/>{'textcat': 0.6496019485207398}<br/>{'textcat': 0.7863673790055303}<br/>{'textcat': 0.8737475677702786}<br/>{'textcat': 0.9302242464558885}<br/>{'textcat': 0.9677437641341992}<br/>{'textcat': 0.9961505980065267}<br/>{'textcat': 1.0150542168295829}<br/>{'textcat': 1.0298431610185577}<br/>{'textcat': 1.040148884840773}</span></pre><p id="b5e2" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated"><strong class="kk iu">预测</strong></p><figure class="lg lh li lj gt lk gh gi paragraph-image"><div class="gh gi no"><img src="../Images/5c9cfd75c3da6d0db959ee419718366a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1202/format:webp/1*4E_40FQnOy9QhjiwSYbzQQ.png"/></div><figcaption class="lr ls gj gh gi lt lu bd b be z dk">Generated by Author</figcaption></figure><p id="0f49" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">输出:</p><pre class="lg lh li lj gt mn mo mp mq aw mr bi"><span id="028c" class="ms mt it mo b gy mu mv l mw mx">['ham', 'spam']</span></pre><p id="e04e" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">谢谢你的阅读。希望对你有用。太棒了。</p></div><div class="ab cl np nq hx nr" role="separator"><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu nv"/><span class="ns bw bk nt nu"/></div><div class="im in io ip iq"><p id="00bf" class="pw-post-body-paragraph ki kj it kk b kl km ju kn ko kp jx kq kr ks kt ku kv kw kx ky kz la lb lc ld im bi translated">参考:</p><div class="lv lw gp gr lx ly"><a href="https://www.kaggle.com/matleonard/intro-to-nlp" rel="noopener  ugc nofollow" target="_blank"><div class="lz ab fo"><div class="ma ab mb cl cj mc"><h2 class="bd iu gy z fp md fr fs me fu fw is bi translated">自然语言处理简介</h2><div class="mf l"><h3 class="bd b gy z fp md fr fs me fu fw dk translated">使用Kaggle笔记本探索和运行机器学习代码|使用来自多个数据源的数据</h3></div><div class="mg l"><p class="bd b dl z fp md fr fs me fu fw dk translated">www.kaggle.com</p></div></div><div class="mh l"><div class="nw l mj mk ml mh mm lp ly"/></div></div></a></div><figure class="lg lh li lj gt lk"><div class="bz fp l di"><div class="nx ny l"/></div></figure></div></div>    
</body>
</html>