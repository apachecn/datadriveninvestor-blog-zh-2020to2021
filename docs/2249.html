<html>
<head>
<title>Deploying Amazon Textract via Image Bytes</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">通过图像字节部署Amazon Textract</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/deploying-amazon-textract-via-image-bytes-311510434d7a?source=collection_archive---------5-----------------------#2020-04-21">https://medium.datadriveninvestor.com/deploying-amazon-textract-via-image-bytes-311510434d7a?source=collection_archive---------5-----------------------#2020-04-21</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><p id="77bc" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">我们有Amazon Textract为什么还要在纸上做检测！！</p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi kl"><img src="../Images/e27bc1bfb7f55676e6de84ae0efbaffd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*uM4DkY0Jf6-0HDoD9s-jBQ.jpeg"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Manual Detection: <a class="ae lb" href="https://unsplash.com/s/photos/detective" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="6bfe" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在通过云计算平台和API为网站托管或创业提供可靠服务方面，亚马逊证明了自己的前景。许多这些服务都倾向于机器学习，你不需要成为数学大师来使用这些服务并获得想要的输出。</p><p id="fe0d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">最近，我一直在做一个项目，该项目需要使用2019年11月发布的<strong class="jp ir"> <em class="lc">亚马逊Textract </em> </strong> API。Amazon Textract主要用于从<strong class="jp ir"> <em class="lc">图像、pdf</em></strong>和<strong class="jp ir"> <em class="lc">表单</em> </strong>中进行<strong class="jp ir"> <em class="lc">文本检测</em> </strong>和<strong class="jp ir"> <em class="lc">分析</em> </strong>，但也可以执行许多其他经常需要的任务，如文档翻译和文档搜索。我在Textract中发现的最与众不同的特性是，它能够在提取的文档中保持与原始文档相同的文本顺序，无论是表格、表单还是段落。</p><h1 id="7695" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">S3桶与图像字节</h1><p id="6b70" class="pw-post-body-paragraph jn jo iq jp b jq mb js jt ju mc jw jx jy md ka kb kc me ke kf kg mf ki kj kk ij bi translated">写这篇博客的想法是在我卡在Textract的输入参数时产生的。它提供了两种输入方式-</p><ul class=""><li id="a8df" class="mg mh iq jp b jq jr ju jv jy mi kc mj kg mk kk ml mm mn mo bi translated">通过上传对象到<strong class="jp ir"><em class="lc"/></strong>S3桶然后在你的程序中调用它。大多数参考资料解释了这种向API提供输入的方式，即通过手动为S3桶创建对象，因为这种方式更容易。但是我发现它很麻烦，因为您需要手动将每个文档上传到您想要分析的bucket中。</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mp"><img src="../Images/db8e63e8ec3513a2fd5c5eab8cabbbbc.png" data-original-src="https://miro.medium.com/v2/resize:fit:912/format:webp/1*rzL_oU0nnapQjS3aaPjfeg.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Using S3 Bucket method</figcaption></figure><ul class=""><li id="2bb7" class="mg mh iq jp b jq jr ju jv jy mi kc mj kg mk kk ml mm mn mo bi translated">如果使用的是<strong class="jp ir"><em class="lc">AWS SDK(boto 3)</em></strong>，可以传递不需要Base64硬编码字节数组的图像字节。它只需要存在于您的本地系统中，我们可以通过路径直接调用映像。如果您使用AWS CLI进行访问，那么您需要对图像进行Base64编码。我将在本文中进一步解释Boto3，即SDK方法。 </li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mq"><img src="../Images/e762a030602aaae174504ab13baad781.png" data-original-src="https://miro.medium.com/v2/resize:fit:1332/format:webp/1*pBuhb1VNT0c4JBLUTLBqOw.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Delete the S3Object Key-Value pair and use Bytes method for input</figcaption></figure><p id="9e75" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Boto3是AWS发布的SDK，用于调用API和执行各种开发任务。<strong class="jp ir"> <em class="lc">(你可以找到更多关于</em> </strong> <a class="ae lb" href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/quickstart.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="lc">这个</em> </strong> </a> <strong class="jp ir"> <em class="lc">的链接)</em> </strong></p><h1 id="aa04" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">复杂概念的简单步骤</h1><ul class=""><li id="a355" class="mg mh iq jp b jq mb ju mc jy mr kc ms kg mt kk ml mm mn mo bi translated"><strong class="jp ir"> <em class="lc"> pip安装boto3 </em> </strong> <em class="lc"> </em>会轻松安装调用API所需的SDK。</li><li id="932a" class="mg mh iq jp b jq mu ju mv jy mw kc mx kg my kk ml mm mn mo bi translated">从<a class="ae lb" href="https://aws.amazon.com/cli/" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir"> <em class="lc">此</em> </strong> </a>链接下载AWS CLI以设置凭证和配置。</li><li id="b0eb" class="mg mh iq jp b jq mu ju mv jy mw kc mx kg my kk ml mm mn mo bi translated">安装后。exe CLI程序，键入<strong class="jp ir"> <em class="lc"> aws在你的OS的cmd中配置</em> </strong>并填写要求。</li><li id="bf6e" class="mg mh iq jp b jq mu ju mv jy mw kc mx kg my kk ml mm mn mo bi translated">代码如下-</li></ul><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi mz"><img src="../Images/4bb35c4c0be25360a37c625767528db1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1378/format:webp/1*7BQeNCD9rmKRqJxqPWbNmg.png"/></div></figure><figure class="km kn ko kp gt kq gh gi paragraph-image"><div class="gh gi na"><img src="../Images/34f0b06deea8a05cbab46c41ccdb4a60.png" data-original-src="https://miro.medium.com/v2/resize:fit:1296/format:webp/1*e0hAhb8d9uLipsCZXozk6g.png"/></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Code snippet of an example program</figcaption></figure><ul class=""><li id="58a1" class="mg mh iq jp b jq jr ju jv jy mi kc mj kg mk kk ml mm mn mo bi translated"><strong class="jp ir">响应</strong>包含所有检测到的文本信息，如JSON格式的边界框坐标、文本类型(页面、行或字)以及高度和宽度信息。</li></ul><h1 id="678e" class="ld le iq bd lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly lz ma bi translated">输出行话</h1><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi nb"><img src="../Images/d042a183ba2df22b3db00b346f8c1add.png" data-original-src="https://miro.medium.com/v2/resize:fit:480/format:webp/1*MUk4K_LKyVSFVuQliquc4g.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk">Measurement Format of Textract</figcaption></figure><p id="03bf" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">Textract以父子格式<em class="lc">提供JSON格式的输出(我已经附上了进一步阅读的链接)</em>。要以正确的位置和大小显示边界框，您必须将bounding box值乘以文档页面宽度或高度(取决于您想要的值)以获得像素值。使用像素值来显示边界框。一个示例是使用608像素宽x 588像素高的文档页面，并对分析的文本使用以下边界框值:</p><p id="d434" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">边界框。左:0.3922065 <br/>包围。顶部:0.15567766 <br/>接线盒。宽度:0.284666 <br/>接线盒。高度:0.2930403 </strong></p><figure class="km kn ko kp gt kq gh gi paragraph-image"><div role="button" tabindex="0" class="kr ks di kt bf ku"><div class="gh gi gj"><img src="../Images/ab1281accd1e1f81a01ad85dc48b5160.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Me7gXE5MoTk-CTUI9ZbloA.png"/></div></div><figcaption class="kx ky gj gh gi kz la bd b be z dk"><a class="ae lb" href="https://docs.aws.amazon.com/textract/latest/dg/text-location.html" rel="noopener ugc nofollow" target="_blank">Link</a></figcaption></figure><p id="0295" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated">在 这里可以找到完整的JSON格式输出示例<a class="ae lb" href="https://docs.aws.amazon.com/textract/latest/dg/text-location.html" rel="noopener ugc nofollow" target="_blank"> <strong class="jp ir">。</strong></a></p><p id="4f1d" class="pw-post-body-paragraph jn jo iq jp b jq jr js jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk ij bi translated"><strong class="jp ir">参考文献:</strong></p><ul class=""><li id="dc1c" class="mg mh iq jp b jq jr ju jv jy mi kc mj kg mk kk ml mm mn mo bi translated"><a class="ae lb" href="https://aws.amazon.com/blogs/machine-learning/automatically-extract-text-and-structured-data-from-documents-with-amazon-textract/" rel="noopener ugc nofollow" target="_blank"> AWS </a>，<a class="ae lb" href="https://docs.aws.amazon.com/textract/latest/dg/text-location.html" rel="noopener ugc nofollow" target="_blank"> Textract </a></li><li id="d357" class="mg mh iq jp b jq mu ju mv jy mw kc mx kg my kk ml mm mn mo bi translated">发布会<a class="ae lb" href="https://www.youtube.com/watch?v=5g48uf5sCu8" rel="noopener ugc nofollow" target="_blank">视频</a></li></ul><figure class="km kn ko kp gt kq"><div class="bz fp l di"><div class="nc nd l"/></div></figure></div></div>    
</body>
</html>