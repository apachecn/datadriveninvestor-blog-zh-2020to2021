<html>
<head>
<title>Machine Learning with PHP: using Support Vector Machine (SVM) via ext-svm</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">PHP机器学习:通过ext-svm使用支持向量机(SVM)</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/machine-learning-with-php-using-support-vector-machine-svm-via-ext-svm-37ef9c3027cd?source=collection_archive---------13-----------------------#2020-12-23">https://medium.datadriveninvestor.com/machine-learning-with-php-using-support-vector-machine-svm-via-ext-svm-37ef9c3027cd?source=collection_archive---------13-----------------------#2020-12-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/21eebe037c5da6a99e63693dcc9650f8.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*m6gDan1LFREtstcY"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@markuswinkler?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Markus Winkler</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="2ab3" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">PHP是一种非常受欢迎的语言，当某个东西变得非常受欢迎时，通常会有人出来说“这不酷”，没关系，这是事实。我读过很多文章说“PHP对于机器学习来说并不酷”或者说“只要转移到语言X来执行它，它会工作得更好”(我不打算燃烧另一种语言，只是在互联网上谈论一些随机的东西)。</p><p id="4a67" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我是一个PHP爱好者，我不会否认这一点，我尝试了不同的语言，框架，开发了原生应用程序，我喜欢尝试新事物，但我也喜欢PHP。但是有时我会因为PHP生态系统缺少一些非常有趣的特性而退缩，比如强大的机器学习库。</p><p id="30c5" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上一次发生这种情况是在我写博士论文的时候。我的论文是关于“室内定位”的:我必须研究各种技术，描绘出执行定位的可能方法，最后，我必须构建一个由处理定位的web界面和使用它的客户端组成的实验系统。</p><p id="e0ef" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为了研究室内定位，由于我的大学身份，我从IEEE Explore获得了许多论文，研究了不同的方法，我最终选择了一种技术组合来实现我的定位，但这不是本文的目的。</p><p id="600d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">这跟PHP和机器学习有什么关系？</strong>嗯，这有点奇怪，我进行的所有测试都是为了了解SVM如何在python中工作，因为帮助我开发的工程师精通Python，但我必须编写一个web应用程序，而那个工程师并不实际编写后端，所以我有了一个想法，我在谷歌上搜索“PHP svm”，第一个结果是来自PHP.net文档的“<a class="ae kc" href="https://www.php.net/manual/en/book.svm.php" rel="noopener ugc nofollow" target="_blank"> SVM —手动— PHP </a>”。</p><h1 id="97a3" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">Ext-svm:什么和为什么</h1><p id="441a" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">批评者来了，PHP刚刚接近机器学习，其他语言已经有很多年了，我为什么要选择它呢？这很简单，因为<a class="ae kc" href="https://github.com/ianbarber/php-svm" rel="noopener ugc nofollow" target="_blank"> ext-svm </a>只是用C++编写的<a class="ae kc" href="https://www.csie.ntu.edu.tw/~cjlin/libsvm/" rel="noopener ugc nofollow" target="_blank"> libsvm库</a>(<a class="ae kc" href="https://github.com/cjlin1/libsvm" rel="noopener ugc nofollow" target="_blank">check libSVM on Github</a>)的包装器，这意味着每次你想使用PHP执行SVM操作时，这将在较低的级别执行，并且由于ext-svm接口，结果将传播到PHP。</p><blockquote class="me mf mg"><p id="70eb" class="kd ke mh kf b kg kh ki kj kk kl km kn mi kp kq kr mj kt ku kv mk kx ky kz la ij bi translated">LibSVM是SVM分类和回归问题的高效求解器。svm扩展将此封装在PHP接口中，以便在PHP脚本中轻松使用。从版本0.2.0开始，扩展需要PHP 7.0或更高版本。</p></blockquote><p id="9a9b" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">对我来说，这太棒了！这就是我从我不太了解的Python (python开发者请不要恨我)转移到我更熟练的PHP所需要的一切。</p><h1 id="731c" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">安装ext-svm</h1><p id="56d8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">首先，该扩展在<a class="ae kc" href="https://pecl.php.net/package/svm" rel="noopener ugc nofollow" target="_blank"> Pecl </a>上可用，这意味着如果你有管理员权限访问命令行，你就可以</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="9cb5" class="mu lc iq mq b gy mv mw l mx my">pecl install svm</span></pre><p id="b8b9" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">请注意，ext-svm目前处于测试阶段，因此如果您对pecl有任何问题，要安装它，您只需:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="9bd2" class="mu lc iq mq b gy mv mw l mx my">pecl install svm-beta</span></pre><p id="f5ed" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">输出将类似于:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="f447" class="mu lc iq mq b gy mv mw l mx my">downloading svm-0.2.3.tgz ...<br/>Starting to download svm-0.2.3.tgz (130,776 bytes)<br/>.............................done: 130,776 bytes<br/>7 source files, building</span><span id="d8d5" class="mu lc iq mq b gy mz mw l mx my">[... skipping the whole output ...]</span><span id="5acc" class="mu lc iq mq b gy mz mw l mx my">Build process completed successfully<br/>Installing '/usr/lib/php/20190902/svm.so'<br/>install ok: channel://pecl.php.net/svm-0.2.3<br/><strong class="mq ir">Extension svm enabled in php.ini</strong></span></pre><p id="ca8c" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您想检查扩展是否已经正确安装，只需启动:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="74f0" class="mu lc iq mq b gy mv mw l mx my">$ php -m | grep svm </span><span id="a0f7" class="mu lc iq mq b gy mz mw l mx my"><strong class="mq ir">svm</strong></span></pre><p id="2502" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">扩展现在已经安装好了，您可以开始了！</p><div class="na nb gp gr nc nd"><a href="https://www.datadriveninvestor.com/2020/11/19/how-machine-learning-and-artificial-intelligence-changing-the-face-of-ecommerce/" rel="noopener  ugc nofollow" target="_blank"><div class="ne ab fo"><div class="nf ab ng cl cj nh"><h2 class="bd ir gy z fp ni fr fs nj fu fw ip bi translated">机器学习和人工智能如何改变电子商务的面貌？|数据驱动…</h2><div class="nk l"><h3 class="bd b gy z fp ni fr fs nj fu fw dk translated">电子商务开发公司，现在，整合先进的客户体验到一个新的水平…</h3></div><div class="nl l"><p class="bd b dl z fp ni fr fs nj fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="nm l"><div class="nn l no np nq nm nr jw nd"/></div></div></a></div><h1 id="6c65" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">构建您的第一个分类器</h1><p id="10d8" class="pw-post-body-paragraph kd ke iq kf b kg lz ki kj kk ma km kn ko mb kq kr ks mc ku kv kw md ky kz la ij bi translated">为了构建我们的第一个分类器，我们将坚持使用<a class="ae kc" href="https://www.php.net/manual/en/svm.examples.php" rel="noopener ugc nofollow" target="_blank">文档示例</a>并检查它是否工作。我们的分类器将从一个数组中训练，我们将检查它是否可以从训练数据集中预测一个值。</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="f4d2" class="mu lc iq mq b gy mv mw l mx my">&lt;?php<br/>$data = array(<br/>    array(-1, 1 =&gt; 0.43, 3 =&gt; 0.12, 9284 =&gt; 0.2),<br/>    array(1, 1 =&gt; 0.22, 5 =&gt; 0.01, 94 =&gt; 0.11),<br/>);<br/><br/><strong class="mq ir">$svm = new SVM();<br/>$model = $svm-&gt;train($data);</strong><br/><br/>$data = array(1 =&gt; 0.43, 3 =&gt; 0.12, 9284 =&gt; 0.2);<br/><strong class="mq ir">$result = $model-&gt;predict($data);</strong><br/>echo $result;</span></pre><p id="1bf2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您保存这个文件，然后通过控制台运行它，或者将它放在web服务器中并访问它，结果应该是<code class="fe ns nt nu mq b">-1</code>。<strong class="kf ir">为什么？</strong></p><p id="ea8f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">让我们分解我们的代码来理解它是如何工作的。在前两行，我们找到了代表数据的数组</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="9b05" class="mu lc iq mq b gy mv mw l mx my">$data = array(<br/>    array(-1, 1 =&gt; 0.43, 3 =&gt; 0.12, 9284 =&gt; 0.2),<br/>    array(1, 1 =&gt; 0.22, 5 =&gt; 0.01, 94 =&gt; 0.11),<br/>);</span></pre><p id="5802" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果关注内部数组，每一行都可以分成两部分:结果和用于训练的特征。数组的第一个值(在索引0处)是分类结果，随后是特征，因此对于<code class="fe ns nt nu mq b">array(-1, 1 =&gt; 0.43, 3 =&gt; 0.12, 9284 =&gt; 0.2)</code>,分类结果将是<code class="fe ns nt nu mq b">-1</code>,随后被分组为键/值对的值是特征。</p><p id="3e02" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">后来我们实例了<a class="ae kc" href="https://www.php.net/manual/en/class.svm.php" rel="noopener ugc nofollow" target="_blank"> SVM </a>:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="9969" class="mu lc iq mq b gy mv mw l mx my">$svm = new SVM();</span></pre><p id="7aea" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">可以通过调用<code class="fe ns nt nu mq b"><a class="ae kc" href="https://www.php.net/manual/en/svm.setoptions.php" rel="noopener ugc nofollow" target="_blank">setOptions</a></code>来调整SVM实例，例如，您可以在训练之前更改您的内核:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="549a" class="mu lc iq mq b gy mv mw l mx my">$svm-&gt;setOptions([ <strong class="mq ir">SVM::OPT_KERNEL_TYPE</strong> =&gt; <strong class="mq ir">SVM::KERNEL_SIGMOID</strong> ]);</span></pre><p id="2b23" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">调整选项的常量值可以在php.net的<a class="ae kc" href="https://www.php.net/manual/en/class.svm.php" rel="noopener ugc nofollow" target="_blank"> SVM类文档中找到</a>。</p><p id="c140" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们已经准备好了SVM，我们可以训练一个模型:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="2a34" class="mu lc iq mq b gy mv mw l mx my">$model = $svm-&gt;train($data);</span></pre><p id="cb1d" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这一行输出一个<a class="ae kc" href="https://www.php.net/manual/en/class.svmmodel.php" rel="noopener ugc nofollow" target="_blank"> SVMModel </a>，我们可以用它来进行预测。如果你有一个非常大的模型，你可以用<code class="fe ns nt nu mq b">save(string $filename)</code>把它保存到一个文件中，然后用<code class="fe ns nt nu mq b">load(string $filename)</code>从文件系统中重新加载，如下所示:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="2a02" class="mu lc iq mq b gy mv mw l mx my">$model-&gt;save('model.svm');<br/>// later... somewhere in the code<br/>$model-&gt;load('model.svm');</span></pre><p id="ea3f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kf ir">请注意</strong> : <code class="fe ns nt nu mq b">save</code>和<code class="fe ns nt nu mq b">load</code>将返回一个布尔值，你可以检查它或者丢弃它，由你决定！</p><p id="8aec" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最近的三行是测试代码:</p><pre class="ml mm mn mo gt mp mq mr ms aw mt bi"><span id="30d8" class="mu lc iq mq b gy mv mw l mx my">$data = array(1 =&gt; 0.43, 3 =&gt; 0.12, 9284 =&gt; 0.2);<br/>$result = $model-&gt;predict($data);<br/>echo $result;</span></pre><p id="f45f" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">你得到你测量的特征，想要对照模型进行检查，并把它们放入一个数组，在这段代码中，这个数组叫做<code class="fe ns nt nu mq b">$data</code>。这些特征将通过使用训练集从SVM进行处理。</p><p id="4472" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦我们的数据准备好了，我们就可以调用<code class="fe ns nt nu mq b">predict</code>来对作为输入传递的数据进行分类，并得到一个对应于预测的浮点输出。最后，我们可以呼应它，或者在其他地方使用它。</p><h1 id="7ce8" class="lb lc iq bd ld le lf lg lh li lj lk ll lm ln lo lp lq lr ls lt lu lv lw lx ly bi translated">建造，训练，预测</h1><figure class="ml mm mn mo gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nv"><img src="../Images/07ac349aefc5f3744e6122da77161580.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*vrDNXDsT1Q2nXBAk"/></div></div><figcaption class="jy jz gj gh gi ka kb bd b be z dk">Photo by <a class="ae kc" href="https://unsplash.com/@srd844?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Stephen Dawson</a> on <a class="ae kc" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="22b2" class="pw-post-body-paragraph kd ke iq kf b kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在你的系统已经安装了PHP SVM扩展，你可以训练一个模型，保存它，重新加载它并进行预测，从现在开始，一切都取决于你！</p><h2 id="ee41" class="mu lc iq bd ld nw nx dn lh ny nz dp ll ko oa ob lp ks oc od lt kw oe of lx og bi translated">访问专家视图— <a class="ae kc" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank">订阅DDI英特尔</a></h2></div></div>    
</body>
</html>