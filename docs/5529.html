<html>
<head>
<title>How to Build Your AI-Powered Virtual Assistant 🎙</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何构建你的人工智能虚拟助手🎙</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/how-to-build-your-ai-powered-virtual-assistant-8ce474ab200e?source=collection_archive---------0-----------------------#2020-09-23">https://medium.datadriveninvestor.com/how-to-build-your-ai-powered-virtual-assistant-8ce474ab200e?source=collection_archive---------0-----------------------#2020-09-23</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="33c3" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">你有没有想过如何模仿流行的虚拟助手，如谷歌、Siri、Alexa甚至更好的钢铁侠的J.A.R.V.I.S？</h2></div><p id="e011" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">今年早些时候，我无意中打开了这篇有趣的文章，内容是脸书的联合创始人兼首席执行官马克·扎克伯格如何打造了一个像贾维斯一样的人工智能助手，以实现家庭自动化，并向现实生活中的钢铁侠迈进了一步。</p><p id="b184" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您想了解更多信息，请查看Mark的这篇文章:</p><div class="lb lc gp gr ld le"><a href="https://www.facebook.com/notes/mark-zuckerberg/building-jarvis/10154361492931634" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">脸谱网</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">我2016年的个人挑战是建立一个简单的人工智能来管理我的家——就像钢铁侠中的贾维斯一样。我的目标是学习…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.facebook.com</p></div></div><div class="ln l"><div class="lo l lp lq lr ln ls lt le"/></div></div></a></div><p id="9cca" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所以，这真的激励我做同样的事情，虽然我一直在拖延，但我最终开始了，让我告诉你，这太不可思议了！！</p><p id="9cda" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">看，制作你的虚拟助手的好处是你可以根据你的喜好定制和个性化它，使它适合你的爱好和兴趣，从而产生一个像J.A.R.V.I.S .一样的坏蛋人工智能。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi lu"><img src="../Images/df11bb9aed55794d83da644e913e1f67.png" data-original-src="https://miro.medium.com/v2/resize:fit:1000/0*M4oY8CFmAd_OmBaW.gif"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Next Step: Make the suit 🚀 (Source: Giphy)</figcaption></figure><h1 id="eb72" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">什么是虚拟助理？🤔</h1><p id="80b5" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">如果你还不知道，虚拟助理本质上是一个软件代理，能够根据个人的查询、命令或问题执行任务或服务。它是一组程序，可以执行用户通常会做的功能。但是，如果它能做人类通常会做的事情，难道它不是人工智能吗？<em class="nc">不完全是</em></p><p id="23d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">虽然<strong class="kh ir">人工智能</strong>指的是<strong class="kh ir">对人类智能</strong>的模拟，并被编程为模仿我们的行为和像我们一样思考，但我们将制造的东西可以被认为是一个<strong class="kh ir"> AI，</strong>但许多人会不同意。所以，让我们不要太超前，因为我们将在文章快结束时回到这个话题。</p><p id="fc91" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">不同行业有不同种类的助理，如社交媒体、营销等。像<strong class="kh ir">谷歌助手、Alexa、Siri或者Cortona </strong>一样思考。这不是一个新东西，因为这些助手已经在市场上存在多年了，但最近几年的快速创新已经令人震惊。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi nd"><img src="../Images/e3b0ad3c4006773e13b9bcbf411ad389.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*7BTWBc3IG-P9GxVt.gif"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Apple’s HomePod, Amazon Echo and Google Home are some of the virtual assistant equipped speakers you might be used to be seeing (Source: New York Times)</figcaption></figure><p id="a635" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这是因为我们正在学习如何利用<strong class="kh ir">机器学习算法，</strong>虽然使这些机器更容易犯错误，但随着时间的推移，允许机器理解和改进，因为机器不断训练自己，以最终实现成为<strong class="kh ir">人工智能</strong>的目标。</p><p id="49a8" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">更简单地说，<strong class="kh ir">机器学习算法有助于减少代码</strong>，而不是<strong class="kh ir">显式地对用户说的每个关键词进行编程</strong>，这可能会触发一个动作，因为它只是随着时间的推移而学习。</p><p id="f02f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">读完所有这些，你可能会想<strong class="kh ir">哇！</strong>太棒了，我可能会去订购一个智能音箱。但是尽管使用这些助手会带来固有的<strong class="kh ir"/>因素，你会发现这些助手<strong class="kh ir">并不能迎合你的特定需求。</strong></p><p id="87a5" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">那么，怎样才能让它们更具可定制性和个性化呢？</p><p id="ff86" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">好吧，你很幸运，因为学习如何构建自己的程序相对容易，我将带你一路走来。所以事不宜迟:</p><h1 id="a68b" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">构建虚拟助手🔨</h1><p id="4862" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">对于这个项目，我们将使用Python，因此您需要安装一个最新版本(<strong class="kh ir">我推荐3.7或更高版本</strong>)。如果没有，你可以<a class="ae ni" href="https://www.python.org/" rel="noopener ugc nofollow" target="_blank">从这里</a>下载。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi nj"><img src="../Images/40ca674a7e73881cab4031a2ebfe79e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1344/format:webp/0*E54TtndT6ZOt4D6g.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">When installing, make sure to add Python to PATH.</figcaption></figure><p id="a46f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在安装任何包之前，我建议在我们将要编写助手的文件夹中创建一个python环境。</p><p id="3f88" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">为此，在终端中键入命令<code class="fe nk nl nm nn b">py -m venv env</code>并等待它创建虚拟环境。这是推荐的，这样你安装的任何包都不会篡改你机器上全局使用的python解释器，而只是项目。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi no"><img src="../Images/85e29d24a16a073f0625939605616d24.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*t4HMzjxRo_JOOWNqKpDlgA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">To activate the virtual environment, type <strong class="bd mh">‘env\Scripts\activate.bat’ </strong>and your screen should look like this.</figcaption></figure><p id="0d21" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">完成后，在您的终端中使用<strong class="kh ir">‘pip install’</strong>命令安装以下软件包:</p><pre class="lv lw lx ly gt np nn nq nr aw ns bi"><span id="d039" class="nt mg iq nn b gy nu nv l nw nx">pip install pyttsx3 <br/>pip install pypiwin32<br/>pip install speechRecognition<br/>pip install PyAudio</span></pre><p id="5caa" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这些库通过将文本转换为语音并识别用户所说的话来帮助您和机器相互通信。如果您在安装最后一个库时遇到问题，<a class="ae ni" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#pyaudio" rel="noopener ugc nofollow" target="_blank">从这里获取</a>。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div class="gh gi ny"><img src="../Images/c60a2582fcbbde53371cbfd226fbf09e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1300/format:webp/1*nhLlend3UtTubQC2_uDOqg.png"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">PyAudio Module</figcaption></figure><p id="ba3d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">确保获得。为您安装在计算机上的python版本构建的whl文件，您可以通过在终端中键入<strong class="kh ir">‘python’</strong>进行检查。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi no"><img src="../Images/e9053d863a228f0b4ff8014d9d4f6692.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GtJ3B0It41NK-W54fM0Lhg.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Mine, for example, is Python 3.8.5 32 bit, so I would get the ‘PyAudio‑0.2.11‑cp38‑cp38‑win32.whl’ file.</figcaption></figure><p id="ff85" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后您将导航到。在文件的绝对位置使用<strong class="kh ir">‘pip install’</strong>命令安装whl，因为它将从源文件构建。例如:'<strong class="kh ir">pip install C:\ Users \ USER \ Downloads \ py audio-0 . 2 . 11-cp38-cp38-win32 . whl '</strong></p><p id="8558" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦安装了所有这些包，我们将使<strong class="kh ir">‘speak’</strong>像这样工作</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">We are using the Speech API (‘sapi5’) from Microsoft, which will help the machine speak.</figcaption></figure><p id="2f98" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">在这个代码片段中，我们正在初始化我们的文本到语音转换引擎，并调用“speak”函数来说出解析的任何音频。VoiceID帮助我们决定我们希望我们的助手拥有什么样的声音，<code class="fe nk nl nm nn b">voices[0].id</code>指的是男性，而<code class="fe nk nl nm nn b">voices[1].id</code>指的是女性。</p><p id="9087" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您可以通过调用类似<code class="fe nk nl nm nn b">speak('Hello World')</code>的函数并运行代码来测试它，这应该会导致机器说“Hello World”</p><p id="5bb9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果这不起作用，那么你需要使用不同的模块。通过使用终端中的命令<code class="fe nk nl nm nn b">pip install gtts</code>和<code class="fe nk nl nm nn b">pip install playsound</code>来执行此操作，并创建新的语音功能。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">We are using the Google Speech API to convert text-to-speech, test by calling <strong class="ak">speak(“Hello World”)</strong></figcaption></figure><p id="7fd1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">一旦<strong class="kh ir">语音</strong>功能准备就绪，我们将引入<strong class="kh ir">收听</strong>功能，它允许机器通过使用<strong class="kh ir">谷歌语音API </strong>来识别你在说什么。</p><p id="b27e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">使用<code class="fe nk nl nm nn b">pip install speechRecognition</code>安装该模块，并创建一个对象来接收用户的麦克风输入。根据环境声音进行调整，并给用户足够的时间说话，最后将机器识别的结果文本保存到一个变量中。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Feel free to change the language by utilizing the two-letter code corresponding to your country</figcaption></figure><p id="90b7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在我们有了基础，可能性是无限的；你可以加入任何你喜欢的API，制作一个迷你程序，甚至控制你的智能家居。我将带您浏览其中的一些，比如检索游戏分数、获取天气预报、获取电影评级甚至股票价格。</p><div class="lb lc gp gr ld le"><a href="https://www.datadriveninvestor.com/2020/09/15/a-college-student-used-a-language-generating-ai-tool-to-create-a-viral-blog-post/" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">一名大学生使用语言生成人工智能工具创建了一个病毒式博客帖子|数据驱动…</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">作为作家，我们喜欢告诉自己，我们处在一个无法自动化的职业中，至少短期内不会。但是…</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="ln l"><div class="ob l lp lq lr ln ls lt le"/></div></div></a></div><h2 id="6b91" class="nt mg iq bd mh oc od dn ml oe of dp mp ko og oh mr ks oi oj mt kw ok ol mv om bi translated">问候功能⌚</h2><p id="90e5" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">我们将创建一个问候功能，程序将根据时间问候你:早上-&gt;“早上好”；下午-&gt;“下午好”，如下图所示。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">The Assistant will greet the user depending on the hour of the day</figcaption></figure><p id="5dcc" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个函数相对简单，因为我们需要利用内置的DateTime模块来创建一些条件，该模块告诉我们一天中的某个小时</p><h2 id="43b0" class="nt mg iq bd mh oc od dn ml oe of dp mp ko og oh mr ks oi oj mt kw ok ol mv om bi translated">实时股票价格函数💲💲</h2><p id="50e1" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">我们将创建一个函数，告诉我们在任何股票交易所上市的任何股票的实时股价。我们可以通过搜索雅虎财经的股价更新来完成这项壮举。用户所要做的就是指定他们想要检索的股票价格。首先，我们需要安装这些模块，让我们能够抓取网页<code class="fe nk nl nm nn b">pip install beautifulsoup4</code>和<code class="fe nk nl nm nn b">pip install requests</code>，从网页中提取任何信息，这是一个强大的工具。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">This function uses the CSS elements to find the price, title and currency of the stock. Your web headers might be different. Find out here: <a class="ae ni" href="https://www.whatismybrowser.com/detect/what-is-my-user-agent" rel="noopener ugc nofollow" target="_blank">https://www.whatismybrowser.com/detect/what-is-my-user-agent</a></figcaption></figure><p id="780d" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果您运行这段代码，您应该会得到一个错误，因为<strong class="kh ir"> URL </strong>变量为空；因此，你什么也没刮到。现在，如果我解析如下的URL，这个函数就可以工作了:<a class="ae ni" href="https://finance.yahoo.com/quote/MSFT?p=MSFT" rel="noopener ugc nofollow" target="_blank">https://finance.yahoo.com/quote/MSFT?p=MSFT</a></p><p id="1bed" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">但是我们希望能够找到世界各地各种股票交易所中任何股票的价格，我们不想硬编码每只股票的URL，因为这可能有50多万个变量，效率非常低，更不用说非常耗时。</p><p id="308c" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">解决这个问题的一个方法是制作一个<strong class="kh ir">搜索查询</strong>函数，该函数将返回与我们可以从中抓取的股票相对应的<strong class="kh ir">雅虎财经URL </strong>。首先，使用命令:<code class="fe nk nl nm nn b">pip install google</code>安装google模块，然后创建相对简单的函数。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">We will heavily be relying upon <strong class="ak">Google’s PageRank algorithm </strong>for this function at we will only be using the 1st URL out of the list of 10 to scrape the stock price from</figcaption></figure><p id="cd69" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后你可以测试一下，先把类似<em class="nc">‘特斯拉股价雅虎财经’</em>的东西代入google_query函数，用函数返回的第一个链接替换<strong class="kh ir"> URL </strong>。之后，当您执行<strong class="kh ir"> check_price </strong>函数时，您应该会得到合法公司名称、股票价格和股票货币的输出。</p><p id="5855" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><code class="fe nk nl nm nn b">URL = google_query('Tesla stock price yahoo finance')[0]</code></p><p id="cf68" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果不行，也不用担心。我将把我们今天讨论过的所有代码嵌入到文章的结尾。同时，让我们来看看:</p><h2 id="c29a" class="nt mg iq bd mh oc od dn ml oe of dp mp ko og oh mr ks oi oj mt kw ok ol mv om bi translated">天气功能🌤</h2><p id="fa96" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">为了创建天气函数，我们需要用户的位置。现在你可以提示用户说出他们居住在哪个城市，但是我希望程序是无缝的，所以我通过使用用户的IP地址找到用户的区域。</p><blockquote class="on oo op"><p id="3d6f" class="kf kg nc kh b ki kj jr kk kl km ju kn oq kp kq kr or kt ku kv os kx ky kz la ij bi translated">请记住，如果用户正在使用VPN，这将不起作用，因为它将获得VPN服务器的IP地址。</p></blockquote><p id="968f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">由于可能会有这样的情况，我们也可以找到世界上任何一个城市的天气读数，只需使用它的名字，如“卡拉巴萨斯的天气”</p><p id="7e51" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">首先，为了使用用户的IP地址获取位置，我们将使用函数<strong class="kh ir"> get_location，</strong>，它抓取来自<a class="ae ni" href="http://iplocation.com" rel="noopener ugc nofollow" target="_blank">iplocation.com</a>的输出。我们应该已经有了之前的网页抓取功能所需的库，但是如果你没有，那么<code class="fe nk nl nm nn b">pip install beautifulsoup</code>和<code class="fe nk nl nm nn b">pip install requests</code></p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Returns the city and country the user resides in as well as the latitude and longitude</figcaption></figure><p id="8334" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在，为了获取天气信息，我们将使用<a class="ae ni" href="https://openweathermap.org/api" rel="noopener ugc nofollow" target="_blank"> OpenWeatherMap API </a>，您需要注册才能获得API密钥。我用的是免费计划，你一个月可以接到一百万个电话，这已经足够了。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi no"><img src="../Images/9db65e86a891e5a4c7f59e8f7c4996ac.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*6okoZQmUKs3tjrHHlNkj8A.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">You should generate an API Key for the Virtual Assistant and make sure to keep it safe.</figcaption></figure><p id="83a4" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">之后，你将创建一个名为<strong class="kh ir"> config.py </strong>的新的python文件，并将你的API密匙存储在那里，如下所示:</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi no"><img src="../Images/328346db859edd8eb1450d3b8c446239.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ig7dNX7msATxahpqRyWemw.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Make a config.py file that will hold all API keys, passwords and secrets to prevent it from getting exposed and exploited by anyone if you plan on uploading your code. (P.S: Make sure to add config.py in the .gitignore file)</figcaption></figure><p id="eacf" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们需要做的就是编写一个简单的方法来调用OpenWeatherMap API并接收天气信息。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Import config to get access to API Key and then make a request for the weather data by accessing the endpoint URL</figcaption></figure><p id="a22b" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">测试您的代码，首先获取纬度和经度，然后在天气函数中解析它，如下所示:</p><pre class="lv lw lx ly gt np nn nq nr aw ns bi"><span id="c2df" class="nt mg iq nn b gy nu nv l nw nx">city,country,latitude, longitude = get_location()<br/>print(weather(latitude, longitude))</span></pre><p id="e8ff" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">您应该收到类似字典的东西，其中包含各种值，如坐标、天气、时区等。</p><h2 id="f115" class="nt mg iq bd mh oc od dn ml oe of dp mp ko og oh mr ks oi oj mt kw ok ol mv om bi translated">电影分级功能🎬</h2><p id="f3e9" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">这是迄今为止我的虚拟助手中使用最多的功能，也是最有益的功能，我总是倾向于在承诺之前需要一个电视节目或电影的评论。要使用这个函数，我们需要一个重要的模块，你可以这样得到:<code class="fe nk nl nm nn b">pip install IMDbPY</code></p><p id="9802" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">这个包有助于检索IMDB数据库中的任何电影或电视节目。</p><p id="7195" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们创建一个方法，对您想要搜索的电影进行google查询，查看它是否存在于IMDB数据库中。然后我们返回正确的URL，从那里我们可以抓取电影的标题和年份，以供以后参考。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Retrieve the title and year of the movie</figcaption></figure><p id="63e1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，我们还想刮烂番茄评分，这是一个有用的指标，以确定评论家和人们对一部电影的看法。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Retrieve the rotten tomato score</figcaption></figure><p id="7f8e" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">最后，我们需要添加几行代码来搜索IMDB数据库中关于这部电影的所有信息，并获取烂番茄的分数。对于这个例子，我将使用电影:<strong class="kh ir">《空手道小子》(1984) </strong></p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Test by substituting any movie in the query variable and execute the program. It should take a minute…</figcaption></figure><h2 id="98b9" class="nt mg iq bd mh oc od dn ml oe of dp mp ko og oh mr ks oi oj mt kw ok ol mv om bi translated">运动功能🏀</h2><p id="f8f9" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">对于这个功能，我们将使用<strong class="kh ir"> sports.py，</strong>一个提供几项运动的最新比分的包。要安装:<code class="fe nk nl nm nn b">pip install sports.py</code></p><p id="6514" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我们现在需要做的就是创建一个简单的方法来获取游戏分数，如下所示。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">This method will return the game score if you specify a team name, i.e., parse in <strong class="ak">lakers</strong> into the function, and it should produce the score provided they played the most recent game in the NBA.</figcaption></figure><h2 id="594b" class="nt mg iq bd mh oc od dn ml oe of dp mp ko og oh mr ks oi oj mt kw ok ol mv om bi translated">最终:发送电子邮件功能✉</h2><p id="4279" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">这个功能可能是这个列表中最有用的功能，因为它可以方便地说出电子邮件并让你的助理发送出去。此外，据我所知，这是这个列表中仅有的几个助手支持的功能。为了发送电子邮件，python有一个内置模块，名为<strong class="kh ir"> smtplib </strong>，就像Gmail使用的服务器一样。<strong class="kh ir"> SMTP或(简单邮件传输协议)</strong>是用于与外部邮件服务器通信的协议。这是一个发送协议，意味着你不能用它接收电子邮件，只能发送。对于接收，您可以在您的助手脚本中自己实现<strong class="kh ir"> IMAP或(Internet Message Access Protocol)</strong>，因为在本文中我不会详细介绍。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">In this script, we are opening a secure connection to the SMTP server.</figcaption></figure><blockquote class="on oo op"><p id="fc62" class="kf kg nc kh b ki kj jr kk kl km ju kn oq kp kq kr or kt ku kv os kx ky kz la ij bi translated">如果你尝试运行这种方法，你会遇到一个错误，因为Gmail像这样对SMTP连接施加限制，所以你必须验证你自己。注意上面的脚本是如何拥有像<strong class="kh ir"> config.email </strong>和<strong class="kh ir"> config.password </strong>这样的字段的，我们现在就要制作这些字段</p></blockquote><p id="20ae" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有两个步骤:<strong class="kh ir">允许访问不太安全的应用</strong>(不推荐)和<strong class="kh ir">创建应用密码</strong>(推荐)<strong class="kh ir">。</strong></p><p id="3468" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">我更喜欢后者。要创建应用程序密码，请为您的Google帐户启用<strong class="kh ir">两步验证</strong>:</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ot"><img src="../Images/e50d4924adfe2ea15d31e06bcb7a263c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*2uZOcQoeeg-1-lwfBQWKUA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Enable 2-Step Verification to use App passwords</figcaption></figure><p id="94a1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然后，点击<strong class="kh ir">应用程序密码</strong>并选择您需要密码的应用程序以及该密码将在什么设备上使用。在我们的例子中，应用程序是<strong class="kh ir">邮件、</strong>，设备取决于你使用的是Mac还是Windows笔记本电脑，在我的例子中是<strong class="kh ir"> Windows </strong>。然后点击生成，你应该得到一个应用程序密码。请把它记下来。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi no"><img src="../Images/6db499ddb411482311364c10646ceaa7.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*rMFnz7MUTz4x9wtPhygDMA.png"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Please copy this password and paste it into config.py under a variable <strong class="bd mh">password.</strong></figcaption></figure><pre class="lv lw lx ly gt np nn nq nr aw ns bi"><span id="02b8" class="nt mg iq nn b gy nu nv l nw nx">#Then Assign the email and password in config.py<br/>email - 'your_email_for_which_you_made_the_password@gmail.com'<br/>password - 'App_Password_that_you_copied'</span></pre><p id="09d9" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">现在要测试，调用方法并解析主题、正文和你想发送电子邮件的人，先试试你自己。然后，您应该会收到一封包含相同信息的电子邮件。</p><figure class="lv lw lx ly gt lz gh gi paragraph-image"><div role="button" tabindex="0" class="ne nf di ng bf nh"><div class="gh gi ou"><img src="../Images/89285c1ae0222b42fdb80beb3ccad1d1.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/1*G-QIVlNR_sMceIUw635yUg.gif"/></div></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Demo for how the mail function should work</figcaption></figure><h1 id="3e3b" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">把所有的放在一起💻</h1><p id="68d2" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">现在我们有了所有的方法，我们需要把它们放在一起。首先，让我们创建main方法，并添加关键字，每个流程将基于这些关键字运行。然后确定一个关键字来打破循环，结束程序。</p><figure class="lv lw lx ly gt lz"><div class="bz fp l di"><div class="nz oa l"/></div><figcaption class="mb mc gj gh gi md me bd b be z dk">Add a keyword for each function that can be called inside each condition and if the user says, <strong class="ak">stop</strong> or <strong class="ak">bye,</strong> then end the program.</figcaption></figure><p id="5848" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">所有方法的条件如上所述。在需求中随意添加调用函数所需的任何逻辑。</p><p id="cd05" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">上面的要点包含了该程序的主要方法，一旦运行，它应该与Alexa、Siri和Google Assistant没有什么区别。这是因为我们已经正式创建了我们自己的虚拟助手，你也可以继续添加功能和不断迭代。</p><blockquote class="on oo op"><p id="d158" class="kf kg nc kh b ki kj jr kk kl km ju kn oq kp kq kr or kt ku kv os kx ky kz la ij bi translated">如果您想获得本文中概述的所有方法和函数的源代码，<a class="ae ni" href="https://drive.google.com/drive/folders/1h9xWbN0JMfFd_rleudwUWLkB8vZbsI6z?usp=sharing" rel="noopener ugc nofollow" target="_blank">您可以在这里获得</a></p></blockquote><p id="8a8f" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">有许多功能，比如<strong class="kh ir">网速测试</strong>和<strong class="kh ir"> Spotify集成</strong>，我没有包括在内，但话说回来，我们会永远在这里。因此，如果你想查看包含所有源代码的主程序，请查看下面的链接:</p><div class="lb lc gp gr ld le"><a href="https://github.com/ZakiRangwala/Virtual_Assistant" rel="noopener  ugc nofollow" target="_blank"><div class="lf ab fo"><div class="lg ab lh cl cj li"><h2 class="bd ir gy z fp lj fr fs lk fu fw ip bi translated">ZakiRangwala/虚拟助理</h2><div class="ll l"><h3 class="bd b gy z fp lj fr fs lk fu fw dk translated">利用各种开源API和库为您带来一个智能人工智能助手，能够满足您的需求</h3></div><div class="lm l"><p class="bd b dl z fp lj fr fs lk fu fw dk translated">github.com</p></div></div><div class="ln l"><div class="ov l lp lq lr ln ls lt le"/></div></div></a></div><h1 id="25a8" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">这能算AI吗？🧠</h1><p id="76d8" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">当我们结束时，我想谈谈这个虚拟助手是否可以被归类为人工智能，因为许多人会认为它不是人工智能，因为机器在自我学习时远远没有遵循我们所做的显式编码的if-else语句。但是如果我们从基础层面来看，人工智能的唯一目的是和一些甚至更重要的人类一起执行人道的任务。因此，我会说我们的虚拟助手是人工智能的，因此是一个人工智能，但不是人工智能的一个很好的例子。没有学习发生，而是只是做它被告知的事情，让它变得“聪明”</p><h1 id="51c2" class="mf mg iq bd mh mi mj mk ml mm mn mo mp jw mq jx mr jz ms ka mt kc mu kd mv mw bi translated">后续步骤👣</h1><p id="1192" class="pw-post-body-paragraph kf kg iq kh b ki mx jr kk kl my ju kn ko mz kq kr ks na ku kv kw nb ky kz la ij bi translated">我目前正在致力于实现<strong class="kh ir">自然语言处理(NLP) </strong>让我的助手更聪明，随着时间的推移理解和学习。<strong class="kh ir">语音识别</strong>和<strong class="kh ir">自然语言处理没什么区别。</strong>我们在这个程序中使用的只是一种使计算机能够识别和解释单词或短语的技术，是一个叫做<strong class="kh ir">计算语言学的领域的一部分。</strong></p><p id="92b1" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">然而，<strong class="kh ir"> NLP </strong>是纯人工智能的一个分支，它试图理解用户的意思，而不仅仅是将用户说的话转换成文本。这将使语音识别耗时更少，并将成倍减少程序中if-else语句的数量。它会从大量的训练例子中理解用户的意思。</p><p id="32e7" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">毕竟，你可能有十亿个if-else语句，但是利用这项技术更有效，并且打开了通向无限机会的大门。你认为谷歌助手是如何开始的？🧐</p></div><div class="ab cl ow ox hu oy" role="separator"><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb pc"/><span class="oz bw bk pa pb"/></div><div class="ij ik il im in"><p id="3819" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你喜欢这篇文章，并且它帮助了你，请留下掌声，如果你有任何问题，你可以在下面留下评论，或者更好，发电子邮件到zakirangwala@gmail.com给我。</p><p id="6416" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated">如果你想更多地了解我和我的工作，请访问我在zakirangwala.com的网站</p><p id="5e97" class="pw-post-body-paragraph kf kg iq kh b ki kj jr kk kl km ju kn ko kp kq kr ks kt ku kv kw kx ky kz la ij bi translated"><strong class="kh ir">访问专家视图— </strong> <a class="ae ni" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="kh ir">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>