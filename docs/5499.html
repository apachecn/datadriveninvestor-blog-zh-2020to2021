<html>
<head>
<title>SimpleRTApp: How to use Heroku Scheduler to run cron jobs</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">SimpleRTApp:如何使用Heroku调度程序运行cron作业</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/simplertapp-how-to-use-heroku-scheduler-to-run-cron-jobs-3ff1c0c1e1f7?source=collection_archive---------8-----------------------#2020-09-22">https://medium.datadriveninvestor.com/simplertapp-how-to-use-heroku-scheduler-to-run-cron-jobs-3ff1c0c1e1f7?source=collection_archive---------8-----------------------#2020-09-22</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><p id="938c" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><em class="ko">这篇文章也可以上</em> <a class="ae kp" href="https://federicojordan.github.io/blog/2020/09/22/simplertapp-how-to-use-heroku-scheduler-to-run-cron-jobs-3ff1c0c1e1f7.html" rel="noopener ugc nofollow" target="_blank"> <em class="ko">我的个人博客</em> </a> <em class="ko">。</em></p><p id="e245" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">本文是众多解释如何在iOS设备中基于与用户最相关的推文获得通知的文章中的最后一篇。更多关于项目<a class="ae kp" href="https://medium.com/@federicojordn/how-to-obtain-relevant-tweets-in-a-ios-app-with-heroku-nodejs-swift-4c0027c88a4a" rel="noopener">的信息请点击</a></p><p id="6ba9" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">现在，我们将在Heroku上创建一个作业，它将在我们需要的某个时间被调用，它将运行脚本来查找推文并通知用户。</p><h1 id="0fc7" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">要求</h1><p id="c443" class="pw-post-body-paragraph jq jr it js b jt lo jv jw jx lp jz ka kb lq kd ke kf lr kh ki kj ls kl km kn im bi translated">我们需要有一个Heroku帐户，与上传的应用程序。</p><p id="840b" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">在我们的教程中，我们将继续SimpleRTApp项目的最后一部分。</p><h1 id="488d" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">什么是Heroku调度程序？</h1><p id="06d0" class="pw-post-body-paragraph jq jr it js b jt lo jv jw jx lp jz ka kb lq kd ke kf lr kh ki kj ls kl km kn im bi translated">Heroku Scheduler是Heroku应用程序的一个插件。它只是允许我们定义一个命令在期望时间间隔内运行。它可以是每天、每小时或10分钟窗口。</p><h1 id="ad68" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">配置</h1><p id="ba6a" class="pw-post-body-paragraph jq jr it js b jt lo jv jw jx lp jz ka kb lq kd ke kf lr kh ki kj ls kl km kn im bi translated">为了能够将Heroku Scheduler添加到我们的应用程序中，我们必须进入Heroku仪表板。我们转到“参考资料”,在附加部分我们寻找“Heroku调度程序”</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div class="gh gi lt"><img src="../Images/47510fe2af7a41cf382332cec42a044e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1258/format:webp/0*Y4ruwqp5hr3BrGAp.png"/></div></figure><p id="6222" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">有可能Heroku要求我们验证我们的帐户进入信用卡。如果是这样的话，它不会收取任何费用，除非我们在那里选择付费服务计划。</p><p id="5cfe" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">一旦我们添加了插件，我们进入它的配置。在我们的例子中，我们希望它每小时运行一次命令<code class="fe mb mc md me b">node send_tweets.js</code>。为此，我们添加了新作业:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mf"><img src="../Images/c82262a7369b51bc4c3bdb50da6e0472.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*52-8Pm-1o95moQ5i.png"/></div></div></figure><p id="81f4" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们填写所有必需的数据，然后点击“保存”。它将告诉我们作业下次在“下次到期”字段中运行的时间:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi mk"><img src="../Images/6fcc7ae435a411e3fcdfb2368113438c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*ie45D-WytDIeBdRD.png"/></div></div></figure><p id="475f" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">搞定了。只需等待这一页给我们指示的时刻。</p><p id="c2dc" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">像dynos一样，我们有可能看到作业的日志。为此，我们转到Heroku仪表盘左侧“更多”菜单中的“查看日志”。</p><p id="aec1" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">我们可以在下图中看到运行cron的结果:</p><figure class="lu lv lw lx gt ly gh gi paragraph-image"><div role="button" tabindex="0" class="mg mh di mi bf mj"><div class="gh gi ml"><img src="../Images/a3f776b15c8afb9b9366800aedd188bb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/0*US74KHBstTU_CGkg.jpeg"/></div></div></figure><h1 id="aa02" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">结论</h1><p id="50d5" class="pw-post-body-paragraph jq jr it js b jt lo jv jw jx lp jz ka kb lq kd ke kf lr kh ki kj ls kl km kn im bi translated">我们看到了如何在Heroku上创建cron，简单地添加一个像Heroku Scheduler这样的插件。它只会要求我们提供所需的命令和频率。</p><p id="7b03" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">至此，我们完成了关于SimpleRTApp的系列文章，这是一个简单的系统，包括iOS开发、Node.js后端、MySQL数据库配置和Heroku上的云服务设置。</p><p id="34f3" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated">非常感谢你的阅读！</p><h1 id="f671" class="kq kr it bd ks kt ku kv kw kx ky kz la lb lc ld le lf lg lh li lj lk ll lm ln bi translated">来源</h1><ul class=""><li id="6571" class="mm mn it js b jt lo jx lp kb mo kf mp kj mq kn mr ms mt mu bi translated"><a class="ae kp" href="https://devcenter.heroku.com/articles/scheduler" rel="noopener ugc nofollow" target="_blank">https://devcenter.heroku.com/articles/scheduler</a></li></ul><p id="c8f5" class="pw-post-body-paragraph jq jr it js b jt ju jv jw jx jy jz ka kb kc kd ke kf kg kh ki kj kk kl km kn im bi translated"><strong class="js iu">进入专家视角— </strong> <a class="ae kp" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="js iu">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>