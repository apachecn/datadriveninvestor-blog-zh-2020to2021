<html>
<head>
<title>Backtesting stocks with different currencies</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">用不同货币对股票进行回溯测试</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/backtesting-stocks-with-different-currencies-1a1885b37915?source=collection_archive---------18-----------------------#2020-10-03">https://medium.datadriveninvestor.com/backtesting-stocks-with-different-currencies-1a1885b37915?source=collection_archive---------18-----------------------#2020-10-03</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><div class=""/><figure class="gl gn jr js jt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi jq"><img src="../Images/f9e8b462c0caffe44005b3d5a994d344.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*SddT5MZvnyovbHDn"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">unsplash.com</figcaption></figure><p id="b2fb" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">一位朋友最近向我强调，当他在PyInvesting上对美国和香港股票进行回溯测试时，回溯测试者没有考虑汇率差异。因此，模拟投资组合的表现是不正确的，因为它没有处理美国和香港股票之间的外汇波动。</p><p id="2931" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">我已经推迟了这个修复一段时间，因为它不容易实现，需要处理许多细节。然而，我决定在本周实现这一功能，因为这是我的许多用户所要求的，并且随着我将其他国家的股票引入我的数据库，这将是有用的。</p><div class="ld le gp gr lf lg"><a href="https://www.datadriveninvestor.com/2020/08/09/so-a-big-vc-fund-is-investing-in-your-startup-4-practical-considerations/" rel="noopener  ugc nofollow" target="_blank"><div class="lh ab fo"><div class="li ab lj cl cj lk"><h2 class="bd iu gy z fp ll fr fs lm fu fw is bi translated">这么说一家大型风投基金正在投资你的初创公司？4实际考虑|数据驱动的投资者</h2><div class="ln l"><h3 class="bd b gy z fp ll fr fs lm fu fw dk translated">首先，恭喜你。融资总是需要努力的，一个大的风险投资基金当然是一个大的…</h3></div><div class="lo l"><p class="bd b dl z fp ll fr fs lm fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="lp l"><div class="lq l lr ls lt lp lu jz lg"/></div></div></a></div><h1 id="abc3" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">更新回溯测试价格馈送</h1><p id="fa97" class="pw-post-body-paragraph kf kg it kh b ki mt kk kl km mu ko kp kq mv ks kt ku mw kw kx ky mx la lb lc im bi translated">能够处理不同货币的股票之间的外汇波动意味着我需要将每只股票的价格转换成一种货币，然后再将价格输入回测器。例如，如果使用美国和香港的股票进行回溯测试，我会使用HKD/美元历史外汇时间序列将HKD所有香港股票的历史价格转换为美元。这将使不同国家的股票可以相互比较，并说明货币差异。</p><p id="30e3" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">这一变化的结果是，回溯测试的投资组合的净资产值(NAV)现在将采用美元，我们可以用美元来观察我们投资策略的表现。然而，如果一个新加坡用户想知道他的投资策略在新加坡元方面的表现，会发生什么呢？</p><h1 id="6806" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">引入基础货币</h1><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi my"><img src="../Images/52fabfdb5aeb80df8f4afba7fdd6998f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*rEFGXXEbuDYgM8bD"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">pyinvesting.com</figcaption></figure><p id="64c8" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">下一步是将回溯测试策略的历史表现从美元转换为用户的首选货币，也称为基础货币。为此，我在每个回溯测试表单页面上添加了一个下拉菜单，用户必须在这里选择回溯测试的基础货币。接下来，PyInvesting会将业绩数字从美元转换为用户选择的基础货币。</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nd"><img src="../Images/6b48b1e4b6f32157533b654bd16b8f9e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*t0QS2e-iyj06n6Bp"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">pyinvesting.com</figcaption></figure><p id="4cf9" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">用户还可以通过点击上面截图中显示的货币来更改结果页面上的基础货币。这将使他们能够从不同货币的角度观察其投资策略的表现如何变化。例如，由于过去15年新加坡元对美元升值，以新加坡元计算的投资策略的表现将不如以美元计算的投资策略。</p><h1 id="a9c8" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">活投资组合价值的货币</h1><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi ne"><img src="../Images/3cfe863b54d595923fdf275ab624dc59.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*WqSZjXkYL74Bkge5"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">pyinvesting.com</figcaption></figure><p id="720c" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">此功能更新的最终影响是，用户选择的基础货币也将应用于用户在投资策略上线时输入的投资组合价值。当用户点击上面截图中所示的“使用该策略”时，PyInvesting将每天使用实时价格运行他们的策略，并向用户发送实时订单，以便他们可以从他们的投资策略中获利。为了计算用户需要在个人账户上买卖的手数，PyInvesting会提示用户输入他们投资组合的规模。该投资组合价值将基于用户选择的货币。例如，如果用户选择新币，下面屏幕截图中显示的投资组合价值将为$10k新币，用于确定用户个人投资组合中每只股票的买入或卖出手数。</p><figure class="mz na nb nc gt ju gh gi paragraph-image"><div role="button" tabindex="0" class="jv jw di jx bf jy"><div class="gh gi nf"><img src="../Images/f389fbc993711deb891576e77a3c51e0.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*188aoPNWmlesxmId"/></div></div><figcaption class="kb kc gj gh gi kd ke bd b be z dk">pyinvesting.com</figcaption></figure><h1 id="c957" class="lv lw it bd lx ly lz ma mb mc md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms bi translated">结论</h1><p id="b74e" class="pw-post-body-paragraph kf kg it kh b ki mt kk kl km mu ko kp kq mv ks kt ku mw kw kx ky mx la lb lc im bi translated">我很高兴这个功能终于推出了。这不是一个容易实现的，我希望这将有助于通过自动处理外汇波动来投资不同货币股票的用户。我很想听听你对这个新功能的想法。一定要去看看，并在PyInvesting论坛(<a class="ae ng" href="https://pyinvesting.com/forum/" rel="noopener ugc nofollow" target="_blank">https://pyinvesting.com/forum/</a>)上告诉我你的想法。</p><p id="44ce" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated">祝你投资愉快，并祝你好运。</p><p id="1388" class="pw-post-body-paragraph kf kg it kh b ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz la lb lc im bi translated"><em class="nh">如果你想制定一个有效的投资策略，学习如何利用回溯测试的结果可能是你做过的最好的决定之一，因为回溯测试可以帮助你在你的钱被押上之前识别出一个不正确或正确的投资。</em><a class="ae ng" href="https://pyinvesting.com/" rel="noopener ugc nofollow" target="_blank"><em class="nh">py investing</em></a><em class="nh">是一个回溯测试平台，帮助投资者在云上创建自己的机器人顾问，而无需编写一行代码。</em></p><h2 id="5d9e" class="ni lw it bd lx nj nk dn mb nl nm dp mf kq nn no mj ku np nq mn ky nr ns mr nt bi translated">访问专家视图— <a class="ae ng" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank">订阅DDI英特尔</a></h2></div></div>    
</body>
</html>