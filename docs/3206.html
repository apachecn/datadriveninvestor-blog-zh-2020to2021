<html>
<head>
<title>How to Build a Smart Chatbot using Rasa framework</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Rasa框架构建智能聊天机器人</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/how-to-build-a-smart-chatbot-using-rasa-framework-1ed468db0e01?source=collection_archive---------3-----------------------#2020-06-06">https://medium.datadriveninvestor.com/how-to-build-a-smart-chatbot-using-rasa-framework-1ed468db0e01?source=collection_archive---------3-----------------------#2020-06-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><figure class="gl gn jo jp jq jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi jn"><img src="../Images/868a4cbc62f54eac24b0dfbccdcf82ed.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9ZvCnFHHwJxAd595SFHDgA.png"/></div></div></figure><blockquote class="jy jz ka"><p id="bcba" class="kb kc kd ke b kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw kx ky kz ij bi translated">如今，聊天机器人是任何自动化任务或以交互方式向用户提供一些信息的应用程序的重要组成部分。在这篇博客中，我们将看到如何通过利用机器学习和深度学习模型，使用Rasa框架轻松构建聊天机器人。</p></blockquote><p id="a31e" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi ld translated">asa是一个用于自然语言理解、对话管理和集成的开源框架。让我们看看Rasa的组件，了解它的工作方式。</p><ul class=""><li id="a6eb" class="lm ln iq ke b kf kg kj kk la lo lb lp lc lq kz lr ls lt lu bi translated"><a class="ae lv" href="https://rasa.com/docs/rasa/nlu/about/" rel="noopener ugc nofollow" target="_blank"> NLU </a>:确定用户想要什么，并捕捉关键的上下文信息</li><li id="40f9" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated"><a class="ae lv" href="https://rasa.com/docs/rasa/core/about/" rel="noopener ugc nofollow" target="_blank">核心</a>:根据对话历史选择下一个最佳回应或行动</li><li id="e3a7" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated"><a class="ae lv" href="https://rasa.com/docs/rasa/user-guide/messaging-and-voice-channels/" rel="noopener ugc nofollow" target="_blank">通道</a>和<a class="ae lv" href="https://rasa.com/docs/rasa/core/actions/#custom-actions/" rel="noopener ugc nofollow" target="_blank">集成</a>:将助手连接到用户和后端系统</li></ul><h1 id="feda" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">拉莎·NLU:</h1><p id="b058" class="pw-post-body-paragraph kb kc iq ke b kf mz kh ki kj na kl km la nb kp kq lb nc kt ku lc nd kx ky kz ij bi translated">Rasa NLU是一个开源的自然语言处理工具，用于聊天机器人中的意图分类、响应检索和实体提取。例如，举一个类似这样的句子</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="2eda" class="nn mc iq nj b gy no np l nq nr">"I am looking for a Mexican restaurant in the center of town"</span></pre><p id="99fa" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">NLU句子的返回结构是</p><pre class="ne nf ng nh gt ni nj nk nl aw nm bi"><span id="9b22" class="nn mc iq nj b gy no np l nq nr">{<br/>  <strong class="nj ir">"intent"</strong>: "search_restaurant",<br/>  <strong class="nj ir">"entities"</strong>: {<br/>    <strong class="nj ir">"cuisine"</strong> : "Mexican",<br/>    <strong class="nj ir">"location"</strong> : "center"<br/>  }<br/>}</span></pre><h1 id="fad9" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">Rasa核心:</h1><p id="c714" class="pw-post-body-paragraph kb kc iq ke b kf mz kh ki kj na kl km la nb kp kq lb nc kt ku lc nd kx ky kz ij bi translated">Rasa Core是一个用于构建AI助手的对话引擎。它不是一堆if/else语句，而是使用一个经过示例对话训练的机器学习模型来决定下一步该做什么。当你想超越这一点，创建一个可以处理更多复杂性的机器人时，Rasa可以帮助你。</p></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="37a9" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">让我们来理解使用Rasa框架构建项目所使用的文件。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi nz"><img src="../Images/c57495c41f94f672c15f455810bf230d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*j-8ZKbo1jnlK44PGvafi3A.png"/></div></div></figure></div><div class="ab cl ns nt hu nu" role="separator"><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx ny"/><span class="nv bw bk nw nx"/></div><div class="ij ik il im in"><p id="b868" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">让我们通过构建一个简单的餐馆搜索聊天机器人来理解Rasa框架的实现。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oa"><img src="../Images/58870f6bb97688e62c81a3fd9231cbeb.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Fa5yqt1ARWxn-liifs0p-g.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Flow Diagram</figcaption></figure><p id="c54c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">环境管理由Rasa NLU组件完成，对话管理系统由Rasa核心组件构建。我们将在项目中使用以下组件。</p><ul class=""><li id="1d81" class="lm ln iq ke b kf kg kj kk la lo lb lp lc lq kz lr ls lt lu bi translated">拉萨NLU和拉萨核心。<a class="ae lv" href="https://rasa.com/" rel="noopener ugc nofollow" target="_blank">https://rasa.com/</a></li><li id="6657" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated">Zomato的开放API。<a class="ae lv" href="https://developers.zomato.com/api" rel="noopener ugc nofollow" target="_blank">https://developers.zomato.com/api</a></li><li id="6a1b" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated">松弛部署。</li></ul><p id="9971" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我们的聊天机器人将响应以下基本操作:</p><ul class=""><li id="b9d3" class="lm ln iq ke b kf kg kj kk la lo lb lp lc lq kz lr ls lt lu bi translated">可以寻找吃饭的地方</li><li id="c7f4" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated">获取信息，如美食，地址等。</li><li id="de7f" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated">支持与用户闲聊。</li><li id="2d54" class="lm ln iq ke b kf lw kj lx la ly lb lz lc ma kz lr ls lt lu bi translated">记住一些对话的上下文。</li></ul><p id="d9f5" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">让我们深入研究项目文件，探索如何工作。你可以在Github上找到项目文件。</p><div class="of og gp gr oh oi"><a href="https://github.com/shubham-baghel/NLP/tree/master/Chatbot%20RASA" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">舒巴姆-巴盖尔/NLP</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">这是聊天机器人的完整版本，可以通过填充slack_credentials.yml和…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">github.com</p></div></div><div class="or l"><div class="os l ot ou ov or ow jw oi"/></div></div></a></div><p id="dd62" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">要设置和运行项目，您可以在项目文件中找到步骤。</p><p id="a905" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">让我们深入研究作为框架核心部分的文件。数据对于训练聊天机器人来说是最重要的。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/414fa2bc85a098076695c4d35a6860da.png" data-original-src="https://miro.medium.com/v2/resize:fit:800/1*PZLPS-m1_iGNudZPyfhewA.gif"/></div></figure><h1 id="31e8" class="mb mc iq bd md me mf mg mh mi mj mk ml mm mn mo mp mq mr ms mt mu mv mw mx my bi translated">数据:</h1><p id="146b" class="pw-post-body-paragraph kb kc iq ke b kf mz kh ki kj na kl km la nb kp kq lb nc kt ku lc nd kx ky kz ij bi translated">我们在nlu_data.md文件中定义了以下格式的数据。意图指定对应于该句子的用户意图。例如，意图可以是问候、搜索餐馆或菜肴、拒绝。为了定义实体(位置，美食)，我们已经定义了一个位置和不同类型的美食查找，以便当用户查询它们时，它可以被识别。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oy"><img src="../Images/95b6b423c8e5cb9a5ddb676b26742708.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Q3thr8DK94E-8hjELH4lZw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">nlu_Data</figcaption></figure><p id="2d20" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我们在数据中定义的第二件事是故事。在故事中，我们定义了一些可能的路径，用户可以通过这些路径与我们的聊天机器人进行对话。<strong class="ke ir"> (*) </strong>定义用户命令<strong class="ke ir"> (-) </strong>定义聊天机器人响应。在下面的例子中，我们可以看到<strong class="ke ir"> utter_greet </strong>作为聊天机器人的响应，我们可以在domain.yml文件下为utter_greet定义多个响应，我们很快就会看到。<strong class="ke ir">槽</strong>用于保存实体，这些实体可以在将来用于了解上下文。这样，我们的聊天机器人就能够记住对话中的上下文。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi oz"><img src="../Images/8681a57858bd43b43d77a37270983f61.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*R4ZUYlXWaGqEet1hv24GVg.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Stories</figcaption></figure><p id="2691" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在domain.yml文件中，我们可以定义聊天机器人应该知道的整个上下文。动作定义了我们回应用户的方式。操作响应在模板下定义。其他东西是我们需要在领域下定义的实体和意图。</p><figure class="ne nf ng nh gt jr gh gi paragraph-image"><div role="button" tabindex="0" class="js jt di ju bf jv"><div class="gh gi pa"><img src="../Images/300d47210f9580502695f113509c22fe.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*_PTWWUSOCQFViS-y7PxyRw.png"/></div></div><figcaption class="ob oc gj gh gi od oe bd b be z dk">Domain</figcaption></figure><p id="033c" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我们使用Zomato API来获取餐馆的详细信息。您可以访问API页面，在那里注册并生成一个API密钥来与我们的API集成。与API调用相关的操作在actions.py文件中定义。</p><div class="of og gp gr oh oi"><a href="https://www.datadriveninvestor.com/2020/02/03/how-an-ai-based-chatbot-can-help-you-form-better-long-term-habits/" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">基于人工智能的聊天机器人如何帮助你形成更好的长期习惯</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">当我们思考我们的日常行为时，我们经常没有意识到，我们所做的行为占了多大的比例…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="or l"><div class="pb l ot ou ov or ow jw oi"/></div></div></a></div><p id="721d" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">在endpoints.yml文件中，我们为动作服务器定义了端点。Make文件用于定义训练nlu模型和部署rasa核心组件的命令。</p><p id="5fbc" class="pw-post-body-paragraph kb kc iq ke b kf kg kh ki kj kk kl km la ko kp kq lb ks kt ku lc kw kx ky kz ij bi translated">我希望现在你能对Rasa有一个基本的了解。如有任何疑问，欢迎在LinkedIn上评论或ping我。</p><div class="of og gp gr oh oi"><a href="https://www.linkedin.com/in/shubhambaghel/" rel="noopener  ugc nofollow" target="_blank"><div class="oj ab fo"><div class="ok ab ol cl cj om"><h2 class="bd ir gy z fp on fr fs oo fu fw ip bi translated">Shubham Baghel -助理技术主管- Nagarro | LinkedIn</h2><div class="op l"><h3 class="bd b gy z fp on fr fs oo fu fw dk translated">探索者和学习者。深入数据科学领域。分析来自真实世界实体的数据集…</h3></div><div class="oq l"><p class="bd b dl z fp on fr fs oo fu fw dk translated">www.linkedin.com</p></div></div><div class="or l"><div class="pc l ot ou ov or ow jw oi"/></div></div></a></div><figure class="ne nf ng nh gt jr"><div class="bz fp l di"><div class="pd pe l"/></div></figure></div></div>    
</body>
</html>