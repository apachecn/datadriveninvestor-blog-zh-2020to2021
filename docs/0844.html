<html>
<head>
<title>How to Get Financial Ratios Using Python</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">如何使用Python获得财务比率</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/how-to-get-financial-ratios-using-python-18131b63ef29?source=collection_archive---------2-----------------------#2020-02-19">https://medium.datadriveninvestor.com/how-to-get-financial-ratios-using-python-18131b63ef29?source=collection_archive---------2-----------------------#2020-02-19</a></blockquote><div><div class="fc ih ii ij ik il"/><div class="im in io ip iq"><h2 id="ff0f" class="ir is it bd b dl iu iv iw ix iy iz dk ja translated" aria-label="kicker paragraph">DIY投资</h2><div class=""/><p id="fe4d" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">只用了几行代码</p><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi kx"><img src="../Images/9b5c519622d294396c691d6c1d812f4e.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*z-GMhvhJPQgiCwEE"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Image by Christopher Gower on <a class="ae ln" href="https://unsplash.com/photos/m_HRfLhgABo" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="c638" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果你曾经想过有一天把你的钱投资到股票市场，那么你可能会遇到比率分析。然而，当我们听到“比率”时，我们大多数人都会想起高中时让我们沮丧的复杂数学问题。</p><p id="5bb7" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">幸运的是，说到投资，就不一定了。大多数比率，当正确理解和应用时，可以帮助你成为一个更明智的投资者。</p><blockquote class="lo lp lq"><p id="616b" class="jz ka lr kb b kc kd ke kf kg kh ki kj ls kl km kn lt kp kq kr lu kt ku kv kw im bi translated">比率分析是一种定量方法，通过比较财务报表中包含的信息来了解公司的流动性、运营效率和盈利能力。比率分析是基本面分析的基石。<a class="ae ln" href="https://www.investopedia.com/terms/r/ratioanalysis.asp" rel="noopener ugc nofollow" target="_blank"><em class="it"/>Investopedia.com</a></p></blockquote><h2 id="b986" class="lv lw it bd lx ly lz dn ma mb mc dp md kk me mf mg ko mh mi mj ks mk ml mm iz bi translated">蟒蛇来了</h2><p id="ffda" class="pw-post-body-paragraph jz ka it kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw im bi translated">如果您有Python的基础知识，那么只需几行代码就可以掌握任何公司的财务比率。在本文中，我们将了解如何实现这一点。所以，事不宜迟，让我们开始编码吧。</p><p id="cc3e" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">为了检索股票数据，我们将使用一个免费的API，<a class="ae ln" href="https://financialmodelingprep.com/developer/docs/" rel="noopener ugc nofollow" target="_blank"> Financialmodelingprep </a>，它非常易于使用。为此，我们将向API端点发出get请求，然后解析我们需要的值。</p><div class="ms mt gp gr mu mv"><a href="https://www.datadriveninvestor.com/2019/03/25/a-programmers-guide-to-creating-an-eclectic-bookshelf/" rel="noopener  ugc nofollow" target="_blank"><div class="mw ab fo"><div class="mx ab my cl cj mz"><h2 class="bd jd gy z fp na fr fs nb fu fw jc bi translated">创建折衷书架的程序员指南|数据驱动的投资者</h2><div class="nc l"><h3 class="bd b gy z fp na fr fs nb fu fw dk translated">每个开发者都应该有一个书架。他的内阁中可能的文本集合是无数的，但不是每一个集合…</h3></div><div class="nd l"><p class="bd b dl z fp na fr fs nb fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="ne l"><div class="nf l ng nh ni ne nj lh mv"/></div></div></a></div><p id="51c2" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">与任何数据科学工作一样，我们首先需要导入构建Python脚本所需的库。</p><pre class="ky kz la lb gt nk nl nm nn aw no bi"><span id="429f" class="lv lw it nl b gy np nq l nr ns">#import packages we need<br/>import requests<br/>import json</span></pre><p id="c133" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">现在让我们使用请求包向API发出请求</p><pre class="ky kz la lb gt nk nl nm nn aw no bi"><span id="2bfa" class="lv lw it nl b gy np nq l nr ns"># Get ratios for Apple using request package  <br/>financial_ratios =  requests.get(f"<a class="ae ln" href="https://financialmodelingprep.com/api/v3/financial-ratios/{stock" rel="noopener ugc nofollow" target="_blank">https://financialmodelingprep.com/api/v3/financial-ratios/</a>AAPL")<br/>financial_ratios = financial_ratios.json()</span></pre><p id="568f" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">如果我们现在打印我们的financial_ratios变量，我们得到一个长字典，我们现在可以解析它。</p><pre class="ky kz la lb gt nk nl nm nn aw no bi"><span id="da5f" class="lv lw it nl b gy np nq l nr ns">print(financial_ratios)</span></pre><figure class="ky kz la lb gt lc gh gi paragraph-image"><div role="button" tabindex="0" class="ld le di lf bf lg"><div class="gh gi nt"><img src="../Images/7980ffaa2e10a6e1673deeff300da090.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*wFU5mnMNuF5-5CgOFctNNQ.png"/></div></div><figcaption class="lj lk gj gh gi ll lm bd b be z dk">Image showing snapshot of the result</figcaption></figure><h2 id="8a1c" class="lv lw it bd lx ly lz dn ma mb mc dp md kk me mf mg ko mh mi mj ks mk ml mm iz bi translated">解析结果字典</h2><p id="b355" class="pw-post-body-paragraph jz ka it kb b kc mn ke kf kg mo ki kj kk mp km kn ko mq kq kr ks mr ku kv kw im bi translated">请注意，我们得到的是一个长字典，其中键“ratios”的值是字典的嵌套列表。此外，请注意这些嵌套字典是如何表示不同年份的。在这种情况下，2009–2019年。</p><p id="7f15" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">最近一年的比率位于顶部。为了检索它，我们执行下面的代码:</p><pre class="ky kz la lb gt nk nl nm nn aw no bi"><span id="065c" class="lv lw it nl b gy np nq l nr ns">recent_ratios = financial_ratios['ratios'][0]<br/>print(recent_ratios)</span></pre><p id="79e9" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">既然我们已经分离出了感兴趣的年份，我们还可以得到具体的比率。在下面的例子中，我们感兴趣的是利润率。</p><pre class="ky kz la lb gt nk nl nm nn aw no bi"><span id="98d9" class="lv lw it nl b gy np nq l nr ns">profit_ratios = recent_ratios['profitabilityIndicatorRatios']<br/>print(profit_ratios)</span></pre><p id="726a" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">有多简单？但是如果我们不得不为不同的公司做几次这样的事情呢？不好玩，是吧？别担心，我们可以为任何公司创建一个可以完成所有这些工作的函数。</p><pre class="ky kz la lb gt nk nl nm nn aw no bi"><span id="fd9e" class="lv lw it nl b gy np nq l nr ns">def get_profit_ratios(stock):<br/>    financial_ratios =  requests.get(f"<a class="ae ln" href="https://financialmodelingprep.com/api/v3/financial-ratios/{stock" rel="noopener ugc nofollow" target="_blank">https://financialmodelingprep.com/api/v3/financial-ratios/{stock</a>}")<br/>    financial_ratios = financial_ratios.json()<br/>    ratios = financial_ratios['ratios'][0]<br/>    profit_ratios = ratios['profitabilityIndicatorRatios']<br/>    <br/>    return profit_ratios</span></pre><p id="3cca" class="pw-post-body-paragraph jz ka it kb b kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ku kv kw im bi translated">感谢阅读。我希望这篇文章对你有用。你可以在这里找到Jupyter笔记本的所有代码<a class="ae ln" href="https://github.com/Saidiibrahim/MyProjects/blob/master/Python/Stock%20Ratios.ipynb" rel="noopener ugc nofollow" target="_blank"/>。</p><figure class="ky kz la lb gt lc"><div class="bz fp l di"><div class="nu nv l"/></div></figure></div></div>    
</body>
</html>