# 数据湖 2.0:在云中构建轻量级数据湖

> 原文：<https://medium.datadriveninvestor.com/data-lake-2-0-building-a-lightweight-data-lake-in-the-cloud-4e3add32b0e7?source=collection_archive---------8----------------------->

![](img/708df33faeb5418e3325bc5c98f97cb6.png)

*这是科技作家法尔汉·穆尼尔的客座文章*

数据湖是用来存储大量数据的存储库，通常用于未来的分析、大数据处理和机器学习。数据湖可以让您对数据做更多的事情。但是，如果在设计、实现和维护数据湖时不小心，它会很快变成无用的数据沼泽。

在本文中，您将了解什么是数据湖，什么是提取、加载、转换(ELT ),以及这两个概念之间的联系。您还将了解数据湖架构的基本构建块是什么，以及在 AWS、Azure 和 GCP 上有哪些基于云的数据湖选项。

# 什么是数据湖？

数据湖是一个中央存储库，用于存储结构化和非结构化数据，以用于分析、大数据处理和机器学习。它不同于仅用于存储结构化、处理过的数据的[数据仓库](https://www.altexsoft.com/blog/enterprise-data-warehouse-concepts/?utm_source=MediumCom&utm_medium=referral&utm_campaign=shared)。

数据湖的基本特征包括:

1.  **数据移动**-您可以实时导入大量数据。这些数据可以来自多个来源，在存储之前不需要任何处理或转换。
2.  **可用性**-这个湖可以从各种平台进入，并且可以由多个用户同时进入。用户可以通过爬行、编目和索引来定位湖中的特定数据。
3.  **灵活性**-分析和机器学习平台可以直接访问数据，数据可以就地使用，而不需要导出。

## 为什么需要数据湖？

数据湖通过扩展可以添加到[数据管道](https://www.altexsoft.com/blog/datascience/what-is-data-engineering-explaining-data-pipeline-data-warehouse-and-data-engineer-role/?utm_source=MediumCom&utm_medium=referral&utm_campaign=shared)的数据类型以及如何使用数据，使您能够从数据中获得最大利益。通过集中化，lakes 使您能够确保使用相同的数据执行所有操作，从而确保可靠性。当数据变得更加容易和容易获得时，可以更快地获得和应用见解。

# 什么是提取、加载、转换(ELT)？

提取、加载、转换(ELT)是一个多步骤流程，用于接收原始数据并为下游使用做准备。第一步，确定数据源，并将数据输入 ELT 管道。接下来，数据按原样加载到数据湖或存储资源中。最后，数据被转换成分析所需的任何格式。

转换可能包括:

*   匿名数据
*   聚合计算
*   转换数据类型或模式
*   组合来自多个来源的数据

ELT 是 [extract，transform，load (ETL)](https://www.altexsoft.com/blog/datascience/who-is-etl-developer-role-description-process-breakdown-responsibilities-and-skills/?utm_source=MediumCom&utm_medium=referral&utm_campaign=shared) 的变体，用于摄取、处理和传输数据到数据仓库。由于数据湖能够存储多种类型的数据，因此 ELT 是首选。它可以更快地加载数据，并且消除了多次转换数据的麻烦，而多次转换数据会导致数据损坏。

[](https://www.datadriveninvestor.com/2020/07/23/learn-data-science-in-a-flash/) [## 一瞬间学会数据科学！？数据驱动的投资者

### 在我之前的职业生涯中，我是一名训练有素的古典钢琴家。还记得那些声称你可以…

www.datadriveninvestor.com](https://www.datadriveninvestor.com/2020/07/23/learn-data-science-in-a-flash/) 

# 数据湖架构

创建数据湖时，可以将其创建为单个存储库。但是，更常见的是从多个图层或服务创建湖泊。这有助于更好地组织数据，并提高使用效率。

常用的层包括:

1.  **摄取层** —这是原始数据载入湖泊时使用的基本层。从这一层，可以根据需要访问、组织或处理数据。
2.  **标准化层** —该层用于存储已经转换的数据或者已经是可能需要的格式的数据。当您有通常需要的数据格式时，它很有用，可以用来避免执行多个相同的转换。
3.  **精选层** —这一层包含已经转换成可消费数据集的净化数据。通常，这一层还包括从多个数据源整合的数据。策划层是用户最常访问的层。
4.  **生产层** —也称为应用或可信层。这一层包含应用了业务逻辑的数据。例如，行级安全性或代理键。它包含可供应用程序使用的数据。
5.  **沙盒层**——沙盒层包含进程内或临时数据转换，使分析师和[数据科学家](https://www.cio.com/article/3217026/what-is-a-data-scientist-a-key-data-analytics-role-and-a-lucrative-career.html)能够在不影响其他用户的情况下试验数据。

## 附加组件

虽然层构成了数据湖的主体，但是还需要其他组件。其中包括:

*   **安全性** —数据湖保存了大量有价值的数据，并且被设计为高度可访问。为了确保用户和应用程序只能以您希望的方式访问您的数据，您必须实现安全工具。这些应该包括权限管理、认证和加密工具。
*   **治理**——您需要能够监控数据湖性能、容量和使用的工具。需要记录所有操作，以确保事件可追溯。
*   **编排**-编排工具使您能够管理 ELT 流程，控制作业调度，并确保用户和应用程序能够访问数据。如果您使用由多个资源或云服务组成的分布式数据湖，这一点尤其重要。

# 云数据湖架构:三巨头

许多数据湖依赖云服务，这并不奇怪。许多组织使用的数据来自云服务，许多组织已经在云中运行工作负载。为了满足客户需求，所有三大云提供商都提供了各种服务，您可以使用这些服务在云中创建数据湖。

## AWS 上的数据湖

尽管 AWS 不提供特定的数据湖服务，但它确实提供了一个自动化的参考实现，您可以使用它从服务组合中提供和部署一个数据湖。尽管这需要更多的专业知识，但是您也可以选择构建一个数据湖，通过选择和集成服务来定制您的需求。

对于许多组织来说，所提供的名为 AWS 上的数据湖的解决方案是最好的开始选择。它包括一个控制台和 CLI，可用于搜索和管理数据，以及以下服务——cogn ITO、Lambda、API Gateway、S3、DynamoDB、Elasticsearch 服务、Glue 和 CloudWatch。

## 蔚蓝数据湖

Azure Data Lake 是一个服务，您可以使用它从三个优化的服务中构建一个数据湖:

*   **HDInsight** —一项服务，使您能够运行开源分析框架，包括 Hadoop、Spark 和 Kafka。
*   **数据湖分析** —一种分析作业服务，使您能够开发和运行处理和转换程序。它支持用 R、Python、.NET 和 U-SQL。
*   **Azure 数据湖存储** —基于针对分析工作负载优化的 Azure Blob 存储。

或者，您可以根据需要通过集成单独的服务来创建一个数据湖。虽然这需要更多的专业知识和努力，但它可以让您整合混合存储服务，如 [Azure Files Storage](https://cloud.netapp.com/azure-netapp-files) ，从而实现更大的灵活性和对数据的控制。

## 谷歌数据湖

Google 没有为数据湖提供特定的服务，但是提供了多种服务，可以集成这些服务来创建一个数据湖。虽然在 GCP 创建湖泊不如其他云服务用户友好，但它可以提供更大的灵活性。

要在 GCP 建造你的湖泊，你需要使用谷歌云存储作为基础。然后，您可以应用各种服务，包括数据流、云发布/订阅和存储传输服务来接收数据。对于分析，您可以使用 Cloud Dataproc，其中包括托管的 Hive 服务、BigQuery 和 Cloud Datalab，其中包括托管的 Jupyter 笔记本。

# 成功的数据湖在行动

作为数据湖可以带来的不同的一个例子，您可以看看存储和分析技术开发商 [EMC](https://www.intel.com/content/dam/www/public/us/en/documents/case-studies/data-lake-analytics-emc-case-study.pdf) 创建的一个湖实施。

EMC 拥有必要的数据，但无法以允许整体和战略性使用的方式收集这些数据。由于公司的发展和其他业务的合并，他们的许多数据都是孤立的，数据管理也不一致。此外，当业务部门需要报告数据时，他们不得不求助于 IT 部门，这造成了瓶颈并降低了效率。

为了消除这些问题，该公司利用其 Greenplum 数据计算应用装置和 Isilon 横向扩展 NAS 设计了一个内部湖。这些系统基于英特尔硬件，并由定制算法支持。该公司还整合了沙盒的使用，各业务部门可以使用沙盒进行自助分析和数据操作。

一旦数据被加入湖中，分析师就能够统一访问所有数据，并且能够更好地管理保真度。因此，EMC 能够将数据查询时间从数小时缩短到不到一分钟，并提高预测模型的准确性。

# 结论

在构建数据湖时，您可以使用各种各样的架构，但大多数架构应该包含五个层，分别用于接收、标准化、监管、生产和沙盒。其他强烈推荐的组件包括安全性、治理和编排组件。您可以在云中或内部设置您的数据湖。

每个云供应商都提供不同的数据湖组件和特性。AWS 上的数据湖具有自动化功能。Azure 数据湖通常由三种服务组成——HD insight、数据湖分析和 Azure 数据湖存储。使用 GCP 时，您需要使用可用的 GCP 资源手动构建您的数据湖。

请记住，正确配置的数据湖应该使您能够从多个来源实时导入大数据，同时提供高可用性和灵活性。无论您是在云中还是在本地设置数据湖，如果您想避免可怕的数据沼泽，请确保您的数据湖提供了三个基本的数据湖特征。

____________________________________________________________

***法尔汉·穆尼尔*** — *我在技术领域拥有超过 12 年的经验，见证了许多网络技术的发展，以及数字经济的崛起。我认为自己是一个终身学习者，我喜欢尝试新技术。我以热情和创新的心态迎接挑战。我觉得与世界其他地方分享你的经历是很重要的——为了传递知识或让其他人从你的错误或成功中学习。在业余时间，我喜欢旅行和拍摄世界。*

***想为我们的博客写篇文章？阅读我们的要求和指南*** [***成为投稿人***](https://www.altexsoft.com/become-a-contributor/?utm_source=MediumCom&utm_medium=referral&utm_campaign=shared) ***。***

*原载于 AltexSoft tech 博客“* [*数据湖 2.0:在云端构建轻量级数据湖*](https://www.altexsoft.com/blog/data-lake-in-cloud/?utm_source=MediumCom&utm_medium=referral&utm_campaign=shared)

## *访问专家视图— [订阅 DDI 英特尔](https://datadriveninvestor.com/ddi-intel)*