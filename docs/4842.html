<html>
<head>
<title>Pandas 101: Data Analysis &amp; Manipulation</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">熊猫101:数据分析与处理</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/pandas-101-data-analysis-manipulation-fae8068beb2?source=collection_archive---------13-----------------------#2020-08-26">https://medium.datadriveninvestor.com/pandas-101-data-analysis-manipulation-fae8068beb2?source=collection_archive---------13-----------------------#2020-08-26</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="f51d" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">10分钟内你需要知道的一切！</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/968f59251fb04af352378fe0bfadf007.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*YIsRbO--66TL5oHS"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@ev?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">ev</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><h2 id="6ea8" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">为什么要学熊猫？</h2><p id="d64b" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">真实世界的数据需要转换成我们的模型可以理解的格式来处理，并且在我们的数据集中可能存在一些泄漏，从而提高了对我们的数据进行预处理的需要。</p><p id="b7bf" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">Pandas是数据处理中常用的工具。它是一个开源库，提供了高性能，是一个分析和处理数据的好工具。它也有许多易于使用的数据结构。</p><p id="0371" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">它是处理结构化数据的最重要的工具之一。结构化数据是一种标准化格式，用于提供关于页面的信息并对页面内容进行分类；例如，在食谱页面上，有哪些成分、烹饪时间和温度、卡路里等等。</p><div class="mq mr gp gr ms mt"><a href="https://www.datadriveninvestor.com/2019/09/19/rs-metrics-metalsignals-data-analysis/" rel="noopener  ugc nofollow" target="_blank"><div class="mu ab fo"><div class="mv ab mw cl cj mx"><h2 class="bd ir gy z fp my fr fs mz fu fw ip bi translated">替代数据分析-遥感度量金属信号|数据驱动的投资者</h2><div class="na l"><h3 class="bd b gy z fp my fr fs mz fu fw dk translated">替代数据现在被誉为新的石油。这些数据集提供了独特而及时的市场和…</h3></div><div class="nb l"><p class="bd b dl z fp my fr fs mz fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="nc l"><div class="nd l ne nf ng nc nh kp mt"/></div></div></a></div><p id="faf4" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">它是处理结构化数据的最重要的工具之一。结构化数据是一种标准化格式，用于提供关于页面的信息并对页面内容进行分类；例如，在食谱页面上，有哪些成分、烹饪时间和温度、卡路里等等。</p><p id="4982" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">它是处理结构化数据的最重要的工具之一。结构化数据是一种标准化格式，用于提供关于页面的信息并对页面内容进行分类；例如，在食谱页面上，有哪些成分、烹饪时间和温度、卡路里等等。</p><h1 id="7031" class="ni kx iq bd ky nj nk nl lb nm nn no le jw np jx li jz nq ka lm kc nr kd lq ns bi translated">入门指南</h1><p id="9588" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">要开始使用pandas库，首先需要在编程环境中导入这个库。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="a103" class="kw kx iq nu b gy ny nz l oa ob"><strong class="nu ir">import </strong>pandas <strong class="nu ir">as</strong> pd  # <em class="oc">To import the pandas module into your code.</em></span></pre><blockquote class="od oe of"><p id="1ed5" class="ls lt oc lu b lv ml jr lx ly mm ju ma og mn mc md oh mo mf mg oi mp mi mj mk ij bi translated">上面的方法假设你已经安装了pandas，如果没有安装，你可以下载Anaconda[【https://www.anaconda.com/products/individual】T2]或者在你的终端输入下面的语法来下载pandas库，</p></blockquote><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="9e13" class="kw kx iq nu b gy ny nz l oa ob">pip install pandas</span></pre><h1 id="a614" class="ni kx iq bd ky nj nk nl lb nm nn no le jw np jx li jz nq ka lm kc nr kd lq ns bi translated">数据框架和系列</h1><p id="14bc" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Pandas中的数据结构是使用两个核心对象实现的:</p><p id="7b8c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><code class="fe oj ok ol nu b"><strong class="lu ir">DataFrame</strong></code> <strong class="lu ir">，</strong>这是一种表格，类似于电子表格，最适合将数据表示成单元格。它由命名的列和编号的行组成。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi om"><img src="../Images/b06b5e1958aede1dec207f60142f86cf.png" data-original-src="https://miro.medium.com/v2/resize:fit:1170/format:webp/1*D2sutYz6LgNiGXG258qNuQ.png"/></div></figure><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="38a6" class="kw kx iq nu b gy ny nz l oa ob">pd.DataFrame(<em class="oc">p</em>arameters) # <em class="oc">Generates a DataFrame</em></span><span id="d72a" class="kw kx iq nu b gy on nz l oa ob">"""<br/><strong class="nu ir">Parameters:</strong></span><span id="291c" class="kw kx iq nu b gy on nz l oa ob"><strong class="nu ir">data: </strong>ndarray (structured or homogeneous), Iterable, dict, or DataFrame<br/>Dict can hold Series, arrays, constants, or list-like objects.<br/><strong class="nu ir">index</strong>: Index or array-like (<em class="oc">optional)<br/></em><strong class="nu ir">columns</strong>: Index or array-like (<em class="oc">optional)<br/></em><strong class="nu ir">dtype: </strong>dtype, the default value is None (<em class="oc">optional</em>)<br/><strong class="nu ir">copy</strong>: bool, the default values is False</span><span id="1e66" class="kw kx iq nu b gy on nz l oa ob">"""</span></pre><p id="d203" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">创建DataFrame时，如果使用所有标量值，则必须传递一个索引。一个<strong class="lu ir">标量</strong>是一个可以有一个<strong class="lu ir">值</strong> <em class="oc">的类型，例如字符串，整数。</em>为避免任何错误，将行放在选择括号<code class="fe oj ok ol nu b">[]</code>内。</p><p id="f222" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><code class="fe oj ok ol nu b"><strong class="lu ir">Series</strong></code>、<strong class="lu ir">、</strong>是单列序列的数据值。<code class="fe oj ok ol nu b">DataFrame</code>包含一个或多个<code class="fe oj ok ol nu b">Series</code>和每个<code class="fe oj ok ol nu b">Series.</code>的名称</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oo"><img src="../Images/c0becc00504a295ade3207480a7afeba.png" data-original-src="https://miro.medium.com/v2/resize:fit:750/format:webp/1*82jXMoYqAK92tf_Q74o_AQ.png"/></div></figure><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="f3e6" class="kw kx iq nu b gy ny nz l oa ob">pd.Series(<em class="oc">parameter</em>s) # <em class="oc">Generates a Series</em></span><span id="2672" class="kw kx iq nu b gy on nz l oa ob">"""<br/><strong class="nu ir">Parameters</strong>:</span><span id="38e3" class="kw kx iq nu b gy on nz l oa ob"><strong class="nu ir">data</strong>: array-like, Iterable, dict, or scalar value<br/><strong class="nu ir">index: </strong>array-like or Index (1d)<br/><strong class="nu ir">dtype</strong>: str, numpy.dtype, or ExtensionDtype, (<em class="oc">optional</em>)<br/><strong class="nu ir">name: </strong>str, (<em class="oc">optional</em>)<br/><strong class="nu ir">copy</strong>: bool, default False</span><span id="f88e" class="kw kx iq nu b gy on nz l oa ob">"""</span></pre><p id="7f0f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">知道如何创建数据帧和数据系列是很重要的，但是，大多数时候你将使用预先存在的数据。因此，您需要使用以下代码将文件加载到一个<code class="fe oj ok ol nu b">DataFrame</code>中</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="f1e3" class="kw kx iq nu b gy ny nz l oa ob">ourData = pd.read_csv(<em class="oc">your_file_path)</em></span></pre><p id="31e6" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">对于这个例子，我们将使用在<a class="ae kv" href="https://archive.ics.uci.edu/ml/datasets/Iris" rel="noopener ugc nofollow" target="_blank"> UCI机器学习知识库中找到的<a class="ae kv" href="https://gist.githubusercontent.com/curran/a08a1080b88344b0c8a7/raw/639388c2cbc2120a14dcf466e85730eb8be498bb/iris.csv" rel="noopener ugc nofollow" target="_blank">虹膜数据集</a>:虹膜数据集</a>。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi op"><img src="../Images/53e1389196bef1f4aa358c561eaac0cc.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*0Hx8frIVlfD9sZGAzyzvoA.png"/></div></div></figure><h1 id="ba57" class="ni kx iq bd ky nj nk nl lb nm nn no le jw np jx li jz nq ka lm kc nr kd lq ns bi translated">深入了解我们的数据</h1><p id="b9c2" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Pandas有许多方法可以让我们了解数据集、列名、行数、缺失值等等。</p><h2 id="2f76" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">头部()</h2><p id="9695" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><code class="fe oj ok ol nu b">head()</code>方法显示数据集中出现的前五行，以及它们所属的列和它们的索引号。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="1266" class="kw kx iq nu b gy ny nz l oa ob">ourData.head()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oq"><img src="../Images/ae2fc77e5d25e530fe702ffdb0b51b3f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1198/format:webp/1*QCZ6wWvscufB8NYj5wWJIw.png"/></div></figure><h2 id="c212" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">信息()</h2><p id="66c6" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><code class="fe oj ok ol nu b">info()</code>方法提供了行数(条目数)、列数和列名、它们的数据类型以及非缺失(非空)值的数量。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="11cd" class="kw kx iq nu b gy ny nz l oa ob">ourData.info()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi or"><img src="../Images/193a771adeb41b1369c19f0b79007ad0.png" data-original-src="https://miro.medium.com/v2/resize:fit:794/format:webp/1*QQ3nhi4gp5uCYDvnU-dCXw.png"/></div></figure><h2 id="29ce" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">描述()</h2><p id="4999" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><code class="fe oj ok ol nu b">describe()</code>方法将数据重组为统计摘要，如数据帧中各列的平均值、标准差、百分位数或一系列数值。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="c6b1" class="kw kx iq nu b gy ny nz l oa ob">ourData.describe()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi os"><img src="../Images/87bfa5fe0db84a4638a64941def169bd.png" data-original-src="https://miro.medium.com/v2/resize:fit:1084/format:webp/1*KONy-t-79CE6S6Zjm-Lk-w.png"/></div></figure><h2 id="b020" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">列</h2><p id="eb60" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><code class="fe oj ok ol nu b">columns</code>方法用于显示数据集中可用的不同列的列表。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="1d71" class="kw kx iq nu b gy ny nz l oa ob">ourData.columns</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ot"><img src="../Images/aa64de84658654a0f8a21b924eea7e8d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1196/format:webp/1*U0Ge-RnFn-ju0Bio81Sj_Q.png"/></div></figure><h2 id="70a3" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">唯一()</h2><p id="d147" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><code class="fe oj ok ol nu b">unique()</code>方法被附加到带有分类变量的列名中，以查找其中的唯一值。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="2c21" class="kw kx iq nu b gy ny nz l oa ob">ourData.column_name.unique() </span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ou"><img src="../Images/48952408204a357093c2542f226bbf9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1030/format:webp/1*pwhuxqPQZTYRDC5iUmn_uA.png"/></div></figure><p id="954a" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">重要的是要知道可以使用选择括号<code class="fe oj ok ol nu b">[]</code>来引用column_name。如果列名之间有空格，唯一可能的引用方式是用引号将它括在选择括号内。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ov"><img src="../Images/6da07ed341589990d006465cdcb17220.png" data-original-src="https://miro.medium.com/v2/resize:fit:1052/format:webp/1*BAJfjCE35Tt7N1cmKbQzvQ.png"/></div></figure><h1 id="0434" class="ni kx iq bd ky nj nk nl lb nm nn no le jw np jx li jz nq ka lm kc nr kd lq ns bi translated">选择、索引、获取和操作我们的数据</h1><p id="f7b8" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">在Pandas中选择列或使用其索引获取值类似于Python中使用选择括号<code class="fe oj ok ol nu b">[]</code>的方法。索引或列名在选择括号<code class="fe oj ok ol nu b">[]</code>之间传递以返回值。</p><p id="600d" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><code class="fe oj ok ol nu b">index</code>属性用于为Series和DataFrame分配标识符(索引)值。它还提供了关于数据帧索引的信息。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="cc68" class="kw kx iq nu b gy ny nz l oa ob">ourData.index</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ow"><img src="../Images/9f07c5e8ecade5fb79e9975b0a26f8f1.png" data-original-src="https://miro.medium.com/v2/resize:fit:698/format:webp/1*YIYEL9wxaMraFowHsvUxlQ.png"/></div></figure><p id="0cca" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">使用上面的方法，Pandas会根据数据的排序自动为每个值赋予一个唯一的索引值。一旦索引被赋予一个值，当数据被重新排序时，它不会改变。</p><p id="ea0c" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">对数据行重新排序的一种方法是使用<code class="fe oj ok ol nu b">reindex</code>属性</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="6f34" class="kw kx iq nu b gy ny nz l oa ob">ourSeries.reindex([<em class="oc">ourNewOrder</em>])</span><span id="4e0b" class="kw kx iq nu b gy on nz l oa ob"><strong class="nu ir">'''<br/>Example: Imagine ourSeries comprises of alphabets from A to E.</strong></span><span id="cd0f" class="kw kx iq nu b gy on nz l oa ob">0  E<br/>1  C<br/>2  A<br/>3  D<br/>4  B</span><span id="9855" class="kw kx iq nu b gy on nz l oa ob">To manually reorder our data to our order of choice is by using the <strong class="nu ir"><em class="oc">reindex </em></strong>method</span><span id="43c4" class="kw kx iq nu b gy on nz l oa ob">'''</span><span id="4fd5" class="kw kx iq nu b gy on nz l oa ob">ourSeries.reindex([2, 4, 1, 3, 0])</span><span id="50b1" class="kw kx iq nu b gy on nz l oa ob"><em class="oc">ourSeries</em></span><span id="8789" class="kw kx iq nu b gy on nz l oa ob">2  A<br/>4  B<br/>1  C<br/>3  D<br/>0  E</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi ox"><img src="../Images/680bf27801be39dcc06895fd8396aee8.png" data-original-src="https://miro.medium.com/v2/resize:fit:812/format:webp/1*KLT5LhOiiEwjafbDUMNlWA.png"/></div></figure><h2 id="eb8f" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">使用索引运算符访问</h2><p id="ebd3" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">使用值的索引，我们可以为任何操作访问它。默认情况下，索引是数值。索引操作符<code class="fe oj ok ol nu b">[]</code>通常用于通过索引访问数据。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="4921" class="kw kx iq nu b gy ny nz l oa ob">ourSeries[0] # This will print the value E</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oy"><img src="../Images/4b52709334c6c002dd8f8c799d9901ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:300/format:webp/1*Lsv_C4jcF1z52EoAx5qqIA.png"/></div></figure><h2 id="af3d" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">loc[]和iloc[]</h2><p id="8408" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Pandas有自己的方法<code class="fe oj ok ol nu b">loc</code>和<code class="fe oj ok ol nu b">iloc</code>用于索引和访问数据。它们用于索引运算符无法执行的高级操作。</p><p id="477e" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><code class="fe oj ok ol nu b">iloc </code>是基于整数位置的索引，用于按位置选择。数据是根据它们在数据中的数字位置来选择的，也就是说，为了选择数据中的第一行，我们将使用以下代码</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="271d" class="kw kx iq nu b gy ny nz l oa ob">ourData.iloc[2]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi oz"><img src="../Images/75915cb3be9a56a4157a2c15a498d32d.png" data-original-src="https://miro.medium.com/v2/resize:fit:510/format:webp/1*a37IEI8iIGkAWnl7HaMXtQ.png"/></div></figure><p id="da69" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">上面的语法给出了<code class="fe oj ok ol nu b">ourData</code>中第三行的所有信息。</p><p id="ec9f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir">使用iloc[]访问列</strong></p><p id="dff4" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">要访问一列中的所有行(例如第一列)，您可以使用以下代码</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="24c8" class="kw kx iq nu b gy ny nz l oa ob">ourData.iloc[:, 0]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pa"><img src="../Images/a610714f2e1ac60fe8b3ae42ae9eff90.png" data-original-src="https://miro.medium.com/v2/resize:fit:870/format:webp/1*22xdn9tspuHVTVI_2iA_Zg.png"/></div></figure><p id="ffe8" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">要访问一列中的前5行，可以使用以下方法</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="fe58" class="kw kx iq nu b gy ny nz l oa ob">ourData.iloc[:4, 0]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pb"><img src="../Images/b9ea535509f40f52547d91ca62f22ccd.png" data-original-src="https://miro.medium.com/v2/resize:fit:652/format:webp/1*MBPnFB-AFMkoZOgCXWt4KQ.png"/></div></figure><p id="8bf2" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir"> loc[] </strong></p><p id="22d3" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><code class="fe oj ok ol nu b">loc</code>是用于数据选择的基于标签的索引。在这个范例中，数据主要由标签访问，也可以由布尔数组访问。为了选择<code class="fe oj ok ol nu b">ourData</code>中的第一个条目，我们将使用以下代码</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="c4d1" class="kw kx iq nu b gy ny nz l oa ob">ourData.loc[0, columnname]</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pc"><img src="../Images/9cb9d5da5fc3351d81ae1b33a90c3910.png" data-original-src="https://miro.medium.com/v2/resize:fit:590/format:webp/1*kvjfPL99Uc4-ur_-nDIU0Q.png"/></div></figure><p id="cd5f" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">Panda的<code class="fe oj ok ol nu b">iloc</code>和<code class="fe oj ok ol nu b">loc</code>是行优先、列第二，和Python中的列优先、行第二的索引方法相反。</p><h2 id="eb3b" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">重命名索引</h2><p id="a6aa" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">索引可以从默认数值重命名为字符串或整数。Pandas提供了一种<code class="fe oj ok ol nu b">rename()</code>方法来使之成为可能。要重命名索引，我们使用以下语法</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="f553" class="kw kx iq nu b gy ny nz l oa ob">ourData.rename(index={0: 'firstValue', 1: 'secondValue'})</span></pre><h2 id="891e" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">重命名列和行</h2><p id="a700" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated"><code class="fe oj ok ol nu b">rename()</code>方法也可用于重命名列和行标签，只要字典提供了当前名称和要应用的新名称。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="0460" class="kw kx iq nu b gy ny nz l oa ob">ourData.rename(columns={'columnname': 'ourNewColumnName'})</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pd"><img src="../Images/20585474e1dd34471f5415d4d59536be.png" data-original-src="https://miro.medium.com/v2/resize:fit:1274/format:webp/1*GK71rmD_QhFwupv7OS-hiQ.png"/></div></figure><h1 id="4a00" class="ni kx iq bd ky nj nk nl lb nm nn no le jw np jx li jz nq ka lm kc nr kd lq ns bi translated">组合、分组和排序</h1><h2 id="b97d" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">结合</h2><p id="92cc" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Pandas有三种方法将数据帧或系列组合在一起。这些方法是<code class="fe oj ok ol nu b">concat()</code>、<code class="fe oj ok ol nu b">join()</code>和<code class="fe oj ok ol nu b">merge()</code>。<code class="fe oj ok ol nu b">concat()</code>方法是最简单的组合方法，而<code class="fe oj ok ol nu b">join()</code>和<code class="fe oj ok ol nu b">merge()</code>方法功能相似。</p><p id="e9ac" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">当我们不同的数据帧有相同的列或字段时,<code class="fe oj ok ol nu b">concat()</code>方法很有用。它将来自每个数据帧的数据(行)合并在一起。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="5748" class="kw kx iq nu b gy ny nz l oa ob">pd.concat([dataset1, dataset2])</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pe"><img src="../Images/c8a0498d2d219426ad4ce5d253cc313b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1058/format:webp/1*HTZ4AJWS53vHF3UCDyQm7w.png"/></div></figure><p id="acec" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在这个例子中，我们将把<code class="fe oj ok ol nu b">ourData</code>连接到一个名为<code class="fe oj ok ol nu b">newData</code>的新数据集。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/46c17d3c9ae9d4e256cc9d6140e21230.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*zA_9Ep6KugL6UIazxGlTog.png"/></div></figure><p id="bd18" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">我们注意到数据集中的行数增加了6，从150增加到156。当调用<code class="fe oj ok ol nu b">concat()</code>方法时，来自<code class="fe oj ok ol nu b">ourData</code>的150行被添加到<code class="fe oj ok ol nu b">newData</code>。</p><p id="b9cb" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><code class="fe oj ok ol nu b">join()</code>方法将多个DataFrame对象的列组合在一个公共索引或一个键列上。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="69fa" class="kw kx iq nu b gy ny nz l oa ob">DataFrame.join(<em class="oc">otherDataFrame,on=None, how='left', lsuffix='', rsuffix='', sort=False</em>)</span><span id="f703" class="kw kx iq nu b gy on nz l oa ob">"""<br/><strong class="nu ir">Parameters</strong>:</span><span id="548d" class="kw kx iq nu b gy on nz l oa ob"><strong class="nu ir">otherDataFrame</strong>: the different DataFrame to be joined<br/><strong class="nu ir">on: </strong>Column or index level name(s) in the caller to join on the index in other, otherwise joins index-on-index. (<em class="oc">optional</em>)<br/><strong class="nu ir">how</strong>: {‘left’, ‘right’, ‘outer’, ‘inner’}, default ‘left’ // How to handle the operation of the two objects.<br/><strong class="nu ir">lsuffix: </strong>Suffix to use from the left frame’s overlapping columns.<br/><strong class="nu ir">rsuffix</strong>: Suffix to use from the right frame’s overlapping columns.<br/><strong class="nu ir">sort</strong>: Determines the order of the join key depending on the join type (how keyword).</span><span id="4919" class="kw kx iq nu b gy on nz l oa ob">"""</span></pre><p id="8193" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">当数据在两个数据帧中具有相同的列名时，<code class="fe oj ok ol nu b">lsuffix</code>和<code class="fe oj ok ol nu b">rsuffix</code>参数是必需的。</p><h2 id="db50" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">分组</h2><p id="c1be" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">Pandas有一个名为<code class="fe oj ok ol nu b">groupby()</code>的方法，它通过一系列列对数据帧进行分组。这种方法可用于对大量数据和计算操作进行分组，这涉及拆分对象、应用函数和组合结果的某种组合。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="2700" class="kw kx iq nu b gy ny nz l oa ob">ourData.<!-- -->groupby()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pg"><img src="../Images/380fbb94a9e32bd122c0c4c705c0d540.png" data-original-src="https://miro.medium.com/v2/resize:fit:1158/format:webp/1*0ehzwCaJxrh1vHl02qhu7w.png"/></div></figure><p id="dff7" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">这个语法和<code class="fe oj ok ol nu b">count()</code>方法一起对萼片长度值进行排序，并根据它们在我们的数据集中出现的次数进行分组。有很多其他方法可以加入到<code class="fe oj ok ol nu b">groupby()</code>方法中。</p><h2 id="189c" class="kw kx iq bd ky kz la dn lb lc ld dp le lf lg lh li lj lk ll lm ln lo lp lq lr bi translated">整理</h2><p id="5edb" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">数据帧通常按索引排序，也可以按其中一列的值排序。<code class="fe oj ok ol nu b">sort_values()</code>是Pandas提供的一种方法，通过列的值对数据进行排序。该方法对行进行重新排序，并将具有相似关键字的行组合在一起。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="0fc7" class="kw kx iq nu b gy ny nz l oa ob">ourData.sort_values()</span></pre><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div class="gh gi pf"><img src="../Images/5d5c89db0f78bab51be9d4c4710841ff.png" data-original-src="https://miro.medium.com/v2/resize:fit:1190/format:webp/1*yvkBTQ6WWdvH93TNH8QH6g.png"/></div></figure><h1 id="d500" class="ni kx iq bd ky nj nk nl lb nm nn no le jw np jx li jz nq ka lm kc nr kd lq ns bi translated">绘制值</h1><p id="670d" class="pw-post-body-paragraph ls lt iq lu b lv lw jr lx ly lz ju ma lf mb mc md lj me mf mg ln mh mi mj mk ij bi translated">分析我们的数据的一个很好的方法是以图形格式可视化它。Pandas允许使用Matplotlib模块可视化我们的数据，以创建图表、图形或绘图来分析数据。为此，需要导入Matplotlib的pyplot模块。</p><pre class="kg kh ki kj gt nt nu nv nw aw nx bi"><span id="6474" class="kw kx iq nu b gy ny nz l oa ob">import matplotlib.pyplot as plt</span></pre><p id="66d6" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated">在<a class="ae kv" href="https://matplotlib.org/3.3.0/api/_as_gen/matplotlib.pyplot.plot.html" rel="noopener ugc nofollow" target="_blank"> Matplotlib的文档</a>中提供了可视化数据的多个选项。</p><p id="a49d" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi ph translated">这里有许多不同手术的其他方法，包括上面讨论的熊猫手术。在本文中，我们研究了一些可以帮助您分析和操作数据的工具。Pandas的更多函数和方法及其参数可以在Pandas的官方文档中找到。</p><p id="59ef" class="pw-post-body-paragraph ls lt iq lu b lv ml jr lx ly mm ju ma lf mn mc md lj mo mf mg ln mp mi mj mk ij bi translated"><strong class="lu ir">进入专家视角— </strong> <a class="ae kv" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="lu ir">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>