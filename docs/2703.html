<html>
<head>
<title>Recommendation Engines: A to Z (Part 1)</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">推荐引擎:A到Z(第1部分)</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/recommendation-engines-a-to-z-part-1-3ab585c11324?source=collection_archive---------5-----------------------#2020-05-12">https://medium.datadriveninvestor.com/recommendation-engines-a-to-z-part-1-3ab585c11324?source=collection_archive---------5-----------------------#2020-05-12</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><h2 id="27e9" class="io ip iq bd b dl ir is it iu iv iw dk ix translated" aria-label="kicker paragraph">人工智能</h2><div class=""/><p id="3c9b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这个博客系列将从头开始介绍推荐引擎。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ku"><img src="../Images/939b9702abc9d0f8f1655bb9dcfa2c2c.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*WzlhttgnH7PBuxUcnO-ciw.jpeg"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk">(Source: Pinterest.com)</figcaption></figure><p id="de72" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja">一切从一个问题开始……</strong></p><p id="4c11" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><em class="lk">为什么我们需要推荐系统？</em></p><p id="ac70" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">从很多代以来，人类都偏向于购买伴侣推荐的东西。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi ll"><img src="../Images/d2f4b83b4e5f01373692284df8d0cd66.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*bpydHPXmVoCNgmdzIUNNeg.jpeg"/></div></div></figure><p id="e68e" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">让我们考虑一个非常基本的电影推荐的例子…</p><p id="7bb2" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><em class="lk">你有没有想过，网飞、亚马逊Prime、苹果电视是如何向我们推荐电影节目的？？</em></p><p id="2950" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">事实上，他们在向客户推荐电影的背后有非常复杂的算法，因为他们很容易在自己的主屏幕上获得他们喜欢看的内容。</p><blockquote class="lm"><p id="9a7e" class="ln lo iq bd lp lq lr ls lt lu lv kt dk translated">抓紧了！我们将在这个博客系列中讨论所有的系统。</p></blockquote><blockquote class="lw lx ly"><p id="ac8e" class="jw jx lk jy b jz lz kb kc kd ma kf kg mb mc kj kk md me kn ko mf mg kr ks kt ij bi translated">旁白:你看过《网飞巫师》吗？我喜欢它…😍</p></blockquote><p id="da6f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">我想现在你知道什么是推荐系统了吧？<br/>但为了正式起见，你应该知道它的恰当定义。</p><h2 id="ed7a" class="mh mi iq bd mj mk ml dn mm mn mo dp mp kh mq mr ms kl mt mu mv kp mw mx my iw bi translated"><em class="mz">推荐系统是一个广泛的web应用程序类别，涉及预测用户对选项的反应。</em></h2><p id="5803" class="pw-post-body-paragraph jw jx iq jy b jz na kb kc kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt ij bi translated">主要有三种推荐系统，</p><ol class=""><li id="debc" class="nf ng iq jy b jz ka kd ke kh nh kl ni kp nj kt nk nl nm nn bi translated">基于知识的遥感</li><li id="71f9" class="nf ng iq jy b jz no kd np kh nq kl nr kp ns kt nk nl nm nn bi translated">协同过滤RS</li><li id="3fe0" class="nf ng iq jy b jz no kd np kh nq kl nr kp ns kt nk nl nm nn bi translated">基于内容的RS <br/> <em class="lk"> (RS指推荐系统)</em></li></ol><p id="3ad1" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">今天，我们来看看基于知识的推荐系统。</p></div><div class="ab cl nt nu hu nv" role="separator"><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny nz"/><span class="nw bw bk nx ny"/></div><div class="ij ik il im in"><h1 id="19b9" class="oa mi iq bd mj ob oc od mm oe of og mp oh oi oj ms ok ol om mv on oo op my oq bi translated">基于知识的推荐系统:</h1><p id="7488" class="pw-post-body-paragraph jw jx iq jy b jz na kb kc kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt ij bi translated">如果你在网上找房子或汽车，你可能会找到这样的例子。基于知识的推荐是使用关于项目或用户偏好的知识来进行推荐的推荐。</p><div class="or os gp gr ot ou"><a href="https://www.datadriveninvestor.com/2020/02/19/five-data-science-and-machine-learning-trends-that-will-define-job-prospects-in-2020/" rel="noopener  ugc nofollow" target="_blank"><div class="ov ab fo"><div class="ow ab ox cl cj oy"><h2 class="bd ja gy z fp oz fr fs pa fu fw iz bi translated">将定义2020年就业前景的五大数据科学和机器学习趋势|数据驱动…</h2><div class="pb l"><h3 class="bd b gy z fp oz fr fs pa fu fw dk translated">数据科学和ML是2019年最受关注的趋势之一，毫无疑问，它们将继续发展…</h3></div><div class="pc l"><p class="bd b dl z fp oz fr fs pa fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="pd l"><div class="pe l pf pg ph pd pi le ou"/></div></div></a></div><p id="f2df" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">购买奢侈品时，基于知识的推荐很常见。看看下图中Zillow(美国房地产公司)提供的过滤器。这是一个构建基于知识的推荐的示例，因为用户可以将自己的偏好添加到所提供的项目中。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi pj"><img src="../Images/a58217fde61d7cb9a63aa85898b4bd17.png" data-original-src="https://miro.medium.com/v2/resize:fit:974/format:webp/1*IomlJKs4lw2PG7G_ArhYAA.png"/></div><figcaption class="lg lh gj gh gi li lj bd b be z dk">(Source: Zillow.com)</figcaption></figure><p id="3882" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">难道你不认为，这只会返回过滤后的结果。那它怎么可能是推荐系统呢？</p><p id="f05f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">嗯，它比你想象的要深得多。它不仅限于过滤你的结果，而是你的偏好将用于推荐你下次。</p><p id="7904" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">但是，如果你不提供任何你的偏好呢？然后，这个系统会给你提供受欢迎的推荐。我们将讨论电影数据的例子。</p><h2 id="3be0" class="mh mi iq bd mj mk ml dn mm mn mo dp mp kh mq mr ms kl mt mu mv kp mw mx my iw bi translated">热门推荐:循序渐进</h2><p id="ca9f" class="pw-post-body-paragraph jw jx iq jy b jz na kb kc kd nb kf kg kh nc kj kk kl nd kn ko kp ne kr ks kt ij bi translated">这里我们有四个决策循环来考虑最受欢迎电影列表中的电影…</p><ol class=""><li id="cab5" class="nf ng iq jy b jz ka kd ke kh nh kl ni kp nj kt nk nl nm nn bi translated">平均评分最高的电影被认为是最好的</li><li id="927f" class="nf ng iq jy b jz no kd np kh nq kl nr kp ns kt nk nl nm nn bi translated">收视率最高的电影更好</li><li id="2656" class="nf ng iq jy b jz no kd np kh nq kl nr kp ns kt nk nl nm nn bi translated">如果上述所有条件都满足，则排名由最新评级的电影确定。</li><li id="ead5" class="nf ng iq jy b jz no kd np kh nq kl nr kp ns kt nk nl nm nn bi translated">被考虑的电影应该至少有五个评级才能被考虑在流行电影中。</li></ol><p id="db0b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">通过这四个条件，我们来推荐热门电影。</p><p id="493b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在进入方法论之前，我们应该知道我们的数据是什么样的。这里我们有两个文件，一个是电影文件，另一个包含评论数据。</p><blockquote class="lw lx ly"><p id="998e" class="jw jx lk jy b jz ka kb kc kd ke kf kg mb ki kj kk md km kn ko mf kq kr ks kt ij bi translated">另请阅读:<a class="ae pk" href="https://medium.com/@prashantjadiya/offer-optimization-using-machine-learning-46a1f5d1b59b" rel="noopener">星巴克数据的图解报价优化</a></p></blockquote><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi pl"><img src="../Images/46196976c3a9655757fa525ca5171774.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*F5DuzOGqQkpHwtRhlozlwA.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk">First five rows of movies.csv</figcaption></figure><p id="d869" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><code class="fe pm pn po pp b">Movies.csv</code>有电影的数据，包括id、电影名称、类型、电影年份，我通过创建电影类型和年份的虚拟列对其进行了预处理。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi pq"><img src="../Images/0b043a8d614794ffbce4d8790a3439aa.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*ygNXdQi8BwM4HPPcBSnGsQ.png"/></div></div><figcaption class="lg lh gj gh gi li lj bd b be z dk">First five rows of reviews.csv</figcaption></figure><p id="944a" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在评论数据中，我们有用户的数据，这些用户用它的数据给电影打分。(这将用于检查我们的第四个条件—最近的评级)</p><p id="cdc7" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">现在我们将通过上面定义的条件来解决它。</p><p id="4789" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 1。最高平均评分:<br/> </strong>获得最高平均评分的电影可以按如下方式进行。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi pr"><img src="../Images/9a021d6db1d23d4f4c7aeccbeff4a52a.png" data-original-src="https://miro.medium.com/v2/resize:fit:850/format:webp/1*rbhuN8tcow4WYMjkELXr1g.png"/></div></figure><p id="2894" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这将生成一个名为<code class="fe pm pn po pp b">movies_ratings</code>的新数据帧，该数据帧由带有评级的<code class="fe pm pn po pp b">movie_id</code>分组。并且可以通过做<code class="fe pm pn po pp b">movie_ratings</code>数据帧的平均值来计算平均评级。</p><p id="8979" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 2。收视率最高的电影:</strong></p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi ps"><img src="../Images/00422375c94f4ddd8cd4ce502037f6b2.png" data-original-src="https://miro.medium.com/v2/resize:fit:560/format:webp/1*1sQoJzDUL-DqFc0m6oWdbw.png"/></div></figure><p id="f023" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">为了获得每部电影的收视率，我们可以对<code class="fe pm pn po pp b">movie_ratings</code>进行count()操作。所以它会列出电影的收视率。<br/>(这将用于过滤至少有五个分级的电影)</p><p id="6ac8" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 3。最近分级的电影:</strong></p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi pt"><img src="../Images/3bd7f2ed5949d4a84709c74230012b3a.png" data-original-src="https://miro.medium.com/v2/resize:fit:1106/format:webp/1*CVwQ39MkQVwqhwnzNHFrNw.png"/></div></figure><p id="9dd3" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这里，我们创建了一个新的数据框，它将包含电影id和分级日期。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi pu"><img src="../Images/8a7a497da673b76f09c6f25bc5813fa9.png" data-original-src="https://miro.medium.com/v2/resize:fit:424/format:webp/1*8IZ9eSp4hoe4Jn5ufnQlLg.png"/></div></figure><p id="b121" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">可以通过查看<code class="fe pm pn po pp b">last_rating</code>数据帧输出来适当理解。</p><p id="a28d" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">每部电影在分级时都有相应的日期。</p><p id="0062" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated"><strong class="jy ja"> 4。评级的最小数量应为五个。</strong></p><p id="8e2b" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这可以在获得最终排名的电影的最后处理。</p><p id="d5ca" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">现在我们已经过滤了数据，所以现在我们可以把它放在一起。</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div role="button" tabindex="0" class="la lb di lc bf ld"><div class="gh gi pv"><img src="../Images/afffa045b5f514465c30dc37a7760f6b.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Lr0HZjxBg5Lc82mnwhJQUg.png"/></div></div></figure><p id="36fc" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">这里，我们将<code class="fe pm pn po pp b">avg_rating</code>和<code class="fe pm pn po pp b">num_rating</code>合并到一个名为<code class="fe pm pn po pp b">rating_count_df</code>的新数据帧中。然后我们用<code class="fe pm pn po pp b">last_rating</code>数据框将其连接起来。并将该数据帧与电影相结合。</p><p id="9019" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在这之后，我们仍然只对<code class="fe pm pn po pp b">movie_recs</code>中的值进行排序，所以首先，我们用<code class="fe pm pn po pp b">avg_rating</code>排序，然后用<code class="fe pm pn po pp b">num_ratings</code>排序，然后用<code class="fe pm pn po pp b">last_rating</code>排序。最后，我们通过过滤超过四个等级的<code class="fe pm pn po pp b">num_ratings</code>来满足第四个条件。</p><blockquote class="lw lx ly"><p id="80a2" class="jw jx lk jy b jz ka kb kc kd ke kf kg mb ki kj kk md km kn ko mf kq kr ks kt ij bi translated">注意:很抱歉这一部分比较专业，但是需要理解整个过程。</p></blockquote><p id="3cce" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">现在我们可以通过使用我们的功能来推荐电影。</p><blockquote class="lm"><p id="27bd" class="ln lo iq bd lp lq lr ls lt lu lv kt dk translated">你可以在这里找到这篇博客的代码<a class="ae pk" href="https://github.com/prashantjadiya/Recommendation-engines/tree/master/most-popular-recommendation" rel="noopener ugc nofollow" target="_blank">。</a></p></blockquote><p id="5055" class="pw-post-body-paragraph jw jx iq jy b jz lz kb kc kd ma kf kg kh mc kj kk kl me kn ko kp mg kr ks kt ij bi translated">但是，如果我想在那里添加过滤器，一个流派和发行年份的过滤器。<br/>这可以通过对我们的数据进行几项操作来实现。</p><ol class=""><li id="ade4" class="nf ng iq jy b jz ka kd ke kh nh kl ni kp nj kt nk nl nm nn bi translated">添加年度过滤器:</li></ol><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi pw"><img src="../Images/6e3c7dcba547dd513a4ee1b1daddb585.png" data-original-src="https://miro.medium.com/v2/resize:fit:1004/format:webp/1*bymwHtW5Ipu9j_Axb9TCQA.png"/></div></figure><p id="8f8f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">它将存储电影是在规定的年份。<code class="fe pm pn po pp b">years</code>是将在函数中传递的变量。参考这个<a class="ae pk" href="https://github.com/prashantjadiya/Recommendation-engines/tree/master/most-popular-recommendation" rel="noopener ugc nofollow" target="_blank">笔记本</a>。</p><p id="2e55" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">2.添加流派过滤器:</p><figure class="kv kw kx ky gt kz gh gi paragraph-image"><div class="gh gi px"><img src="../Images/98b1c1670229e66fdf0fa9d7dc3899ce.png" data-original-src="https://miro.medium.com/v2/resize:fit:900/format:webp/1*HlioPr8XvMR8mz1fqLBFTg.png"/></div></figure><p id="728a" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">匹配类型的电影将会在<code class="fe pm pn po pp b">num_genre_match</code>中，如果匹配，那么它将会被存储在<code class="fe pm pn po pp b">ranked_movies</code>中。</p><p id="e690" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">添加这个片段将使我们能够推荐受欢迎的电影，并根据年份和流派进行筛选。</p><figure class="kv kw kx ky gt kz"><div class="bz fp l di"><div class="py pz l"/></div></figure><p id="b7d5" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">Wohooo我们做了一个推荐热门电影的推荐系统。</p><p id="811f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">在下一篇博客中，我们将看到协同过滤技术对相同数据的处理。看博客<a class="ae pk" href="https://medium.com/@prashantjadiya/recommendation-engines-a-to-z-part-2-a099ca021121" rel="noopener">这里</a>。</p><blockquote class="lw lx ly"><p id="d715" class="jw jx lk jy b jz ka kb kc kd ke kf kg mb ki kj kk md km kn ko mf kq kr ks kt ij bi translated">感谢您抽出宝贵的时间来阅读这篇博客，希望您能阅读本系列即将推出的博客。敬请期待！如果你喜欢这种解释方式，喜欢我的文章，请鼓掌，这对我意义重大。</p></blockquote><p id="f66f" class="pw-post-body-paragraph jw jx iq jy b jz ka kb kc kd ke kf kg kh ki kj kk kl km kn ko kp kq kr ks kt ij bi translated">你可以在<a class="ae pk" href="https://github.com/prashantjadiya/Recommendation-engines/tree/master/most-popular-recommendation" rel="noopener ugc nofollow" target="_blank"> GitHub </a>上查阅这篇博客附带的代码。请务必在LinkedIn上与我联系。</p><figure class="kv kw kx ky gt kz"><div class="bz fp l di"><div class="qa pz l"/></div></figure></div></div>    
</body>
</html>