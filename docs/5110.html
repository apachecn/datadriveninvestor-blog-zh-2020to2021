<html>
<head>
<title>Getting Started: Building Location-Based (GIS) REST APIs with Java</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">入门:用Java构建基于位置的(GIS)REST API</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/getting-started-building-location-based-gis-rest-apis-with-java-ca28a8869af3?source=collection_archive---------0-----------------------#2020-09-06">https://medium.datadriveninvestor.com/getting-started-building-location-based-gis-rest-apis-with-java-ca28a8869af3?source=collection_archive---------0-----------------------#2020-09-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="8951" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">向强大的爪哇致敬！一个独立的国王。☕</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/cd789afd1720b6b23f471cf1ac2b5610.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*oBgAeLLUhuZ3-tmU5Qp8Ag.jpeg"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@thepaintedsquare?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Jessica Lewis</a> on <a class="ae kv" href="https://unsplash.com/s/photos/coffee?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="3464" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们现在在爪哇，耶！😉🙌🏿。Java是一门企业语言，如果你考虑为一家财富500强公司提供咨询或工作，那么掌握这门语言绝对不会出错。在RedMonk最近的一份报告中，Java已经从按需编程语言的第二位跌落到第三位。我相信Python主要是随着它在数据科学社区的采用而发展的，此外，它还是一种多用途语言。Java仍将是王者👑在企业中。</p><div class="ls lt gp gr lu lv"><a href="https://www.zdnet.com/article/programming-language-popularity-python-overtakes-java-as-rust-reaches-top-20/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">编程语言流行度:Python超过Java——Rust进入前20名| ZDNet</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">编程语言Python现在稳稳地成为第二受欢迎的编程语言，这是第一次</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.zdnet.com</p></div></div><div class="me l"><div class="mf l mg mh mi me mj kp lv"/></div></div></a></div><p id="580a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是关于Python/Django的前一篇文章的链接，它也解释了API和为什么它很棒。</p><div class="ls lt gp gr lu lv"><a href="https://medium.com/datadriveninvestor/getting-started-building-location-based-gis-rest-apis-with-python-2fcbd520b2a3" rel="noopener follow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">入门:使用Python构建基于位置的(GIS)REST API</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">我们正处于将GIS与IT运营完全整合的时代。帮助一个人实现这一目标的最大资源是…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">medium.com</p></div></div><div class="me l"><div class="mk l mg mh mi me mj kp lv"/></div></div></a></div><p id="30f2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们将使用<a class="ae kv" href="https://spring.io/projects/spring-boot" rel="noopener ugc nofollow" target="_blank"> Spring Boot </a>来构建我们的API，因为它是最受欢迎的Java框架，但肯定还有像<a class="ae kv" href="https://micronaut.io/" rel="noopener ugc nofollow" target="_blank"> Micronaut </a>和<a class="ae kv" href="https://quarkus.io/" rel="noopener ugc nofollow" target="_blank"> Quarkus </a>这样的替代方案。所以让我们开始吧。🧐</p><h1 id="6bb4" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">1.项目定义</h1><p id="1aae" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">该项目与Python项目相同，我们将主要为两个数据集(即内罗毕医疗机构和内罗毕县)构建GIS REST API。附加组件将是GIS的能力，查询最近的卫生设施时，给定一个用户的位置，也查询卫生设施的县边界。</p><p id="c970" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里是这个项目中使用的数据集的链接(<a class="ae kv" href="https://github.com/The-Code-Mastery/gis-rest-api-with-java/tree/master/src/main/resources/geodata" rel="noopener ugc nofollow" target="_blank">点击这里</a>)</p><h1 id="b4ea" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">2.项目设置</h1><p id="6ef1" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">我假设您的计算机上安装了Java (8、11或14)。有一些来自Eclipse、NetBeans、IntelliJ IDEA的ide。我主要使用IntelliJ IDEA，你可以使用任何你已经掌握得很好的，Spring开发者也建立了一个开发Spring应用的免费工具，称为<a class="ae kv" href="https://spring.io/blog/2020/03/20/spring-tools-4-6-0-released" rel="noopener ugc nofollow" target="_blank"> Spring Tools Suite </a>，你可以看看。</p><p id="a6ab" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">要开始，去<a class="ae kv" href="https://start.spring.io/" rel="noopener ugc nofollow" target="_blank">https://start.spring.io/</a>，你会得到一个如下图所示的界面，可能是一个灯光主题。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ni"><img src="../Images/743f4d5d7c950ffc331993faa6d73f9d.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*C8fSFmlVbTgCy9Kh3dwLSQ.png"/></div></div></figure><p id="550a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在该网站上，您可以定义您的项目需求，从使用Java或Kotlin作为您的主要编程语言，Spring Boot版本(避免快照)和最新版本，打包到Jar，项目选择Maven项目，您可以指定您本地安装的Java版本，项目元数据，最后，依赖项，其中必须有Spring Web，Spring Data JPA，PostgreSQL。现在，您可以下载项目文件夹，并开始编写代码。其他关键依赖项将从<a class="ae kv" href="https://mvnrepository.com/" rel="noopener ugc nofollow" target="_blank"> Maven库</a>安装。</p><p id="2666" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">pom.xml文件是您项目中的一个重要文件，它使您能够从<a class="ae kv" href="https://mvnrepository.com/" rel="noopener ugc nofollow" target="_blank"> Maven资源库</a>安装您的依赖项，如下所示。对于Python人员来说，这相当于<em class="nj"> pip install </em>。确保有Hibernate Spatial，Lombok，PostGIS，Spring Data JPA，PostgreSQL依赖项。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="178f" class="np mm iq nl b gy nq nr l ns nt">&lt;!-- <a class="ae kv" href="https://mvnrepository.com/artifact/org.projectlombok/lombok" rel="noopener ugc nofollow" target="_blank">https://mvnrepository.com/artifact/org.projectlombok/lombok</a> --&gt;<br/>&lt;dependency&gt;<br/>    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;<br/>    &lt;artifactId&gt;lombok&lt;/artifactId&gt;<br/>    &lt;version&gt;1.18.12&lt;/version&gt;<br/>    &lt;scope&gt;provided&lt;/scope&gt;<br/>&lt;/dependency&gt;</span><span id="761d" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-spatial --&gt;<br/></em>&lt;dependency&gt;<br/>    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;<br/>    &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;<br/>    &lt;version&gt;5.4.20.Final&lt;/version&gt;<br/>&lt;/dependency&gt;<br/><br/><em class="nj">&lt;!-- https://mvnrepository.com/artifact/net.postgis/postgis-jdbc --&gt;<br/></em>&lt;dependency&gt;<br/>    &lt;groupId&gt;net.postgis&lt;/groupId&gt;<br/>    &lt;artifactId&gt;postgis-jdbc&lt;/artifactId&gt;<br/>    &lt;version&gt;2.5.0&lt;/version&gt;<br/>&lt;/dependency&gt;</span></pre><p id="853c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在应用程序的resources文件夹中，有一个applications.propperties文件。这是您在其他设置中对数据库进行设置的地方。</p><p id="db63" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">确保您使用的是<em class="nj">org . hibernate . spatial . dialect . postgis . PostGIS dialect</em>，因为我们正在利用PostGIS处理几何数据。</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="0e57" class="np mm iq nl b gy nq nr l ns nt"><em class="nj">spring.datasource.url</em>=jdbc:postgresql://localhost:5432/nairobigis</span><span id="4fa0" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">spring.datasource.username</em>=postgres</span><span id="5804" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">spring.datasource.password</em>=123456</span><span id="649d" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">spring.jpa.database-platform</em>=org.hibernate.spatial.dialect.postgis.PostgisDialect</span><span id="22e8" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">spring.datasource.driver-class-name</em>=org.postgresql.Driver</span><span id="8361" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">spring.jpa.hibernate.ddl-auto</em>=update</span><span id="9c4d" class="np mm iq nl b gy nu nr l ns nt"><em class="nj">server.port</em>= 8081</span></pre><p id="4667" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">默认情况下，Spring Boot安装自带的tomcat服务器运行在端口8080上，我刚刚将我的服务器设置为运行在8081上。</p><h1 id="f90c" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated"><strong class="ak"> 3。实体</strong></h1><p id="9a32" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">我假设您知道如何使用PostgreSQL，并且它启用了PostGIS扩展。这使得能够以几何形式存储地理空间数据，如下图所示。对于内罗毕医疗机构空间数据，PostGIS还提供了1000多种几何算法。我会一直推荐一本名为<a class="ae kv" href="https://www.manning.com/books/postgis-in-action-third-edition" rel="noopener ugc nofollow" target="_blank"> PostGIS in Action </a>的书供你入门:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/84c981857e5f33da275beabae9e37040.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*jjgJB8NUPj7Qx_vqQa2n0w.png"/></div></div></figure><p id="416b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">实体是数据库的普通旧Java对象(POJO)。它基本上定义了数据库中的表是什么样子，或者您有兴趣在特定的表中处理的数据列。</p><p id="94f7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的关键项目文件夹中，我们创建一个实体包，然后为我们的表创建实体。我只关注内罗毕医疗机构，我们创建了一个名为“内罗毕医疗机构实体”的实体类，它实现了一个可序列化的。</p><p id="0fe1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们使用注释<code class="fe nw nx ny nl b">@Entity </code>来指定它处理我们的数据库表，使用<code class="fe nw nx ny nl b">@Table</code>来指定表名，因为它在我们的数据库中。<code class="fe nw nx ny nl b">@Getter</code>和<code class="fe nw nx ny nl b">@Setter</code>来自Lombok dependency，以避免我生成Getters和Setters。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="a98b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如堆栈溢出<a class="ae kv" href="https://stackoverflow.com/questions/45713934/jackson-deserialize-geojson-point-in-spring-boot" rel="noopener ugc nofollow" target="_blank">这里</a>和<a class="ae kv" href="https://stackoverflow.com/questions/27624940/map-a-postgis-geometry-point-field-with-hibernate-on-spring-boot" rel="noopener ugc nofollow" target="_blank">这里</a>中所讨论的，通常存在几何数据序列化的问题。这是因为Jackson是一个非常通用的序列化程序，你可能需要一个自定义的序列化程序，但令人惊叹的是社区已经为你做了。首先，确保您使用的是空间数据库方言。我找到了两个我喜欢的几何序列化器，一个是由Bedata驱动的(<a class="ae kv" href="https://github.com/bedatadriven/jackson-datatype-jts" rel="noopener ugc nofollow" target="_blank">这里是</a>)，另一个是由52 North Initiative for Geospatial Open Source Software GmbH(<a class="ae kv" href="https://github.com/52North/jackson-datatype-jts" rel="noopener ugc nofollow" target="_blank">这里是</a>)</p><p id="eeeb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我选择了52 North的one Initiative，因为它经常更新。将来自<a class="ae kv" href="https://mvnrepository.com/artifact/org.n52.jackson/jackson-datatype-jts" rel="noopener ugc nofollow" target="_blank"> Maven资源库</a>的依赖项添加到pom.xml文件中。创建一个名为“utils”的包，并有一个Jackson配置类，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi ob"><img src="../Images/d74d7c67941b4390ce3a1a811f47c5c5.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*V7c2V0k-A6KFcMPp5Tiang.png"/></div></div></figure><p id="0733" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">现在，如果您使用的是<em class="nj">Hibernate Spatial</em>(<em class="nj">import org . location tech . jts . geom . point</em>)附带的几何图形导入，那么我不认为您会有任何问题，但是如果您有任何问题，那么您可以在您的几何图形列上添加以下注释。</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi nv"><img src="../Images/c60e89bce7cdd61386414e9df1da3e6f.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*QoHYp65mcp8LG1U3kT3vKg.png"/></div></div></figure><h1 id="d742" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">4.仓库</h1><p id="c221" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">存储库为我们提供了数据库访问以及所有为我们完成的创建、读取、更新、删除(CRUD)功能，我们还可以编写我们自己的定制空间查询，特别是针对地理信息系统。</p><p id="e61a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在我们的主目录中，我们创建一个存储库包，然后在包中创建一个“内罗毕医疗机构”接口存储库，标注为<code class="fe nw nx ny nl b">@Repository</code>。它扩展了JpaRepository，附带了CRUD函数、分页和排序函数。它接受我们的实体名称和Id类型。</p><p id="7c46" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于我们自己的附加GIS功能，我们实现了自己的空间查询来查找一个县内的医疗机构，我们还实现了根据用户的位置查找5个最近的医疗机构的功能。</p><p id="481c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">查看下面的代码:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="255d" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我展示了不在Java界面上时，普通GIS空间查找带有子计数的卫生设施的情况:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oc"><img src="../Images/bcbe7a3eef5e569e934155fa1f33f9b4.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*GUFODGzvzqcBVjAfpnPJoA.png"/></div></div></figure><p id="44fb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是一个普通的空间SQL查询，根据用户的位置查找5个最近的医疗机构，它还返回距离值:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi od"><img src="../Images/7cd441c6397a0f782d1b28018e1f6c34.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*Wr3nT1rYRh_ez5gQfyB2Kw.png"/></div></div></figure><p id="8f19" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">让我们看看服务。</p><h1 id="8be6" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">5.服务</h1><p id="0798" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">服务基本上是具有业务逻辑的无状态服务，对于我们的例子，我们没有在这上面实现太多的业务逻辑。</p><p id="d2ef" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们创建了一个服务包，然后创建了一个“内罗毕卫生机构服务”java接口，在这个接口中，我们定义了需要实现的契约，即查找所有卫生机构、查找单个卫生机构、查找一个县内的卫生机构、查找距离用户位置最近的5个卫生机构，以及在给定id时删除一个卫生机构。</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="cbb0" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">然后，我们在服务包中创建一个名为“<em class="nj"> impl </em>的文件夹，我们创建一个名为“内罗毕医疗机构服务Imp”的新类，它实现了上面的接口。</p><p id="a38c" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">该类使用<code class="fe nw nx ny nl b">@Service</code>注释进行了注释，我们还使用<code class="fe nw nx ny nl b">@Autowired</code>注释对内罗毕医疗机构存储库进行了依赖注入，因为我们需要存储库类在这里实现我们的逻辑:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="439e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">合同中规定的所有方法都在上面实现。</p><p id="e1cf" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，我们看看控制器，哇！😎</p><h1 id="8023" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated"><strong class="ak"> 6。控制器</strong></h1><p id="a8b0" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">控制器是指定您的公共API的类，在这一节中，我将重点介绍一个用于医疗机构的控制器，我还有一个用于内罗毕县边界的控制器。</p><p id="8c2f" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们创建一个控制器包，然后添加“内罗毕卫生设施控制器”类，它将生成我们的API。</p><p id="1bc4" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以在下面的代码中看到，我们的控制器类有两个注释，即<code class="fe nw nx ny nl b">@RestController </code>和<code class="fe nw nx ny nl b">@RequestMapping</code>，它们基本上将我们的类定义为一个REST控制器，并且我们还为Nairobi Health facilities API定义了基本URL。</p><p id="52a7" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据一个人是否想要创建、读取、更新或删除数据，Spring Boot提供注释来准确地做到这一点，即<code class="fe nw nx ny nl b">@PostMapping, @GetMapping, @PutMapping,@DeleteMapping</code></p><p id="0165" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">此外，用户可以为这些操作指定路径和变量。这里的关键注释是<code class="fe nw nx ny nl b">@PathVariable</code>和<code class="fe nw nx ny nl b">@RequestParam</code>，它们的用法很大程度上取决于你如何设计你的网站，所以请阅读后面的文档:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="nz oa l"/></div></figure><p id="5dee" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">根据上面的代码，您可以看到我已经实现了REST端点功能来查找所有的医疗机构，根据id返回特定的医疗机构，返回指定的子县内的所有医疗机构，根据用户位置返回5个最近的医疗机构，最后使用医院id从数据库中删除一个医疗机构。</p><h1 id="8409" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">7.试用我们的API</h1><p id="99fa" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">现在让我们试试我们的API，这个项目的GitHub链接在这里:</p><div class="ls lt gp gr lu lv"><a href="https://github.com/The-Code-Mastery/gis-rest-api-with-java" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">使用java的精通代码/gis-rest-api</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">一篇介绍地理信息系统的文章。GitHub是超过50个…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">github.com</p></div></div><div class="me l"><div class="oe l mg mh mi me mj kp lv"/></div></div></a></div><p id="5ba6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">所以你首先<strong class="ky ir">运行</strong>项目，我们开始测试我们的API。我将使用<a class="ae kv" href="https://www.postman.com/" rel="noopener ugc nofollow" target="_blank">邮递员</a>来测试API。</p><p id="ff33" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我们可以使用端点获取所有餐厅的信息:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="1b29" class="np mm iq nl b gy nq nr l ns nt"><a class="ae kv" href="http://localhost:8081/api/nairobihealthfacilities/" rel="noopener ugc nofollow" target="_blank">http://localhost:8081/api/nairobihealthfacilities/</a></span></pre><p id="c70a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这为我们创造了如下所示的所有卫生设施:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi of"><img src="../Images/23059c3887d799a1cae90e73468e4894.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*3S8AmNodsioJ4h7Qp6G3pA.png"/></div></div></figure><p id="d6c6" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">如果我们想要获得基于用户位置的最近的5个医疗机构，我们运行下面的get请求:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="ffd2" class="np mm iq nl b gy nq nr l ns nt">http://localhost:8081/api/nairobihealthfacilities/nearbyhealthfacilities?userlocation=36.8219,-1.2921</span></pre><p id="6f76" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当您输入用户位置(经度和纬度)时，它会返回最近的5家医院，如下所示:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi og"><img src="../Images/1114b83427b10ef38b7fbb97c217aded.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*9H_6wnpFCR9YtZV-pDfOGw.png"/></div></div></figure><p id="6015" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">注意:我没有让我的API基于Repository部分的原生SQL查询生成距离数据。如果你需要用户位置数据的距离，你可以在一个新的包中创建一个模型响应<a class="ae kv" href="https://en.wikipedia.org/wiki/Plain_old_Java_object" rel="noopener ugc nofollow" target="_blank"> POJO </a>并返回它。</p><p id="d900" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">最后，为了获得一个地区内的医疗机构，在我们的例子中是一个县，我们使用下面的get请求端点:</p><pre class="kg kh ki kj gt nk nl nm nn aw no bi"><span id="ef84" class="np mm iq nl b gy nq nr l ns nt">http://localhost:8081/api/nairobihealthfacilities/hospitalswithinsubcounty?id=12 </span></pre><p id="6b51" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">以下是id为12的内罗毕分县(Kasarani)的结果:</p><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi oh"><img src="../Images/8e3ae3dec945e94e14c819255a5abb75.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/format:webp/1*pQYFXEworqAgn2-1ONfO0w.png"/></div></div></figure><p id="7f50" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我还实现了内罗毕分县边界的关键查询，您可以在GitHub存储库中查看它们。</p><h1 id="5d4a" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">临别赠言…</h1><p id="4f6a" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">我们已经在Python和现在的Java中实现了相同的概念，在使用ReactJS和Openlayers前端之前，我们将用JavaScript做最后一个。我们还将能够在资源消耗、性能等方面比较这三种实现。</p><p id="d086" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">当然，任何有学习意愿的人，是的，你可以。下面我分享了从基础到构建REST APIs的Java入门所需的资源。</p><p id="959e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">请随意分享这篇文章以获得更广泛的读者，也请为你不认识的人看到这篇文章鼓掌，也就是说，如果你觉得它有用的话。😏</p></div><div class="ab cl oi oj hu ok" role="separator"><span class="ol bw bk om on oo"/><span class="ol bw bk om on oo"/><span class="ol bw bk om on"/></div><div class="ij ik il im in"><h1 id="e979" class="ml mm iq bd mn mo op mq mr ms oq mu mv jw or jx mx jz os ka mz kc ot kd nb nc bi translated">入门资源(免费)</h1><p id="b0e6" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">Reddit learn Java社区强烈推荐赫尔辛基大学的<em class="nj"> mooc.fi </em>课程对初学者友好，所以这里有链接:</p><div class="ls lt gp gr lu lv"><a href="https://java-programming.mooc.fi/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">关于课程</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">欢迎来到赫尔辛基大学关于编程的免费大规模开放在线课程(MOOC )!这是一个更新的…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">java编程</p></div></div><div class="me l"><div class="ou l mg mh mi me mj kp lv"/></div></div></a></div><p id="1878" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于YouTube视频，您可以从以下内容开始:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ov oa l"/></div></figure><p id="f99e" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">下面是Telusko Learning的一个长系列:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ov oa l"/></div></figure><p id="3865" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">对于帮助您入门的免费Spring Boot课程，我推荐Java Brains:</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="ow oa l"/></div></figure><p id="97b1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Spring文档是最好的文档之一:</p><div class="ls lt gp gr lu lv"><a href="https://spring.io/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">Spring让Java变得简单。</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">提高您的Java代码水平，探索Spring能为您做什么。</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">spring.io</p></div></div><div class="me l"><div class="ox l mg mh mi me mj kp lv"/></div></div></a></div><h1 id="29b6" class="ml mm iq bd mn mo mp mq mr ms mt mu mv jw mw jx mx jz my ka mz kc na kd nb nc bi translated">入门资源(付费)</h1><p id="cf37" class="pw-post-body-paragraph kw kx iq ky b kz nd jr lb lc ne ju le lf nf lh li lj ng ll lm ln nh lp lq lr ij bi translated">我会推荐Udemy的大部分课程，总会有折扣，让你只花10美元就能得到高质量的内容。</p><p id="26fc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">面向初学者的优秀Java Udemy课程:</p><div class="ls lt gp gr lu lv"><a href="https://www.udemy.com/course/master-practical-java-development/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">完整的Java开发认证课程</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">最新的更新包括具有Java 9特性的Lambdas和Streams。欢迎掌握实用Java开发。这个…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.udemy.com</p></div></div><div class="me l"><div class="oy l mg mh mi me mj kp lv"/></div></div></a></div><p id="b262" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">面向精通其他语言的开发人员的优秀Java Udemy课程:</p><div class="ls lt gp gr lu lv"><a href="https://www.udemy.com/course/java-the-complete-java-developer-course/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">完整的Java软件开发人员大师班(针对Java 10)</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">你刚刚在网上偶然发现了最完整、最深入的Java编程课程。拥有超过480，000名学生…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.udemy.com</p></div></div><div class="me l"><div class="oz l mg mh mi me mj kp lv"/></div></div></a></div><p id="9d8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">Reddit Java社区最推荐的Spring Boot课程，因为它教授基本概念和旧的做事方法:</p><div class="ls lt gp gr lu lv"><a href="https://www.udemy.com/course/spring-hibernate-tutorial/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">学习Hibernate和Spring(作为初学者)教程</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">Spring 5:学习Spring 5 Core、AOP、Spring MVC、Spring Security、Spring REST、Spring Boot 2、百里香叶、JPA &amp; Hibernate</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.udemy.com</p></div></div><div class="me l"><div class="pa l mg mh mi me mj kp lv"/></div></div></a></div><p id="4363" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">我也使用并喜欢Spring Boot的课程，因为它涵盖了各种概念:</p><div class="ls lt gp gr lu lv"><a href="https://www.udemy.com/course/restful-web-service-with-spring-boot-jpa-and-mysql/" rel="noopener  ugc nofollow" target="_blank"><div class="lw ab fo"><div class="lx ab ly cl cj lz"><h2 class="bd ir gy z fp ma fr fs mb fu fw ip bi translated">RESTful Web服务、Java、Spring Boot、Spring MVC和JPA</h2><div class="mc l"><h3 class="bd b gy z fp ma fr fs mb fu fw dk translated">这是一个非常实用的视频课程，旨在帮助初学Java的开发者构建他们的第一个RESTful Web…</h3></div><div class="md l"><p class="bd b dl z fp ma fr fs mb fu fw dk translated">www.udemy.com</p></div></div><div class="me l"><div class="pb l mg mh mi me mj kp lv"/></div></div></a></div><p id="f8d2" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated"><strong class="ky ir">进入专家视角— </strong> <a class="ae kv" href="https://datadriveninvestor.com/ddi-intel" rel="noopener ugc nofollow" target="_blank"> <strong class="ky ir">订阅DDI英特尔</strong> </a></p></div></div>    
</body>
</html>