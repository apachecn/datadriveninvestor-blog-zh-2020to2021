<html>
<head>
<title>JavaScript object basics</title>
<link href="../Styles/Style.css" type="text/css" rel="stylesheet"/>
</head>
<body>
<h1 class="translated">JavaScript对象基础</h1>
<blockquote>原文：<a href="https://medium.datadriveninvestor.com/javascript-object-basics-a86380d75273?source=collection_archive---------20-----------------------#2020-05-06">https://medium.datadriveninvestor.com/javascript-object-basics-a86380d75273?source=collection_archive---------20-----------------------#2020-05-06</a></blockquote><div><div class="fc ie if ig ih ii"/><div class="ij ik il im in"><div class=""/><div class=""><h2 id="5370" class="pw-subtitle-paragraph jn ip iq bd b jo jp jq jr js jt ju jv jw jx jy jz ka kb kc kd ke dk translated">学习web开发</h2></div><figure class="kg kh ki kj gt kk gh gi paragraph-image"><div role="button" tabindex="0" class="kl km di kn bf ko"><div class="gh gi kf"><img src="../Images/c86fe77efb6936f8d60716f4b25b2b72.png" data-original-src="https://miro.medium.com/v2/resize:fit:1400/0*IxcNviURicOKtEx9"/></div></div><figcaption class="kr ks gj gh gi kt ku bd b be z dk">Photo by <a class="ae kv" href="https://unsplash.com/@purzlbaum?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">🇨🇭 Claudio Schwarz | @purzlbaum</a> on <a class="ae kv" href="https://unsplash.com?utm_source=medium&amp;utm_medium=referral" rel="noopener ugc nofollow" target="_blank">Unsplash</a></figcaption></figure><p id="7722" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">大多数开发人员将OOP与通常在学校教授的语言联系在一起，如Java、ObjectC++和C#。他们熟悉类，当他们开始学习JavaScript时，他们会感到困惑，因为JavaScript没有对类的正式支持。JavaScript中的对象是可变的键控集合，比如数组、函数、正则表达式等等。</p><blockquote class="ls"><p id="ee3a" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">记住，在JavaScript中，<strong class="ak">数组</strong>是<strong class="ak">对象</strong>，<strong class="ak">函数</strong>是<strong class="ak">对象</strong>，<strong class="ak">正则表达式</strong>是<strong class="ak">对象</strong>，对象是对象。</p></blockquote><p id="c1e1" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">在本帖中，我们将讨论以下主题。</p><ul class=""><li id="ef25" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">定义和添加对象</li><li id="0253" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">向对象添加属性</li><li id="06d9" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">访问属性</li><li id="f7ac" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">检测属性</li><li id="989a" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">防止对象修改</li><li id="f322" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">删除属性</li><li id="776c" class="mh mi iq ky b kz mq lc mr lf ms lj mt ln mu lr mm mn mo mp bi translated">删除对象</li></ul><h1 id="59cd" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">如何在JavaScript中定义一个对象？</h1><p id="6eab" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">在JavaScript中创建对象有多种方法，但有3种最简单的方法。</p><h2 id="8b58" class="ns mw iq bd mx nt nu dn nb nv nw dp nf lf nx ny nh lj nz oa nj ln ob oc nl od bi translated">使用对象文字</h2><p id="5fb1" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">在JavaScript中定义对象最简单的方法是使用对象文字。</p><ul class=""><li id="bc36" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">首先，我们从一个空白对象开始</li></ul><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="8306" class="ns mw iq of b gy oj ok l ol om">var circle = {<br/>}</span><span id="d5a6" class="ns mw iq of b gy on ok l ol om">console.log(circle)<br/><strong class="of ir">&lt;&lt; {}</strong></span></pre><ul class=""><li id="b2ed" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">然后我们给这个对象添加一个属性</li></ul><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="6934" class="ns mw iq of b gy oj ok l ol om">circle.radius = 10</span><span id="587a" class="ns mw iq of b gy on ok l ol om">console.log(circle)<br/><strong class="of ir">&lt;&lt; { radius: 10 }</strong></span></pre><ul class=""><li id="3919" class="mh mi iq ky b kz la lc ld lf mj lj mk ln ml lr mm mn mo mp bi translated">最后，我们向它添加一个方法</li></ul><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="7ebb" class="ns mw iq of b gy oj ok l ol om">circle.grow =  function () {<br/>    this.radius++<br/>}</span></pre><p id="49dc" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看它是如何工作的？</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="b7db" class="ns mw iq of b gy oj ok l ol om">console.log(circle)<br/><strong class="of ir">&lt;&lt; { radius: 10, grow: [Function] }</strong></span><span id="fa69" class="ns mw iq of b gy on ok l ol om">circle.grow()<br/>console.log(circle)<br/><strong class="of ir">&lt;&lt; { radius: 11, grow: [Function] }</strong></span></pre><p id="fb84" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">在上面的例子中，我们从一个空对象开始，然后向它添加一个属性和一个方法(函数)。我们创建的对象总是可以修改的，除非我们另外指定。</p><blockquote class="ls"><p id="6821" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">请记住，JavaScript中的对象是动态的，这意味着它们可以在代码执行过程中的任何时候发生变化。</p></blockquote><h2 id="9f74" class="ns mw iq bd mx nt oo dn nb nv op dp nf lf oq ny nh lj or oa nj ln os oc nl od bi translated">使用内置构造函数</h2><p id="8f55" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">另一种方法是，我们可以使用内置的构造函数——Object()，但它是反模式的。现在已经不鼓励了。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="5e48" class="ns mw iq of b gy oj ok l ol om">// add an empty object<br/>var circle = new Object()<br/><br/>// add a property<br/>circle.radius = 10<br/><br/>// add a method<br/>circle.grow =  function () {<br/>    this.radius++<br/>}<br/><br/>console.log(circle)<br/><strong class="of ir">&lt;&lt; { radius: 10, grow: [Function] }</strong></span><span id="5133" class="ns mw iq of b gy on ok l ol om">circle.grow()<br/><br/>console.log(circle)<br/><strong class="of ir">{ radius: 11, grow: [Function] }</strong></span></pre><h2 id="9bff" class="ns mw iq bd mx nt nu dn nb nv nw dp nf lf nx ny nh lj nz oa nj ln ob oc nl od bi translated">使用自己的自定义构造函数</h2><p id="b0b4" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">除了前面的方法，我们还可以使用自己的自定义构造函数创建对象，如下例所示。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="d6cb" class="ns mw iq of b gy oj ok l ol om">var Circle = function(radius) {<br/><br/>    this.radius = radius<br/>    this.grow = function () {<br/>        this.radius ++<br/>    }<br/>}</span></pre><p id="8fbb" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">看看它是如何工作的？</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="9270" class="ns mw iq of b gy oj ok l ol om">firstCircle = new Circle(10)<br/>console.log(firstCircle)<br/><strong class="of ir">&lt;&lt; Circle { radius: 10, grow: [Function] }</strong></span><span id="c669" class="ns mw iq of b gy on ok l ol om">secondCircle = new Circle(12)<br/>console.log(secondCircle)<br/><strong class="of ir">&lt;&lt; Circle { radius: 12, grow: [Function] }</strong></span><span id="ceb0" class="ns mw iq of b gy on ok l ol om">secondCircle.grow()<br/>console.log(secondCircle)<br/><strong class="of ir">&lt;&lt; Circle { radius: 13, grow: [Function] }</strong></span></pre><p id="41fa" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">这里有一个低效的地方，如果我们在任何时候调用一个新的Circle(…)，就会在内存中创建一个新的grow()函数。我们可以使用prototype关键字来更好地改进代码。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="5751" class="ns mw iq of b gy oj ok l ol om">Circle.<strong class="of ir">prototype</strong>.grow = function () {<br/>        this.radius ++<br/>}</span></pre><h1 id="e952" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated"><strong class="ak">查找对象的属性</strong></h1><p id="ba1e" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">我们可以使用操作符中的<em class="ot">来测试一个属性的存在。</em>操作符中的<em class="ot">在特定对象中查找具有给定名称的属性，如果找到则返回true。</em></p><blockquote class="ls"><p id="f98b" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated"><em class="ou">记住，in操作符检查自己的属性和原型属性。</em></p></blockquote><p id="79ef" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">例如，当它用于检查circle对象中的某些属性时，会发生以下情况。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="bf29" class="ns mw iq of b gy oj ok l ol om">console.log(“radius” in circle)<br/><strong class="of ir">&lt;&lt; true</strong></span></pre><p id="e497" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">因为方法只是引用函数的属性，所以你可以用同样的方法。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="548a" class="ns mw iq of b gy oj ok l ol om">console.log(“grow” in circle)<br/><strong class="of ir">&lt;&lt; true</strong></span></pre><blockquote class="ls"><p id="46c0" class="lt lu iq bd lv lw ov ow ox oy oz lr dk translated">请记住，方法只是属性。</p></blockquote><p id="9926" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">为了确保只返回对象自己的属性，可以预先实现一个快速检查。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="06e7" class="ns mw iq of b gy oj ok l ol om">var key = "radius"<br/>if (circle.hasOwnProperty(key)) {<br/>    console.log(key + “: “ + circle[key])<br/>}<br/><strong class="of ir">&lt;&lt; radius: 10</strong></span></pre><p id="deec" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">通过toString()方法，是所有对象上都存在的原型属性。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="23d0" class="ns mw iq of b gy oj ok l ol om">console.log(circle.hasOwnProperty("toString"))<br/><strong class="of ir">&lt;&lt; false</strong></span></pre><h1 id="0a62" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">更新属性</h1><p id="2250" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">我们可以在任何时候使用赋值来改变属性的值。例如，我们可以像这样改变<em class="ot">半径</em>属性的值。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="1594" class="ns mw iq of b gy oj ok l ol om">circle.radius = 15<br/>console.log(circle)<br/><strong class="of ir">&lt;&lt; Circle { radius: 15, grow: [Function] }</strong></span></pre><h1 id="2915" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated"><strong class="ak">移除属性</strong></h1><p id="85f0" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">使用<code class="fe pa pb pc of b">delete</code>操作符可以从对象中删除任何属性。例如，如果我们想从<em class="ot"> circle </em>对象中删除<em class="ot"> grow </em>函数，我们将输入以下内容。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="52d2" class="ns mw iq of b gy oj ok l ol om">delete circle.grow<br/><strong class="of ir">&lt;&lt; true</strong></span><span id="aff1" class="ns mw iq of b gy on ok l ol om">console.log(circle)<br/><strong class="of ir">&lt;&lt; Circle { radius: 10 }</strong></span></pre><h1 id="10b1" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">如何防止对象修改？</h1><p id="d6ae" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">像属性一样，对象也有控制其行为的内部属性。其中一个属性是[[Extensible]]，它是一个布尔值，表示对象本身是否可以修改。默认情况下为true，这意味着可以随时向对象添加新属性。</p><p id="8d8a" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">您可以使用Object.isExtensible()来检查[[Extensible]]的值。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="5bfb" class="ns mw iq of b gy oj ok l ol om">Object.isExtensible(circle)<br/><strong class="of ir">&lt;&lt; true</strong></span></pre><p id="e86b" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">创建不可扩展对象的一种方法是使用Object.preventExtensions()。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="f68e" class="ns mw iq of b gy oj ok l ol om">Object.preventExtensions(circle)<br/>Object.isExtensible(circle)<br/><strong class="of ir">&lt;&lt; false</strong></span></pre><p id="a030" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">一旦你在一个对象上使用了这个方法，你就再也不能添加任何新的属性了。</p><pre class="kg kh ki kj gt oe of og oh aw oi bi"><span id="a079" class="ns mw iq of b gy oj ok l ol om">// add a method<br/>circle.shrink = function() {<br/>    circle.radius--<br/>}</span><span id="1078" class="ns mw iq of b gy on ok l ol om">// cannot add new methods<br/>console.log(circle)<br/><strong class="of ir">&lt;&lt; Circle { radius: 10, grow: [Function] }</strong></span></pre><h1 id="37cc" class="mv mw iq bd mx my mz na nb nc nd ne nf jw ng jx nh jz ni ka nj kc nk kd nl nm bi translated">删除对象</h1><p id="70ac" class="pw-post-body-paragraph kw kx iq ky b kz nn jr lb lc no ju le lf np lh li lj nq ll lm ln nr lp lq lr ij bi translated">在JavaScript中，你不能自己销毁一个对象，但是你可以把它标记为删除。<code class="fe pa pb pc of b">delete</code>操作符只删除一个引用，而不是对象本身。</p><blockquote class="ls"><p id="74fa" class="lt lu iq bd lv lw lx ly lz ma mb lr dk translated">请记住，你不能自己摧毁一个物体。使用<code class="fe pa pb pc of b"><strong class="ak">delete</strong></code>关键字将删除对该属性的引用。</p></blockquote><p id="8126" class="pw-post-body-paragraph kw kx iq ky b kz mc jr lb lc md ju le lf me lh li lj mf ll lm ln mg lp lq lr ij bi translated">要做到这一点，您需要理解当一个对象上的所有引用被移除时，该对象将被自动删除。</p><p id="6df1" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">很简单，对吧？希望我已经涵盖了一切。</p><div class="pd pe gp gr pf pg"><a href="https://www.datadriveninvestor.com/2020/03/29/microsoft-having-an-edge-over-chrome/" rel="noopener  ugc nofollow" target="_blank"><div class="ph ab fo"><div class="pi ab pj cl cj pk"><h2 class="bd ir gy z fp pl fr fs pm fu fw ip bi translated">数据驱动的投资者|微软比Chrome有“优势”</h2><div class="pn l"><h3 class="bd b gy z fp pl fr fs pm fu fw dk translated">简史我从来不是浏览器的粉丝，确切地说，我只是一个浏览器的粉丝，Chrome。这是我的…</h3></div><div class="po l"><p class="bd b dl z fp pl fr fs pm fu fw dk translated">www.datadriveninvestor.com</p></div></div><div class="pp l"><div class="pq l pr ps pt pp pu kp pg"/></div></div></a></div></div><div class="ab cl pv pw hu px" role="separator"><span class="py bw bk pz qa qb"/><span class="py bw bk pz qa qb"/><span class="py bw bk pz qa"/></div><div class="ij ik il im in"><p id="e2a8" class="pw-post-body-paragraph kw kx iq ky b kz la jr lb lc ld ju le lf lg lh li lj lk ll lm ln lo lp lq lr ij bi translated">感谢阅读😘，再见👋，别忘了👏最多50次并跟随！</p><figure class="kg kh ki kj gt kk"><div class="bz fp l di"><div class="qc qd l"/></div></figure></div></div>    
</body>
</html>